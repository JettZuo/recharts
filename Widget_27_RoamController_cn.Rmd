---
title: "控件Widget 27 - 地图漫游RoamController"
output: 
  html_document: 
    number_sections: yes
    toc: yes
    toc_depth: 4
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

首先，加载`recharts`:
```{r}
library(recharts)
```

# 介绍Introduction

地图漫游仅用于地图。默认放置在2点钟位。如果地图初始就设置为可以缩放和移动，地图漫游的作用就并不大。

建议用`chart %>% setRoam(...)`形式调用`setRoam`.

# 用法Function Call

```r
setRoam(chart, show = TRUE, pos = 2, width = 80, height = 120,
  bgColor = "rgba(0,0,0,0)", borderColor = "#ccc", borderWidth = 0,
  fillerColor = "#fff", handleColor = "#6495ed", step = 15,
  mapTypeControl = NULL, ...)
```

+--------------+---------------------------------------------------------------+
|   参数       | 要求                                           |
+==============+===============================================================+
| **chart**    | `echartR`或`echart`创建的Echarts对象.  |
+--------------+---------------------------------------------------------------+
| show         | 逻辑型，是否显示地图漫游。默认为TRUE。如要把地图漫游部件整体从Echarts对象中移除，设为NULL.  |
+--------------+---------------------------------------------------------------+
| pos          | 地图漫游的时钟方位，默认为2，参见`vecPos`。也可以自定义方位向量`c(x, y, orient)`. |
+--------------+---------------------------------------------------------------+
| width        | 地图漫游控件宽度，默认为80px. |
+--------------+---------------------------------------------------------------+
| height       | 地图漫游控件高度，默认为120px. |
+--------------+---------------------------------------------------------------+
| bgColor      | 背景色，默认透明('rgba(0,0,0,0)'). |
+--------------+---------------------------------------------------------------+
| borderColor  | 边框色，默认为'#ccc'. |
+--------------+---------------------------------------------------------------+
| borderWidth  | 边款宽度，默认为0px (不显示). |
+--------------+---------------------------------------------------------------+
| fillerColor  | 填充色，默认为'#fff'. |
+--------------+---------------------------------------------------------------+
| handleColor  | 手柄颜色，默认为'#6495ed'. |
+--------------+---------------------------------------------------------------+
| step         | 每次单击移动的幅度，默认为15px. |
+--------------+---------------------------------------------------------------+
|mapTypeControl| 地图漫游控件控制的地图列表，如`list(china=TRUE)`. 默认为NULL，即自动计算。 |
+--------------+---------------------------------------------------------------+
| ...          | 省略号 |
+--------------+---------------------------------------------------------------+

# 举例Showcase

```{r}
g <- echartr(NULL, type='map_china')
g
```

初始不显示地图漫游，可以打开。
```{r}
g %>% setRoam(show=TRUE)
```

移动地图漫游。
```{r}
g %>% setRoam(pos=8)
```

自定义格式。
```{r}
g %>% setRoam(bgColor='darkgray', fillerColor='white', handleColor='black')
```

重新设置mapTypeControl，地图漫游对中国地图不再有效。
```{r}
g %>% setRoam(mapTypeControl=list(world=TRUE))
```

# 参考资料

<http://echarts.baidu.com/echarts2/doc/option.html#title~roamController>
