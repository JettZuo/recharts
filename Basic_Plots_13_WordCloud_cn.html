<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>基础图形Basic Plots 21 - 词云WordCloud</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<link href="libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="libs/highlightjs-1.1/highlight.js"></script>
<script src="libs/htmlwidgets-0.8/htmlwidgets.js"></script>
<script src="libs/echarts-2.2.7/echarts-all.js"></script>
<script src="libs/charts-ext-2.2.7/main.js"></script>
<script src="libs/charts-ext-2.2.7/BMap.js"></script>
<script src="libs/echarts-binding-0.2/echarts.js"></script>
<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 70px;
}
p code {
  white-space: inherit;
}
.html-widget-static-bound {
  margin: auto;
}
.alert>p {
  margin-bottom: 10.5px;
}
</style>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="./">recharts</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="./">Home</a></li>
        <li><a href="index_cn.html">首页</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/madlogos/recharts" title="View Source on Github"><i class="fa fa-github fa-lg"></i></a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</nav><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">基础图形Basic Plots 21 - 词云WordCloud</h1>

</div>


<p>首先，加载<code>recharts</code>:</p>
<pre class="r"><code>library(recharts)</code></pre>
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> 介绍Introduction</h1>
<p>词云只有一种类型: wordCloud</p>
<table id='intro'>
<tr>
<td>
<div id="htmlwidget-6c680023f38bf87f5f27" style="width:400px;height:300px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-6c680023f38bf87f5f27">{"x":{"series":[{"data":[{"name":"3苹果卖39888元","value":73943,"itemStyle":{"normal":{"color":"#30e0e0"}}},{"name":"7万元娶越南新娘","value":15706,"itemStyle":{"normal":{"color":"#cd5c5c"}}},{"name":"北电新校区开工","value":8952,"itemStyle":{"normal":{"color":"#6b8e23"}}},{"name":"短信直播自杀","value":18682,"itemStyle":{"normal":{"color":"#40e0d0"}}},{"name":"俄失联军机坠毁","value":49779,"itemStyle":{"normal":{"color":"#ff69b4"}}},{"name":"干部扇老师耳光","value":2470,"itemStyle":{"normal":{"color":"#40e0d0"}}},{"name":"高铁跳站乘客滞留","value":2035,"itemStyle":{"normal":{"color":"#6b8e23"}}},{"name":"官员洗脚花万元","value":16292,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"虹桥一姐身世曝光","value":26055,"itemStyle":{"normal":{"color":"#1e90ff"}}},{"name":"护士戏弄危重老人","value":11920,"itemStyle":{"normal":{"color":"#1e90ff"}}},{"name":"驾面包车撞奥迪","value":3395,"itemStyle":{"normal":{"color":"#3cb371"}}},{"name":"开挖掘机抢银行","value":4209,"itemStyle":{"normal":{"color":"#00fa9a"}}},{"name":"卢广仲演出被取消","value":39885,"itemStyle":{"normal":{"color":"#ff00ff"}}},{"name":"罗一笑去世","value":6980,"itemStyle":{"normal":{"color":"#ff69b4"}}},{"name":"男孩获钢铁侠义肢","value":7088,"itemStyle":{"normal":{"color":"#40e0d0"}}},{"name":"千吨垃圾倾倒长江","value":6186,"itemStyle":{"normal":{"color":"#ff69b4"}}},{"name":"人大代表建活人墓","value":22291,"itemStyle":{"normal":{"color":"#cd5c5c"}}},{"name":"摔砸环卫工手机","value":1862,"itemStyle":{"normal":{"color":"#ba55d3"}}},{"name":"送餐员抢路虎埋尸","value":36056,"itemStyle":{"normal":{"color":"#ff6347"}}},{"name":"汤圆吃出钢丝索赔","value":14344,"itemStyle":{"normal":{"color":"#ba55d3"}}},{"name":"王菲演唱会崩盘","value":98726,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"王凯否认恋陈乔恩","value":10236,"itemStyle":{"normal":{"color":"#00fa9a"}}},{"name":"武大校花拍戏被砸","value":2572,"itemStyle":{"normal":{"color":"#ffa500"}}},{"name":"徐若瑄夫妇同框","value":42866,"itemStyle":{"normal":{"color":"#b8860b"}}},{"name":"杨千嬅余文乐相聚","value":18208,"itemStyle":{"normal":{"color":"#ff00ff"}}},{"name":"姚笛圣诞晒自拍照","value":2387,"itemStyle":{"normal":{"color":"#00fa9a"}}},{"name":"药价高回扣回应","value":2300,"itemStyle":{"normal":{"color":"#b8860b"}}},{"name":"英语试题性别歧视","value":3059,"itemStyle":{"normal":{"color":"#40e0d0"}}},{"name":"袁惟仁签字离婚","value":9878,"itemStyle":{"normal":{"color":"#ff69b4"}}},{"name":"nba圣诞大战","value":125455,"itemStyle":{"normal":{"color":"#40e0d0"}}}],"textRotation":[0,-45,-90,45,90],"type":"wordCloud","size":["80%","80%"]}],"xAxis":[{"type":"category","show":false,"position":"bottom","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["nba圣诞大战","王菲演唱会崩盘","3苹果卖39888元","俄失联军机坠毁","徐若瑄夫妇同框","卢广仲演出被取消","送餐员抢路虎埋尸","虹桥一姐身世曝光","人大代表建活人墓","短信直播自杀","杨千嬅余文乐相聚","官员洗脚花万元","7万元娶越南新娘","汤圆吃出钢丝索赔","护士戏弄危重老人","王凯否认恋陈乔恩","袁惟仁签字离婚","北电新校区开工","男孩获钢铁侠义肢","罗一笑去世","千吨垃圾倾倒长江","开挖掘机抢银行","驾面包车撞奥迪","英语试题性别歧视","武大校花拍戏被砸","干部扇老师耳光","姚笛圣诞晒自拍照","药价高回扣回应","高铁跳站乘客滞留","摔砸环卫工手机"]}],"yAxis":[{"type":"value","show":false,"position":"left","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"grid":{"borderWidth":0},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"theme":"infographic"},"evals":[],"jsHooks":[]}</script>
</td>
<td>
</table>
<p>关键是:</p>
<ul>
<li>文本型<code>x</code>，词列表</li>
<li>数值型<code>y</code>，词汇的频数</li>
<li><code>series</code>与图例无关联，而与颜色关联</li>
</ul>
</div>
<div id="function-call" class="section level1">
<h1><span class="header-section-number">2</span> 用法Function Call</h1>
<pre class="r"><code>echartr(data, x, y, &lt;t&gt;, &lt;type&gt;)</code></pre>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th>参数</th>
<th>要求</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>data</strong></p></td>
<td><p>数据框格式的源数据</p></td>
</tr>
<tr class="even">
<td><p><strong>x</strong></p></td>
<td><p>文本型自变量，其他类型会被转为因子。如提供多个变量，只传入第一个。</p></td>
</tr>
<tr class="odd">
<td><p><strong>y</strong></p></td>
<td><p>数值型应变量。如提供多个变量，只传入第一个。</p></td>
</tr>
<tr class="even">
<td><p>series</p></td>
<td><p>数据系列变量，转为因子后计算。如提供多个变量，只传入第一个。</p></td>
</tr>
<tr class="odd">
<td><p>t</p></td>
<td><p>时间轴变量，转为因子后计算。如提供多个变量，只传入第一个。</p></td>
</tr>
<tr class="even">
<td><p>type</p></td>
<td><p>‘wordCloud’</p></td>
</tr>
</tbody>
</table>
</div>
<div id="showcase" class="section level1">
<h1><span class="header-section-number">3</span> 举例Showcase</h1>
<div id="data-preparation" class="section level2">
<h2><span class="header-section-number">3.1</span> 数据准备Data Preparation</h2>
<p>从百度热词榜获取热词，并解析为数据框，包含热词和频数。</p>
<p>为此构建一个函数<code>getBaiduHot</code>，解析_百度热词趋势_ 网页。</p>
<pre class="r"><code>getBaiduHot &lt;- function(url, top=30, HTMLencoding=NULL){
    baiduhot &lt;- paste0(readLines(url), collapse=&quot;&quot;)
    charset &lt;- gsub(&#39;^.+charset=([[:alnum:]-]+?)[^[:alnum:]-].+$&#39;, &quot;\\1&quot;, 
                    baiduhot)
    if (is.null(HTMLencoding)) if (!is.null(charset)) HTMLencoding &lt;- charset
    baiduhot &lt;- stringr::str_conv(baiduhot, HTMLencoding)
    hotword &lt;- gsub(&quot;.+?&lt;a class=\&quot;list-title\&quot;[^&gt;]+?&gt;([^&lt;&gt;]+?)&lt;/a&gt;.+?&lt;span class=\&quot;icon-(rise|fair|fall)\&quot;&gt;(\\d+?)&lt;/span&gt;.+?&quot;,&quot;\\1\t\\3\t\\2\t&quot;, baiduhot)
    hotword &lt;- enc2native(gsub(&quot;^(.+?)\t{4,}.+$&quot;,&quot;\\1&quot;, hotword))
    hotword &lt;- t(matrix(unlist(strsplit(hotword,&quot;\t&quot;)), nrow=3))
    hotword &lt;- as.data.frame(hotword, stringsAsFactors=FALSE)
    names(hotword) &lt;- c(&quot;Keyword&quot;, &quot;Freq&quot;, &quot;Trend&quot;)
    hotword$Freq &lt;- as.numeric(hotword$Freq)
    hotword &lt;- hotword[order(hotword$Freq, decreasing=TRUE),]
    return(hotword[1:top,])
}
hotword &lt;- getBaiduHot(&quot;http://top.baidu.com/buzz?b=1&quot;, HTMLencoding=&#39;GBK&#39;)
knitr::kable(hotword)</code></pre>
<table>
<thead>
<tr class="header">
<th></th>
<th align="left">Keyword</th>
<th align="right">Freq</th>
<th align="left">Trend</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>28</td>
<td align="left">nba圣诞大战</td>
<td align="right">125455</td>
<td align="left">rise</td>
</tr>
<tr class="even">
<td>6</td>
<td align="left">王菲演唱会崩盘</td>
<td align="right">98726</td>
<td align="left">fall</td>
</tr>
<tr class="odd">
<td>8</td>
<td align="left">3苹果卖39888元</td>
<td align="right">73943</td>
<td align="left">fall</td>
</tr>
<tr class="even">
<td>49</td>
<td align="left">俄失联军机坠毁</td>
<td align="right">49779</td>
<td align="left">fall</td>
</tr>
<tr class="odd">
<td>32</td>
<td align="left">徐若瑄夫妇同框</td>
<td align="right">42866</td>
<td align="left">rise</td>
</tr>
<tr class="even">
<td>23</td>
<td align="left">卢广仲演出被取消</td>
<td align="right">39885</td>
<td align="left">fall</td>
</tr>
<tr class="odd">
<td>11</td>
<td align="left">送餐员抢路虎埋尸</td>
<td align="right">36056</td>
<td align="left">fall</td>
</tr>
<tr class="even">
<td>7</td>
<td align="left">虹桥一姐身世曝光</td>
<td align="right">26055</td>
<td align="left">rise</td>
</tr>
<tr class="odd">
<td>24</td>
<td align="left">人大代表建活人墓</td>
<td align="right">22291</td>
<td align="left">fall</td>
</tr>
<tr class="even">
<td>14</td>
<td align="left">短信直播自杀</td>
<td align="right">18682</td>
<td align="left">fall</td>
</tr>
<tr class="odd">
<td>1</td>
<td align="left">杨千嬅余文乐相聚</td>
<td align="right">18208</td>
<td align="left">fall</td>
</tr>
<tr class="even">
<td>3</td>
<td align="left">官员洗脚花万元</td>
<td align="right">16292</td>
<td align="left">rise</td>
</tr>
<tr class="odd">
<td>17</td>
<td align="left">7万元娶越南新娘</td>
<td align="right">15706</td>
<td align="left">fall</td>
</tr>
<tr class="even">
<td>25</td>
<td align="left">汤圆吃出钢丝索赔</td>
<td align="right">14344</td>
<td align="left">fall</td>
</tr>
<tr class="odd">
<td>15</td>
<td align="left">护士戏弄危重老人</td>
<td align="right">11920</td>
<td align="left">fair</td>
</tr>
<tr class="even">
<td>20</td>
<td align="left">王凯否认恋陈乔恩</td>
<td align="right">10236</td>
<td align="left">fall</td>
</tr>
<tr class="odd">
<td>10</td>
<td align="left">袁惟仁签字离婚</td>
<td align="right">9878</td>
<td align="left">fall</td>
</tr>
<tr class="even">
<td>48</td>
<td align="left">北电新校区开工</td>
<td align="right">8952</td>
<td align="left">fall</td>
</tr>
<tr class="odd">
<td>18</td>
<td align="left">男孩获钢铁侠义肢</td>
<td align="right">7088</td>
<td align="left">fall</td>
</tr>
<tr class="even">
<td>21</td>
<td align="left">罗一笑去世</td>
<td align="right">6980</td>
<td align="left">fall</td>
</tr>
<tr class="odd">
<td>22</td>
<td align="left">千吨垃圾倾倒长江</td>
<td align="right">6186</td>
<td align="left">fall</td>
</tr>
<tr class="even">
<td>37</td>
<td align="left">开挖掘机抢银行</td>
<td align="right">4209</td>
<td align="left">fall</td>
</tr>
<tr class="odd">
<td>45</td>
<td align="left">驾面包车撞奥迪</td>
<td align="right">3395</td>
<td align="left">fall</td>
</tr>
<tr class="even">
<td>4</td>
<td align="left">英语试题性别歧视</td>
<td align="right">3059</td>
<td align="left">rise</td>
</tr>
<tr class="odd">
<td>9</td>
<td align="left">武大校花拍戏被砸</td>
<td align="right">2572</td>
<td align="left">fall</td>
</tr>
<tr class="even">
<td>2</td>
<td align="left">干部扇老师耳光</td>
<td align="right">2470</td>
<td align="left">fall</td>
</tr>
<tr class="odd">
<td>29</td>
<td align="left">姚笛圣诞晒自拍照</td>
<td align="right">2387</td>
<td align="left">fall</td>
</tr>
<tr class="even">
<td>42</td>
<td align="left">药价高回扣回应</td>
<td align="right">2300</td>
<td align="left">rise</td>
</tr>
<tr class="odd">
<td>40</td>
<td align="left">高铁跳站乘客滞留</td>
<td align="right">2035</td>
<td align="left">fall</td>
</tr>
<tr class="even">
<td>36</td>
<td align="left">摔砸环卫工手机</td>
<td align="right">1862</td>
<td align="left">fall</td>
</tr>
</tbody>
</table>
</div>
<div id="basic-plot" class="section level2">
<h2><span class="header-section-number">3.2</span> 基本图形Basic Plot</h2>
<p>只要提供<code>x</code>和<code>y</code>。</p>
<pre class="r"><code>echartr(hotword, Keyword, Freq, type=&#39;wordCloud&#39;) %&gt;% 
    setTitle(&#39;Baidu Hot Word Top30 (realtime)&#39;, as.character(Sys.time()))</code></pre>
<div id="htmlwidget-3c4eddf73d9dd5355f02" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-3c4eddf73d9dd5355f02">{"x":{"series":[{"data":[{"name":"3苹果卖39888元","value":73943,"itemStyle":{"normal":{"color":"#ffa500"}}},{"name":"7万元娶越南新娘","value":15706,"itemStyle":{"normal":{"color":"#ffa500"}}},{"name":"北电新校区开工","value":8952,"itemStyle":{"normal":{"color":"#ff7f50"}}},{"name":"短信直播自杀","value":18682,"itemStyle":{"normal":{"color":"#da70d6"}}},{"name":"俄失联军机坠毁","value":49779,"itemStyle":{"normal":{"color":"#30e0e0"}}},{"name":"干部扇老师耳光","value":2470,"itemStyle":{"normal":{"color":"#1e90ff"}}},{"name":"高铁跳站乘客滞留","value":2035,"itemStyle":{"normal":{"color":"#30e0e0"}}},{"name":"官员洗脚花万元","value":16292,"itemStyle":{"normal":{"color":"#40e0d0"}}},{"name":"虹桥一姐身世曝光","value":26055,"itemStyle":{"normal":{"color":"#cd5c5c"}}},{"name":"护士戏弄危重老人","value":11920,"itemStyle":{"normal":{"color":"#32cd32"}}},{"name":"驾面包车撞奥迪","value":3395,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"开挖掘机抢银行","value":4209,"itemStyle":{"normal":{"color":"#ba55d3"}}},{"name":"卢广仲演出被取消","value":39885,"itemStyle":{"normal":{"color":"#3cb371"}}},{"name":"罗一笑去世","value":6980,"itemStyle":{"normal":{"color":"#30e0e0"}}},{"name":"男孩获钢铁侠义肢","value":7088,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"千吨垃圾倾倒长江","value":6186,"itemStyle":{"normal":{"color":"#7b68ee"}}},{"name":"人大代表建活人墓","value":22291,"itemStyle":{"normal":{"color":"#ff00ff"}}},{"name":"摔砸环卫工手机","value":1862,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"送餐员抢路虎埋尸","value":36056,"itemStyle":{"normal":{"color":"#cd5c5c"}}},{"name":"汤圆吃出钢丝索赔","value":14344,"itemStyle":{"normal":{"color":"#ff7f50"}}},{"name":"王菲演唱会崩盘","value":98726,"itemStyle":{"normal":{"color":"#3cb371"}}},{"name":"王凯否认恋陈乔恩","value":10236,"itemStyle":{"normal":{"color":"#ffa500"}}},{"name":"武大校花拍戏被砸","value":2572,"itemStyle":{"normal":{"color":"#ff6347"}}},{"name":"徐若瑄夫妇同框","value":42866,"itemStyle":{"normal":{"color":"#30e0e0"}}},{"name":"杨千嬅余文乐相聚","value":18208,"itemStyle":{"normal":{"color":"#b8860b"}}},{"name":"姚笛圣诞晒自拍照","value":2387,"itemStyle":{"normal":{"color":"#ff00ff"}}},{"name":"药价高回扣回应","value":2300,"itemStyle":{"normal":{"color":"#ba55d3"}}},{"name":"英语试题性别歧视","value":3059,"itemStyle":{"normal":{"color":"#ff6347"}}},{"name":"袁惟仁签字离婚","value":9878,"itemStyle":{"normal":{"color":"#7b68ee"}}},{"name":"nba圣诞大战","value":125455,"itemStyle":{"normal":{"color":"#ff00ff"}}}],"textRotation":[0,-45,-90,45,90],"type":"wordCloud","size":["80%","80%"]}],"xAxis":[{"type":"category","show":false,"position":"bottom","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["nba圣诞大战","王菲演唱会崩盘","3苹果卖39888元","俄失联军机坠毁","徐若瑄夫妇同框","卢广仲演出被取消","送餐员抢路虎埋尸","虹桥一姐身世曝光","人大代表建活人墓","短信直播自杀","杨千嬅余文乐相聚","官员洗脚花万元","7万元娶越南新娘","汤圆吃出钢丝索赔","护士戏弄危重老人","王凯否认恋陈乔恩","袁惟仁签字离婚","北电新校区开工","男孩获钢铁侠义肢","罗一笑去世","千吨垃圾倾倒长江","开挖掘机抢银行","驾面包车撞奥迪","英语试题性别歧视","武大校花拍戏被砸","干部扇老师耳光","姚笛圣诞晒自拍照","药价高回扣回应","高铁跳站乘客滞留","摔砸环卫工手机"]}],"yAxis":[{"type":"value","show":false,"position":"left","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"grid":{"borderWidth":0},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"Baidu Hot Word Top30 (realtime)","subtext":"2016-12-26 23:02:43","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="color-by-series" class="section level2">
<h2><span class="header-section-number">3.3</span> 按数据系列着色Color by Series</h2>
<p>我们希望将热词分组。定义一个<code>series</code>变量’Trend’。’rise’系列和’fall’系列用不同的颜色标注。</p>
<pre class="r"><code>echartr(hotword, Keyword, Freq, Trend, type=&#39;wordCloud&#39;) %&gt;% 
    setTitle(&#39;Baidu Hot Word Top30 (realtime)&#39;, as.character(Sys.time()))</code></pre>
<div id="htmlwidget-e47197f9e6d454929acc" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-e47197f9e6d454929acc">{"x":{"series":[{"data":[{"name":"3苹果卖39888元","value":73943,"itemStyle":{"normal":{"color":"#da70d6"}}},{"name":"7万元娶越南新娘","value":15706,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"北电新校区开工","value":8952,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"短信直播自杀","value":18682,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"俄失联军机坠毁","value":49779,"itemStyle":{"normal":{"color":"#da70d6"}}},{"name":"干部扇老师耳光","value":2470,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"高铁跳站乘客滞留","value":2035,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"官员洗脚花万元","value":16292,"itemStyle":{"normal":{"color":"#da70d6"}}},{"name":"虹桥一姐身世曝光","value":26055,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"护士戏弄危重老人","value":11920,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"驾面包车撞奥迪","value":3395,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"开挖掘机抢银行","value":4209,"itemStyle":{"normal":{"color":"#da70d6"}}},{"name":"卢广仲演出被取消","value":39885,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"罗一笑去世","value":6980,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"男孩获钢铁侠义肢","value":7088,"itemStyle":{"normal":{"color":"#ff7f50"}}},{"name":"千吨垃圾倾倒长江","value":6186,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"人大代表建活人墓","value":22291,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"摔砸环卫工手机","value":1862,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"送餐员抢路虎埋尸","value":36056,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"汤圆吃出钢丝索赔","value":14344,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"王菲演唱会崩盘","value":98726,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"王凯否认恋陈乔恩","value":10236,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"武大校花拍戏被砸","value":2572,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"徐若瑄夫妇同框","value":42866,"itemStyle":{"normal":{"color":"#da70d6"}}},{"name":"杨千嬅余文乐相聚","value":18208,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"姚笛圣诞晒自拍照","value":2387,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"药价高回扣回应","value":2300,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"英语试题性别歧视","value":3059,"itemStyle":{"normal":{"color":"#da70d6"}}},{"name":"袁惟仁签字离婚","value":9878,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"nba圣诞大战","value":125455,"itemStyle":{"normal":{"color":"#87cefa"}}}],"textRotation":[0,-45,45,90],"type":"wordCloud","size":["80%","80%"]}],"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"xAxis":[{"type":"category","show":false,"position":"bottom","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["nba圣诞大战","王菲演唱会崩盘","3苹果卖39888元","俄失联军机坠毁","徐若瑄夫妇同框","卢广仲演出被取消","送餐员抢路虎埋尸","虹桥一姐身世曝光","人大代表建活人墓","短信直播自杀","杨千嬅余文乐相聚","官员洗脚花万元","7万元娶越南新娘","汤圆吃出钢丝索赔","护士戏弄危重老人","王凯否认恋陈乔恩","袁惟仁签字离婚","北电新校区开工","男孩获钢铁侠义肢","罗一笑去世","千吨垃圾倾倒长江","开挖掘机抢银行","驾面包车撞奥迪","英语试题性别歧视","武大校花拍戏被砸","干部扇老师耳光","姚笛圣诞晒自拍照","药价高回扣回应","高铁跳站乘客滞留","摔砸环卫工手机"]}],"yAxis":[{"type":"value","show":false,"position":"left","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"grid":{"borderWidth":0},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"title":{"text":"Baidu Hot Word Top30 (realtime)","subtext":"2016-12-26 23:02:44","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="with-timeline" class="section level2">
<h2><span class="header-section-number">3.4</span> 带时间轴With Timeline</h2>
<p>比较实时、今日和七日热词趋势。</p>
<p>首先，获取今日和七日两个榜单的网页并转为数据框，合并。</p>
<pre class="r"><code>hotword$t &lt;- &#39;Realtime&#39;
hotword1 &lt;- getBaiduHot(&quot;http://top.baidu.com/buzz?b=341&amp;fr=topbuzz_b1&quot;)</code></pre>
<pre><code>## Warning in stri_conv(string, encoding, &quot;UTF-8&quot;): input data \xffffffd5 in
## current source encoding could not be converted to Unicode</code></pre>
<pre class="r"><code>hotword1$t &lt;- &#39;Today&#39;
hotword2 &lt;- getBaiduHot(&quot;http://top.baidu.com/buzz?b=42&amp;c=513&amp;fr=topbuzz_b341&quot;)
hotword2$t &lt;- &#39;7-days&#39;
hotword &lt;- do.call(&#39;rbind&#39;, list(hotword, hotword1, hotword2))
hotword$t &lt;- factor(hotword$t, levels=c(&#39;Realtime&#39;, &#39;Today&#39;, &#39;7-days&#39;))</code></pre>
<p>然后作图。</p>
<pre class="r"><code>g &lt;- echartr(hotword, Keyword, Freq, t=t, type=&#39;wordCloud&#39;) %&gt;% 
    setTitle(&#39;Baidu Hot Word Top30&#39;)
g</code></pre>
<div id="htmlwidget-093f21dd32e93c2fac32" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-093f21dd32e93c2fac32">{"x":{"timeline":{"type":"number","data":["Realtime","Today","7-days"],"x":80,"x2":80,"y2":50},"options":[{"series":[{"data":[{"name":"3苹果卖39888元","value":73943,"itemStyle":{"normal":{"color":"#ff7f50"}}},{"name":"7万元娶越南新娘","value":15706,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"北电新校区开工","value":8952,"itemStyle":{"normal":{"color":"#da70d6"}}},{"name":"短信直播自杀","value":18682,"itemStyle":{"normal":{"color":"#3cb371"}}},{"name":"俄失联军机坠毁","value":49779,"itemStyle":{"normal":{"color":"#32cd32"}}},{"name":"干部扇老师耳光","value":2470,"itemStyle":{"normal":{"color":"#b8860b"}}},{"name":"高铁跳站乘客滞留","value":2035,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"官员洗脚花万元","value":16292,"itemStyle":{"normal":{"color":"#32cd32"}}},{"name":"虹桥一姐身世曝光","value":26055,"itemStyle":{"normal":{"color":"#00fa9a"}}},{"name":"护士戏弄危重老人","value":11920,"itemStyle":{"normal":{"color":"#32cd32"}}},{"name":"驾面包车撞奥迪","value":3395,"itemStyle":{"normal":{"color":"#ff69b4"}}},{"name":"开挖掘机抢银行","value":4209,"itemStyle":{"normal":{"color":"#cd5c5c"}}},{"name":"卢广仲演出被取消","value":39885,"itemStyle":{"normal":{"color":"#ba55d3"}}},{"name":"罗一笑去世","value":6980,"itemStyle":{"normal":{"color":"#30e0e0"}}},{"name":"男孩获钢铁侠义肢","value":7088,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"千吨垃圾倾倒长江","value":6186,"itemStyle":{"normal":{"color":"#3cb371"}}},{"name":"人大代表建活人墓","value":22291,"itemStyle":{"normal":{"color":"#30e0e0"}}},{"name":"摔砸环卫工手机","value":1862,"itemStyle":{"normal":{"color":"#ff00ff"}}},{"name":"送餐员抢路虎埋尸","value":36056,"itemStyle":{"normal":{"color":"#30e0e0"}}},{"name":"汤圆吃出钢丝索赔","value":14344,"itemStyle":{"normal":{"color":"#7b68ee"}}},{"name":"王菲演唱会崩盘","value":98726,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"王凯否认恋陈乔恩","value":10236,"itemStyle":{"normal":{"color":"#ffd700"}}},{"name":"武大校花拍戏被砸","value":2572,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"徐若瑄夫妇同框","value":42866,"itemStyle":{"normal":{"color":"#cd5c5c"}}},{"name":"杨千嬅余文乐相聚","value":18208,"itemStyle":{"normal":{"color":"#ff69b4"}}},{"name":"姚笛圣诞晒自拍照","value":2387,"itemStyle":{"normal":{"color":"#30e0e0"}}},{"name":"药价高回扣回应","value":2300,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"英语试题性别歧视","value":3059,"itemStyle":{"normal":{"color":"#ffd700"}}},{"name":"袁惟仁签字离婚","value":9878,"itemStyle":{"normal":{"color":"#da70d6"}}},{"name":"nba圣诞大战","value":125455,"itemStyle":{"normal":{"color":"#87cefa"}}}],"textRotation":[0,-45,-90,45,90],"type":"wordCloud","size":["80%","80%"]}],"xAxis":[{"type":"category","show":false,"position":"bottom","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["nba圣诞大战","王菲演唱会崩盘","3苹果卖39888元","俄失联军机坠毁","徐若瑄夫妇同框","卢广仲演出被取消","送餐员抢路虎埋尸","虹桥一姐身世曝光","人大代表建活人墓","短信直播自杀","杨千嬅余文乐相聚","官员洗脚花万元","7万元娶越南新娘","汤圆吃出钢丝索赔","护士戏弄危重老人","王凯否认恋陈乔恩","袁惟仁签字离婚","北电新校区开工","男孩获钢铁侠义肢","罗一笑去世","千吨垃圾倾倒长江","开挖掘机抢银行","驾面包车撞奥迪","英语试题性别歧视","武大校花拍戏被砸","干部扇老师耳光","姚笛圣诞晒自拍照","药价高回扣回应","高铁跳站乘客滞留","摔砸环卫工手机","直播自慰被判刑","大雁塔拍裸体写真","林允暴瘦现身机场","baby挺肚爬城墙","保妻放弃三胞胎","小学生群卖黄片","迪士尼表演出意外","班主任饭局摸女生","一夜将现千万富豪","拎8万元街头送人","梁朝伟为缺席致歉","半夜开震楼器","摆渡人","景甜回应背景说","僵尸车被塞进假人","大妈帮农民工抢票","15年生8个女儿","王思聪调侃李易峰","黄子韬机场昏倒","送女儿当人肉炸弹","王俊凯登富豪榜","平安夜祝福语","雨雪袭中东部","内地男遭外籍匪徒","李娜二胎生子","习近平会见梁振英","台名嘴曝荒淫派对","宋智孝被下车大哭","官微发色情广告","停止英语等级考试","内裤涂剧毒致死","23岁女孩被抢走","大三女生遭杀害","女子被绑水泥沉尸","六小龄童遇别车","蔡国庆老婆曝光","郑爽霸屏纽约广场","广外女生被割喉","赵丽颖被酸学历低","蒋欣晒出床照","何洁好友证实离婚","央春晚拒问题明星","蔡依林与锦荣分手","农历鸡年有384天","因破坏军婚被判刑","梅艳芳妈想领遗产"]}],"yAxis":[{"type":"value","show":false,"position":"left","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"grid":{"borderWidth":0},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"Baidu Hot Word Top30 (t: Realtime)","x":"center","y":"bottom","orient":"horizontal"}},{"series":[{"data":[{"name":"15年生8个女儿","value":36116,"itemStyle":{"normal":{"color":"#da70d6"}}},{"name":"摆渡人","value":51097,"itemStyle":{"normal":{"color":"#40e0d0"}}},{"name":"班主任饭局摸女生","value":85590,"itemStyle":{"normal":{"color":"#7b68ee"}}},{"name":"半夜开震楼器","value":52181,"itemStyle":{"normal":{"color":"#ff6347"}}},{"name":"保妻放弃三胞胎","value":122592,"itemStyle":{"normal":{"color":"#ff00ff"}}},{"name":"大妈帮农民工抢票","value":40201,"itemStyle":{"normal":{"color":"#ffd700"}}},{"name":"大雁塔拍裸体写真","value":145821,"itemStyle":{"normal":{"color":"#30e0e0"}}},{"name":"迪士尼表演出意外","value":104438,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"护士戏弄危重老人","value":145287,"itemStyle":{"normal":{"color":"#3cb371"}}},{"name":"黄子韬机场昏倒","value":30137,"itemStyle":{"normal":{"color":"#30e0e0"}}},{"name":"僵尸车被塞进假人","value":42502,"itemStyle":{"normal":{"color":"#87cefa"}}},{"name":"景甜回应背景说","value":45396,"itemStyle":{"normal":{"color":"#ba55d3"}}},{"name":"李娜二胎生子","value":21386,"itemStyle":{"normal":{"color":"#ff00ff"}}},{"name":"梁朝伟为缺席致歉","value":56384,"itemStyle":{"normal":{"color":"#b8860b"}}},{"name":"拎8万元街头送人","value":58389,"itemStyle":{"normal":{"color":"#ffa500"}}},{"name":"林允暴瘦现身机场","value":135090,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"罗一笑去世","value":329472,"itemStyle":{"normal":{"color":"#40e0d0"}}},{"name":"内地男遭外籍匪徒","value":22082,"itemStyle":{"normal":{"color":"#00fa9a"}}},{"name":"平安夜祝福语","value":23101,"itemStyle":{"normal":{"color":"#6b8e23"}}},{"name":"送女儿当人肉炸弹","value":27748,"itemStyle":{"normal":{"color":"#32cd32"}}},{"name":"王菲演唱会崩盘","value":318846,"itemStyle":{"normal":{"color":"#ff69b4"}}},{"name":"王俊凯登富豪榜","value":26701,"itemStyle":{"normal":{"color":"#30e0e0"}}},{"name":"王思聪调侃李易峰","value":36009,"itemStyle":{"normal":{"color":"#b8860b"}}},{"name":"武大校花拍戏被砸","value":115808,"itemStyle":{"normal":{"color":"#b8860b"}}},{"name":"习近平会见梁振英","value":19541,"itemStyle":{"normal":{"color":"#40e0d0"}}},{"name":"小学生群卖黄片","value":117613,"itemStyle":{"normal":{"color":"#da70d6"}}},{"name":"一夜将现千万富豪","value":84944,"itemStyle":{"normal":{"color":"#6b8e23"}}},{"name":"雨雪袭中东部","value":22371,"itemStyle":{"normal":{"color":"#cd5c5c"}}},{"name":"直播自慰被判刑","value":448701,"itemStyle":{"normal":{"color":"#ff7f50"}}},{"name":"baby挺肚爬城墙","value":126820,"itemStyle":{"normal":{"color":"#ff69b4"}}}],"textRotation":[0,-45,-90,45,90],"type":"wordCloud","size":["80%","80%"]}],"title":{"text":"Baidu Hot Word Top30 (t: Today)","x":"center","y":"bottom","orient":"horizontal"}},{"series":[{"data":[{"name":"23岁女孩被抢走","value":314019,"itemStyle":{"normal":{"color":"#ff6347"}}},{"name":"班主任饭局摸女生","value":377439,"itemStyle":{"normal":{"color":"#ff00ff"}}},{"name":"蔡国庆老婆曝光","value":244024,"itemStyle":{"normal":{"color":"#32cd32"}}},{"name":"蔡依林与锦荣分手","value":193708,"itemStyle":{"normal":{"color":"#ffa500"}}},{"name":"大三女生遭杀害","value":305475,"itemStyle":{"normal":{"color":"#cd5c5c"}}},{"name":"大雁塔拍裸体写真","value":373812,"itemStyle":{"normal":{"color":"#ffd700"}}},{"name":"官微发色情广告","value":384734,"itemStyle":{"normal":{"color":"#7b68ee"}}},{"name":"广外女生被割喉","value":239283,"itemStyle":{"normal":{"color":"#ffa500"}}},{"name":"何洁好友证实离婚","value":198358,"itemStyle":{"normal":{"color":"#32cd32"}}},{"name":"虹桥一姐身世曝光","value":197114,"itemStyle":{"normal":{"color":"#ffd700"}}},{"name":"僵尸车被塞进假人","value":213063,"itemStyle":{"normal":{"color":"#32cd32"}}},{"name":"蒋欣晒出床照","value":204927,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"景甜回应背景说","value":181656,"itemStyle":{"normal":{"color":"#ffd700"}}},{"name":"六小龄童遇别车","value":257014,"itemStyle":{"normal":{"color":"#6b8e23"}}},{"name":"罗一笑去世","value":329472,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"梅艳芳妈想领遗产","value":177279,"itemStyle":{"normal":{"color":"#1e90ff"}}},{"name":"内裤涂剧毒致死","value":360125,"itemStyle":{"normal":{"color":"#32cd32"}}},{"name":"农历鸡年有384天","value":186896,"itemStyle":{"normal":{"color":"#ff6347"}}},{"name":"女子被绑水泥沉尸","value":262281,"itemStyle":{"normal":{"color":"#cd5c5c"}}},{"name":"宋智孝被下车大哭","value":440467,"itemStyle":{"normal":{"color":"#00fa9a"}}},{"name":"台名嘴曝荒淫派对","value":580704,"itemStyle":{"normal":{"color":"#32cd32"}}},{"name":"停止英语等级考试","value":364322,"itemStyle":{"normal":{"color":"#6495ed"}}},{"name":"王菲演唱会崩盘","value":318846,"itemStyle":{"normal":{"color":"#32cd32"}}},{"name":"小学生群卖黄片","value":384076,"itemStyle":{"normal":{"color":"#ff6347"}}},{"name":"央春晚拒问题明星","value":197787,"itemStyle":{"normal":{"color":"#40e0d0"}}},{"name":"一夜将现千万富豪","value":248512,"itemStyle":{"normal":{"color":"#6b8e23"}}},{"name":"因破坏军婚被判刑","value":178677,"itemStyle":{"normal":{"color":"#1e90ff"}}},{"name":"赵丽颖被酸学历低","value":214336,"itemStyle":{"normal":{"color":"#ff00ff"}}},{"name":"郑爽霸屏纽约广场","value":242138,"itemStyle":{"normal":{"color":"#ff7f50"}}},{"name":"直播自慰被判刑","value":1368571,"itemStyle":{"normal":{"color":"#30e0e0"}}}],"textRotation":[0,-45,-90,45,90],"type":"wordCloud","size":["80%","80%"]}],"title":{"text":"Baidu Hot Word Top30 (t: 7-days)","x":"center","y":"bottom","orient":"horizontal"}}]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="futher-setup" class="section level1">
<h1><span class="header-section-number">4</span> 其他设定Futher Setup</h1>
<p>接下来可以配置控件、添加标注点/标注线，以及美化成图。</p>
<div id="settheme" class="section level2">
<h2><span class="header-section-number">4.1</span> 设置主题<code>setTheme</code></h2>
<pre class="r"><code>g %&gt;% setTheme(&#39;dark&#39;, palette=&#39;manyeyes&#39;)</code></pre>
<div id="htmlwidget-486155f90edbffd9f6a4" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-486155f90edbffd9f6a4">{"x":{"timeline":{"type":"number","data":["Realtime","Today","7-days"],"x":80,"x2":80,"y2":50},"options":[{"series":[{"data":[{"name":"3苹果卖39888元","value":73943,"itemStyle":{"normal":{"color":"#bd9e39"}}},{"name":"7万元娶越南新娘","value":15706,"itemStyle":{"normal":{"color":"#de9ed6"}}},{"name":"北电新校区开工","value":8952,"itemStyle":{"normal":{"color":"#b5cf6b"}}},{"name":"短信直播自杀","value":18682,"itemStyle":{"normal":{"color":"#b5cf6b"}}},{"name":"俄失联军机坠毁","value":49779,"itemStyle":{"normal":{"color":"#e7cb94"}}},{"name":"干部扇老师耳光","value":2470,"itemStyle":{"normal":{"color":"#8ca252"}}},{"name":"高铁跳站乘客滞留","value":2035,"itemStyle":{"normal":{"color":"#9c9ede"}}},{"name":"官员洗脚花万元","value":16292,"itemStyle":{"normal":{"color":"#ad494a"}}},{"name":"虹桥一姐身世曝光","value":26055,"itemStyle":{"normal":{"color":"#4a5584"}}},{"name":"护士戏弄危重老人","value":11920,"itemStyle":{"normal":{"color":"#b5cf6b"}}},{"name":"驾面包车撞奥迪","value":3395,"itemStyle":{"normal":{"color":"#e7ba52"}}},{"name":"开挖掘机抢银行","value":4209,"itemStyle":{"normal":{"color":"#8c6d31"}}},{"name":"卢广仲演出被取消","value":39885,"itemStyle":{"normal":{"color":"#4a5584"}}},{"name":"罗一笑去世","value":6980,"itemStyle":{"normal":{"color":"#a55194"}}},{"name":"男孩获钢铁侠义肢","value":7088,"itemStyle":{"normal":{"color":"#a55194"}}},{"name":"千吨垃圾倾倒长江","value":6186,"itemStyle":{"normal":{"color":"#8ca252"}}},{"name":"人大代表建活人墓","value":22291,"itemStyle":{"normal":{"color":"#a55194"}}},{"name":"摔砸环卫工手机","value":1862,"itemStyle":{"normal":{"color":"#e7969c"}}},{"name":"送餐员抢路虎埋尸","value":36056,"itemStyle":{"normal":{"color":"#7375b5"}}},{"name":"汤圆吃出钢丝索赔","value":14344,"itemStyle":{"normal":{"color":"#843c39"}}},{"name":"王菲演唱会崩盘","value":98726,"itemStyle":{"normal":{"color":"#8c6d31"}}},{"name":"王凯否认恋陈乔恩","value":10236,"itemStyle":{"normal":{"color":"#ad494a"}}},{"name":"武大校花拍戏被砸","value":2572,"itemStyle":{"normal":{"color":"#8ca252"}}},{"name":"徐若瑄夫妇同框","value":42866,"itemStyle":{"normal":{"color":"#8ca252"}}},{"name":"杨千嬅余文乐相聚","value":18208,"itemStyle":{"normal":{"color":"#8c6d31"}}},{"name":"姚笛圣诞晒自拍照","value":2387,"itemStyle":{"normal":{"color":"#a55194"}}},{"name":"药价高回扣回应","value":2300,"itemStyle":{"normal":{"color":"#d6616b"}}},{"name":"英语试题性别歧视","value":3059,"itemStyle":{"normal":{"color":"#9c9ede"}}},{"name":"袁惟仁签字离婚","value":9878,"itemStyle":{"normal":{"color":"#d6616b"}}},{"name":"nba圣诞大战","value":125455,"itemStyle":{"normal":{"color":"#a55194"}}}],"textRotation":[0,-45,-90,45,90],"type":"wordCloud","size":["80%","80%"]}],"xAxis":[{"type":"category","show":false,"position":"bottom","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["nba圣诞大战","王菲演唱会崩盘","3苹果卖39888元","俄失联军机坠毁","徐若瑄夫妇同框","卢广仲演出被取消","送餐员抢路虎埋尸","虹桥一姐身世曝光","人大代表建活人墓","短信直播自杀","杨千嬅余文乐相聚","官员洗脚花万元","7万元娶越南新娘","汤圆吃出钢丝索赔","护士戏弄危重老人","王凯否认恋陈乔恩","袁惟仁签字离婚","北电新校区开工","男孩获钢铁侠义肢","罗一笑去世","千吨垃圾倾倒长江","开挖掘机抢银行","驾面包车撞奥迪","英语试题性别歧视","武大校花拍戏被砸","干部扇老师耳光","姚笛圣诞晒自拍照","药价高回扣回应","高铁跳站乘客滞留","摔砸环卫工手机","直播自慰被判刑","大雁塔拍裸体写真","林允暴瘦现身机场","baby挺肚爬城墙","保妻放弃三胞胎","小学生群卖黄片","迪士尼表演出意外","班主任饭局摸女生","一夜将现千万富豪","拎8万元街头送人","梁朝伟为缺席致歉","半夜开震楼器","摆渡人","景甜回应背景说","僵尸车被塞进假人","大妈帮农民工抢票","15年生8个女儿","王思聪调侃李易峰","黄子韬机场昏倒","送女儿当人肉炸弹","王俊凯登富豪榜","平安夜祝福语","雨雪袭中东部","内地男遭外籍匪徒","李娜二胎生子","习近平会见梁振英","台名嘴曝荒淫派对","宋智孝被下车大哭","官微发色情广告","停止英语等级考试","内裤涂剧毒致死","23岁女孩被抢走","大三女生遭杀害","女子被绑水泥沉尸","六小龄童遇别车","蔡国庆老婆曝光","郑爽霸屏纽约广场","广外女生被割喉","赵丽颖被酸学历低","蒋欣晒出床照","何洁好友证实离婚","央春晚拒问题明星","蔡依林与锦荣分手","农历鸡年有384天","因破坏军婚被判刑","梅艳芳妈想领遗产"]}],"yAxis":[{"type":"value","show":false,"position":"left","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"grid":{"borderWidth":0},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"Baidu Hot Word Top30 (t: Realtime)","x":"center","y":"bottom","orient":"horizontal"},"color":["#9c9ede"]},{"series":[{"data":[{"name":"15年生8个女儿","value":36116,"itemStyle":{"normal":{"color":"#a55194"}}},{"name":"摆渡人","value":51097,"itemStyle":{"normal":{"color":"#4a5584"}}},{"name":"班主任饭局摸女生","value":85590,"itemStyle":{"normal":{"color":"#9c9ede"}}},{"name":"半夜开震楼器","value":52181,"itemStyle":{"normal":{"color":"#8c6d31"}}},{"name":"保妻放弃三胞胎","value":122592,"itemStyle":{"normal":{"color":"#b5cf6b"}}},{"name":"大妈帮农民工抢票","value":40201,"itemStyle":{"normal":{"color":"#8c6d31"}}},{"name":"大雁塔拍裸体写真","value":145821,"itemStyle":{"normal":{"color":"#ad494a"}}},{"name":"迪士尼表演出意外","value":104438,"itemStyle":{"normal":{"color":"#843c39"}}},{"name":"护士戏弄危重老人","value":145287,"itemStyle":{"normal":{"color":"#e7ba52"}}},{"name":"黄子韬机场昏倒","value":30137,"itemStyle":{"normal":{"color":"#cedb9c"}}},{"name":"僵尸车被塞进假人","value":42502,"itemStyle":{"normal":{"color":"#bd9e39"}}},{"name":"景甜回应背景说","value":45396,"itemStyle":{"normal":{"color":"#e7969c"}}},{"name":"李娜二胎生子","value":21386,"itemStyle":{"normal":{"color":"#4a5584"}}},{"name":"梁朝伟为缺席致歉","value":56384,"itemStyle":{"normal":{"color":"#8ca252"}}},{"name":"拎8万元街头送人","value":58389,"itemStyle":{"normal":{"color":"#ce6dbd"}}},{"name":"林允暴瘦现身机场","value":135090,"itemStyle":{"normal":{"color":"#bd9e39"}}},{"name":"罗一笑去世","value":329472,"itemStyle":{"normal":{"color":"#e7969c"}}},{"name":"内地男遭外籍匪徒","value":22082,"itemStyle":{"normal":{"color":"#7b4173"}}},{"name":"平安夜祝福语","value":23101,"itemStyle":{"normal":{"color":"#ad494a"}}},{"name":"送女儿当人肉炸弹","value":27748,"itemStyle":{"normal":{"color":"#9c9ede"}}},{"name":"王菲演唱会崩盘","value":318846,"itemStyle":{"normal":{"color":"#de9ed6"}}},{"name":"王俊凯登富豪榜","value":26701,"itemStyle":{"normal":{"color":"#de9ed6"}}},{"name":"王思聪调侃李易峰","value":36009,"itemStyle":{"normal":{"color":"#ad494a"}}},{"name":"武大校花拍戏被砸","value":115808,"itemStyle":{"normal":{"color":"#637939"}}},{"name":"习近平会见梁振英","value":19541,"itemStyle":{"normal":{"color":"#e7969c"}}},{"name":"小学生群卖黄片","value":117613,"itemStyle":{"normal":{"color":"#e7ba52"}}},{"name":"一夜将现千万富豪","value":84944,"itemStyle":{"normal":{"color":"#8ca252"}}},{"name":"雨雪袭中东部","value":22371,"itemStyle":{"normal":{"color":"#8ca252"}}},{"name":"直播自慰被判刑","value":448701,"itemStyle":{"normal":{"color":"#e7cb94"}}},{"name":"baby挺肚爬城墙","value":126820,"itemStyle":{"normal":{"color":"#ad494a"}}}],"textRotation":[0,-45,-90,45,90],"type":"wordCloud","size":["80%","80%"]}],"title":{"text":"Baidu Hot Word Top30 (t: Today)","x":"center","y":"bottom","orient":"horizontal"}},{"series":[{"data":[{"name":"23岁女孩被抢走","value":314019,"itemStyle":{"normal":{"color":"#8c6d31"}}},{"name":"班主任饭局摸女生","value":377439,"itemStyle":{"normal":{"color":"#8ca252"}}},{"name":"蔡国庆老婆曝光","value":244024,"itemStyle":{"normal":{"color":"#843c39"}}},{"name":"蔡依林与锦荣分手","value":193708,"itemStyle":{"normal":{"color":"#e7cb94"}}},{"name":"大三女生遭杀害","value":305475,"itemStyle":{"normal":{"color":"#8ca252"}}},{"name":"大雁塔拍裸体写真","value":373812,"itemStyle":{"normal":{"color":"#9c9ede"}}},{"name":"官微发色情广告","value":384734,"itemStyle":{"normal":{"color":"#9c9ede"}}},{"name":"广外女生被割喉","value":239283,"itemStyle":{"normal":{"color":"#b5cf6b"}}},{"name":"何洁好友证实离婚","value":198358,"itemStyle":{"normal":{"color":"#8c6d31"}}},{"name":"虹桥一姐身世曝光","value":197114,"itemStyle":{"normal":{"color":"#637939"}}},{"name":"僵尸车被塞进假人","value":213063,"itemStyle":{"normal":{"color":"#ad494a"}}},{"name":"蒋欣晒出床照","value":204927,"itemStyle":{"normal":{"color":"#8c6d31"}}},{"name":"景甜回应背景说","value":181656,"itemStyle":{"normal":{"color":"#a55194"}}},{"name":"六小龄童遇别车","value":257014,"itemStyle":{"normal":{"color":"#9c9ede"}}},{"name":"罗一笑去世","value":329472,"itemStyle":{"normal":{"color":"#de9ed6"}}},{"name":"梅艳芳妈想领遗产","value":177279,"itemStyle":{"normal":{"color":"#8ca252"}}},{"name":"内裤涂剧毒致死","value":360125,"itemStyle":{"normal":{"color":"#e7ba52"}}},{"name":"农历鸡年有384天","value":186896,"itemStyle":{"normal":{"color":"#ad494a"}}},{"name":"女子被绑水泥沉尸","value":262281,"itemStyle":{"normal":{"color":"#ce6dbd"}}},{"name":"宋智孝被下车大哭","value":440467,"itemStyle":{"normal":{"color":"#e7cb94"}}},{"name":"台名嘴曝荒淫派对","value":580704,"itemStyle":{"normal":{"color":"#637939"}}},{"name":"停止英语等级考试","value":364322,"itemStyle":{"normal":{"color":"#ce6dbd"}}},{"name":"王菲演唱会崩盘","value":318846,"itemStyle":{"normal":{"color":"#cedb9c"}}},{"name":"小学生群卖黄片","value":384076,"itemStyle":{"normal":{"color":"#a55194"}}},{"name":"央春晚拒问题明星","value":197787,"itemStyle":{"normal":{"color":"#ce6dbd"}}},{"name":"一夜将现千万富豪","value":248512,"itemStyle":{"normal":{"color":"#8ca252"}}},{"name":"因破坏军婚被判刑","value":178677,"itemStyle":{"normal":{"color":"#843c39"}}},{"name":"赵丽颖被酸学历低","value":214336,"itemStyle":{"normal":{"color":"#8c6d31"}}},{"name":"郑爽霸屏纽约广场","value":242138,"itemStyle":{"normal":{"color":"#de9ed6"}}},{"name":"直播自慰被判刑","value":1368571,"itemStyle":{"normal":{"color":"#9c9ede"}}}],"textRotation":[0,-45,-90,45,90],"type":"wordCloud","size":["80%","80%"]}],"title":{"text":"Baidu Hot Word Top30 (t: 7-days)","x":"center","y":"bottom","orient":"horizontal"}}],"theme":"dark"},"evals":[],"jsHooks":[]}</script>
<hr />
<p>参考相关函数，尽情探索吧。</p>
</div>
</div>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
    // active menu
    var href = window.location.pathname;
    href = href.substr(href.lastIndexOf('/') + 1);
    if (href === '') href = './';
    $('a[href="' + href + '"]').parent().addClass('active');
});
</script>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
