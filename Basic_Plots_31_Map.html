<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Basic Plots 31 - Map</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<link href="libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="libs/highlightjs-1.1/highlight.js"></script>
<script src="libs/htmlwidgets-0.8/htmlwidgets.js"></script>
<script src="libs/echarts-2.2.7/echarts-all.js"></script>
<script src="libs/charts-ext-2.2.7/main.js"></script>
<script src="libs/charts-ext-2.2.7/BMap.js"></script>
<script src="libs/echarts-binding-0.2/echarts.js"></script>
<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 70px;
}
p code {
  white-space: inherit;
}
.html-widget-static-bound {
  margin: auto;
}
.alert>p {
  margin-bottom: 10.5px;
}
</style>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="./">recharts</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="./">Home</a></li>
        <li><a href="index_cn.html">首页</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/madlogos/recharts" title="View Source on Github"><i class="fa fa-github fa-lg"></i></a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</nav><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Basic Plots 31 - Map</h1>

</div>


<p>First, you should load <code>recharts</code>:</p>
<pre class="r"><code>library(recharts)</code></pre>
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>Map includes 4 basic types:</p>
<ul>
<li>China Map</li>
<li>China Map with Multiple Selection</li>
<li>World Map</li>
<li>World Map with Multiple Selection</li>
</ul>
<table id="intro">
<tr>
<td>
<div id="htmlwidget-0845487fc9df14aed66a" style="width:400px;height:300px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-0845487fc9df14aed66a">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":1103605,"selected":false},{"name":"江苏","value":1059587,"selected":false},{"name":"山东","value":967419,"selected":false},{"name":"浙江","value":653668,"selected":false},{"name":"河南","value":568786,"selected":false},{"name":"河北","value":478953,"selected":false},{"name":"辽宁","value":466018,"selected":false},{"name":"四川","value":464555,"selected":false},{"name":"湖北","value":445514,"selected":false},{"name":"湖南","value":440328,"selected":false},{"name":"福建","value":391609,"selected":false},{"name":"上海","value":383554,"selected":false},{"name":"北京","value":347249,"selected":false},{"name":"安徽","value":339401,"selected":false},{"name":"内蒙古","value":289274,"selected":false},{"name":"陕西","value":287978,"selected":false},{"name":"天津","value":255950,"selected":false},{"name":"江西","value":255724,"selected":false},{"name":"广西","value":255144,"selected":false},{"name":"黑龙江","value":244829,"selected":false},{"name":"重庆","value":232230,"selected":false},{"name":"吉林","value":224715,"selected":false},{"name":"云南","value":208612,"selected":false},{"name":"山西","value":207714,"selected":false},{"name":"新疆","value":150812,"selected":false},{"name":"贵州","value":150599,"selected":false},{"name":"甘肃","value":111273,"selected":false},{"name":"海南","value":56989,"selected":false},{"name":"宁夏","value":44802,"selected":false},{"name":"青海","value":37460,"selected":false},{"name":"西藏","value":14990,"selected":false}],"name":"GDP"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["red","orange","yellow","limegreen","green"],"borderColor":"#ccc","borderWidth":0,"min":14990,"max":1103605},"title":{"text":"China GDP by Provice, 2014","x":"center","y":"bottom","orient":"horizontal"},"theme":"infographic"},"evals":[],"jsHooks":[]}</script>
</td>
<td>
<div id="htmlwidget-07a54a90ccc0a521a752" style="width:400px;height:300px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-07a54a90ccc0a521a752">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":1103605,"selected":false},{"name":"江苏","value":1059587,"selected":false},{"name":"山东","value":967419,"selected":false},{"name":"浙江","value":653668,"selected":false},{"name":"河南","value":568786,"selected":false},{"name":"河北","value":478953,"selected":false},{"name":"辽宁","value":466018,"selected":false},{"name":"四川","value":464555,"selected":false},{"name":"湖北","value":445514,"selected":false},{"name":"湖南","value":440328,"selected":false},{"name":"福建","value":391609,"selected":false},{"name":"上海","value":383554,"selected":false},{"name":"北京","value":347249,"selected":false},{"name":"安徽","value":339401,"selected":false},{"name":"内蒙古","value":289274,"selected":false},{"name":"陕西","value":287978,"selected":false},{"name":"天津","value":255950,"selected":false},{"name":"江西","value":255724,"selected":false},{"name":"广西","value":255144,"selected":false},{"name":"黑龙江","value":244829,"selected":false},{"name":"重庆","value":232230,"selected":false},{"name":"吉林","value":224715,"selected":false},{"name":"云南","value":208612,"selected":false},{"name":"山西","value":207714,"selected":false},{"name":"新疆","value":150812,"selected":false},{"name":"贵州","value":150599,"selected":false},{"name":"甘肃","value":111273,"selected":false},{"name":"海南","value":56989,"selected":false},{"name":"宁夏","value":44802,"selected":false},{"name":"青海","value":37460,"selected":false},{"name":"西藏","value":14990,"selected":false}],"name":"GDP","selectedMode":"multiple"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["red","orange","yellow","limegreen","green"],"borderColor":"#ccc","borderWidth":0,"min":14990,"max":1103605},"title":{"text":"China GDP by Provice, 2014","x":"center","y":"bottom","orient":"horizontal"},"theme":"roma"},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
<tr>
<td>
<div id="htmlwidget-5c12cb3afc94f8fcf976" style="width:400px;height:300px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-5c12cb3afc94f8fcf976">{"x":{"series":[{"type":"map","mapType":"world","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"United States of America","value":17418925,"selected":false},{"name":"China","value":10380380,"selected":false},{"name":"Japan","value":4616335,"selected":false},{"name":"Germany","value":3859547,"selected":false},{"name":"United Kingdom","value":2945146,"selected":false},{"name":"France","value":2846889,"selected":false},{"name":"Brazil","value":2353025,"selected":false},{"name":"Italy","value":2147952,"selected":false},{"name":"India","value":2049501,"selected":false},{"name":"Russia","value":1857461,"selected":false},{"name":"Canada","value":1788717,"selected":false},{"name":"Australia","value":1444189,"selected":false},{"name":"South Korea","value":1416949,"selected":false},{"name":"Spain","value":1406855,"selected":false},{"name":"Mexico","value":1282725,"selected":false},{"name":"Indonesia","value":888648,"selected":false},{"name":"Netherlands","value":866354,"selected":false},{"name":"Turkey","value":806108,"selected":false},{"name":"Saudi Arabia","value":752459,"selected":false},{"name":"Switzerland","value":712050,"selected":false}],"name":"GDP"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["#FF0000","#FFFF00","#00FF00","#00FFFF","#0000FF","#FF00FF"],"borderColor":"#ccc","borderWidth":0,"min":712050,"max":17418925},"title":{"text":"World GDP Top 20, 2014","x":"center","y":"bottom","orient":"horizontal"},"theme":"macarons"},"evals":[],"jsHooks":[]}</script>
</td>
<td>
<div id="htmlwidget-473a9842cc4ef71f984b" style="width:400px;height:300px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-473a9842cc4ef71f984b">{"x":{"series":[{"type":"map","mapType":"world","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"United States of America","value":17418925,"selected":false},{"name":"China","value":10380380,"selected":false},{"name":"Japan","value":4616335,"selected":false},{"name":"Germany","value":3859547,"selected":false},{"name":"United Kingdom","value":2945146,"selected":false},{"name":"France","value":2846889,"selected":false},{"name":"Brazil","value":2353025,"selected":false},{"name":"Italy","value":2147952,"selected":false},{"name":"India","value":2049501,"selected":false},{"name":"Russia","value":1857461,"selected":false},{"name":"Canada","value":1788717,"selected":false},{"name":"Australia","value":1444189,"selected":false},{"name":"South Korea","value":1416949,"selected":false},{"name":"Spain","value":1406855,"selected":false},{"name":"Mexico","value":1282725,"selected":false},{"name":"Indonesia","value":888648,"selected":false},{"name":"Netherlands","value":866354,"selected":false},{"name":"Turkey","value":806108,"selected":false},{"name":"Saudi Arabia","value":752459,"selected":false},{"name":"Switzerland","value":712050,"selected":false}],"name":"GDP","selectedMode":"multiple"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["#FF0000","#FFFF00","#00FF00","#00FFFF","#0000FF","#FF00FF"],"borderColor":"#ccc","borderWidth":0,"min":712050,"max":17418925},"title":{"text":"World GDP Top 20, 2014","x":"center","y":"bottom","orient":"horizontal"},"theme":"macarons2"},"evals":[],"jsHooks":[]}</script>
</td>
</tr>
</table>
<p>The keys are:</p>
<ul>
<li>Base Map Mode:
<ul>
<li>Simply assign <code>type</code> and/or <code>subtype</code> to display the base map</li>
</ul></li>
<li>Data Map Mode:</li>
<li>character <code>x</code>
<ul>
<li><code>x[,1]</code> must be valid geographic names, e.g., ‘United States of America’ instead of ‘USA’ or ‘U.S.’.</li>
</ul></li>
<li>numeric/logical <code>y</code>
<ul>
<li><code>y[,1]</code>: value</li>
<li><code>y[,2]</code>: logical, if is selected. Also allowed to use 1 for TRUE, 0 for FALSE.</li>
</ul></li>
<li>series is mapped to data series</li>
<li>facet is mapped to separate maps, i.e., each level of facet represents a map. The facet variable should also be valid geograhic names.</li>
<li>You can additionally add map data to the echarts object
<ul>
<li><code>addNameMap</code> for geoName mapping/translation;</li>
<li><code>addHeatMap</code> for additional heatmap graph layer</li>
<li><code>addMarkLine</code> or <code>addMarkPoint</code> to add markLines and/or markPoints
<ul>
<li><code>addGeoCoord</code> to define coordinates of the places for markLine and markPoint</li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="function-call" class="section level1">
<h1><span class="header-section-number">2</span> Function Call</h1>
<pre class="r"><code>echartr(data, &lt;x&gt;, &lt;y&gt;, &lt;series&gt;, &lt;facet&gt;, &lt;lng&gt;, &lt;lat&gt;, &lt;t&gt;, &lt;type&gt;, &lt;subtype&gt;)</code></pre>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th>Arg</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>data</strong></p></td>
<td><p>source data in the form of data.frame</p></td>
</tr>
<tr class="even">
<td><p><strong>x</strong></p></td>
<td><p>character independent variable. Other type will be coerced to factors. Only the first one is accepted if multiple variables are provided. <code>x[,1]</code> must be valid geographic names.</p></td>
</tr>
<tr class="odd">
<td><p><strong>y</strong></p></td>
<td><p>numeric dependent variable. Only the first 2 are accepted if multiple variables are provided. <code>y[,1]</code> acts as the value and <code>y[,2]</code> (logical) represents the status of selected/unselected. It is also allowed to use 1 for TRUE, 0 for FALSE in <code>y[,2]</code>.</p></td>
</tr>
<tr class="even">
<td><p>series</p></td>
<td><p>series variable which will be coerced to factors. Each level of <code>series</code> is treated as a group factor to produce data series. Only the first one is accepted if multiple variables are provided.</p></td>
</tr>
<tr class="odd">
<td><p>facet</p></td>
<td><p>facetting variable which will be coerced to factors. Each level of <code>facet</code> is treated as a subsetting factor to produce separate maps. Only the first one is accepted if multiple variables are provided.</p></td>
</tr>
<tr class="even">
<td><p>t</p></td>
<td><p>timeline variable which will be coerced to factors. Only the first one is accepted if multiple variables are provided.</p></td>
</tr>
<tr class="odd">
<td><p>type</p></td>
<td><p>‘map_world’, ‘map_world_multi’, ‘map_china’, ‘map_china_multi’.</p></td>
</tr>
<tr class="even">
<td><p>subtype</p></td>
<td><ul>
<li>map_world: c(“sum”, “average”, [country names])
<ul>
<li>sum: the map value is calculated by ‘sum’ (default algorithm).</li>
<li>average: the map value is calculated by ‘average’.</li>
<li>move: <code>roam</code> method is ‘move’</li>
<li>scale: <code>roam</code> method is ‘scale’</li>
<li><code>/country names/</code>: A set of strings that are valid in Echarts. Refer to ‘valid country names’ below.</li>
</ul></li>
<li>map_world_multi: c(“sum”, “average”, “move”, “scale”, <code>/country names/</code>)</li>
<li>map_china: c(“sum”, “average”, “move”, “scale”, <code>/China province names/</code>)
<ul>
<li><code>/China province names/</code>: A set of strings that are valid in Echarts. Refer to ‘valid china province names’ below.</li>
</ul></li>
<li>map_china_multi: c(“sum”, “average”, “move”, “scale”, <code>/China province names/</code>)</li>
</ul></td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Valid country names:</strong>
<ul>
<li>“Afghanistan”, “Angola”, “Albania”, “United Arab Emirates”, “Argentina”, “Armenia”, “French Southern and Antarctic Lands”, “Australia”, “Austria”, “Azerbaijan”, “Burundi”, “Belgium”, “Benin”, “Burkina Faso”, “Bangladesh”, “Bulgaria”, “The Bahamas”, “Bosnia and Herzegovina”, “Belarus”, “Belize”, “Bermuda”, “Bolivia”, “Brazil”, “Brunei”, “Bhutan”, “Botswana”, “Central African Republic”, “Canada”, “Switzerland”, “Chile”, “China”, “Ivory Coast”, “Cameroon”, “Democratic Republic of the Congo”, “Republic of the Congo”, “Colombia”, “Costa Rica”, “Cuba”, “Northern Cyprus”, “Cyprus”, “Czech Republic”, “Germany”, “Djibouti”, “Denmark”, “Dominican Republic”, “Algeria”, “Ecuador”, “Egypt”, “Eritrea”, “Spain”, “Estonia”, “Ethiopia”, “Finland”, “Fiji”, “Falkland Islands”, “France”, “Gabon”, “United Kingdom”, “Georgia”, “Ghana”, “Guinea”, “Gambia”, “Guinea Bissau”, “Equatorial Guinea”, “Greece”, “Greenland”, “Guatemala”, “French Guiana”, “Guyana”, “Honduras”, “Croatia”, “Haiti”, “Hungary”, “Indonesia”, “India”, “Ireland”, “Iran”, “Iraq”, “Iceland”, “Israel”, “Italy”, “Jamaica”, “Jordan”, “Japan”, “Kazakhstan”, “Kenya”, “Kyrgyzstan”, “Cambodia”, “South Korea”, “Kosovo”, “Kuwait”, “Laos”, “Lebanon”, “Liberia”, “Libya”, “Sri Lanka”, “Lesotho”, “Lithuania”, “Luxembourg”, “Latvia”, “Morocco”, “Moldova”, “Madagascar”, “Mexico”, “Macedonia”, “Mali”, “Myanmar”, “Montenegro”, “Mongolia”, “Mozambique”, “Mauritania”, “Malawi”, “Malaysia”, “Namibia”, “New Caledonia”, “Niger”, “Nigeria”, “Nicaragua”, “Netherlands”, “Norway”, “Nepal”, “New Zealand”, “Oman”, “Pakistan”, “Panama”, “Peru”, “Philippines”, “Papua New Guinea”, “Poland”, “Puerto Rico”, “North Korea”, “Portugal”, “Paraguay”, “Qatar”, “Romania”, “Russia”, “Rwanda”, “Western Sahara”, “Saudi Arabia”, “Sudan”, “South Sudan”, “Senegal”, “Solomon Islands”, “Sierra Leone”, “El Salvador”, “Somaliland”, “Somalia”, “Republic of Serbia”, “Suriname”, “Slovakia”, “Slovenia”, “Sweden”, “Swaziland”, “Syria”, “Chad”, “Togo”, “Thailand”, “Tajikistan”, “Turkmenistan”, “East Timor”, “Trinidad and Tobago”, “Tunisia”, “Turkey”, “United Republic of Tanzania”, “Uganda”, “Ukraine”, “Uruguay”, “United States of America”, “Uzbekistan”, “Venezuela”, “Vietnam”, “Vanuatu”, “West Bank”, “Yemen”, “South Africa”, “Zambia”, “Zimbabwe”</li>
</ul></li>
<li><strong>Valid China province names:</strong>
<ul>
<li>“新疆”, “西藏”, “内蒙古”, “青海”, “四川”, “黑龙江”, “甘肃”, “云南”, “广西”, “湖南”, “陕西”, “广东”, “吉林”, “河北”, “湖北”, “贵州”, “山东”, “江西”, “河南”, “辽宁”, “山西”, “安徽”, “福建”, “浙江”, “江苏”, “重庆”, “宁夏”, “海南”, “台湾”, “北京”, “天津”, “上海”, “香港”, “澳门”</li>
</ul></li>
</ul>
</div>
<div id="showcase" class="section level1">
<h1><span class="header-section-number">3</span> Showcase</h1>
<div id="base-map-mode" class="section level2">
<h2><span class="header-section-number">3.1</span> Base Map Mode</h2>
<p>If you leave all params NULL except for <code>type</code> and/or <code>subtype</code>, you will get a base map with no data shown.</p>
<div id="complete-base-map" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Complete Base Map</h3>
<p>Set <code>type</code> ‘map_world’ or ‘map_china’. Leave all other params NULL.</p>
<pre class="r"><code>echartr(NULL, type=&#39;map_world&#39;) %&gt;% setTitle(&#39;World Map&#39;)</code></pre>
<div id="htmlwidget-739c24fa2422c9c0a5b1" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-739c24fa2422c9c0a5b1">{"x":{"series":[{"type":"map","mapType":"world","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[]}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"World Map","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>echartr(NULL, type=&#39;map_china&#39;) %&gt;% setTitle(&#39;China Map&#39;)</code></pre>
<div id="htmlwidget-03c34ba15596956dc23e" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-03c34ba15596956dc23e">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[]}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"China Map","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="partial-base-map" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Partial Base map</h3>
<p>You can also display partial maps. Political zones of China can act as the independent mapType, so you can see its subordinate areas.</p>
<pre class="r"><code>echartr(NULL, type=&#39;map_world&#39;, subtype=&#39;United States of America&#39;) %&gt;% 
    setTitle(&#39;World Map|USA&#39;)</code></pre>
<div id="htmlwidget-9ef1f20b9d020256d718" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-9ef1f20b9d020256d718">{"x":{"series":[{"type":"map","mapType":"world|United States of America","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[]}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"World Map|USA","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>echartr(NULL, type=&#39;map_china&#39;, subtype=&#39;上海&#39;) %&gt;% 
    setTitle(&#39;China Map|Shanghai&#39;)</code></pre>
<div id="htmlwidget-343c01585d1c8bd3f41b" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-343c01585d1c8bd3f41b">{"x":{"series":[{"type":"map","mapType":"上海","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[]}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"China Map|Shanghai","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="extensive-base-map-mode" class="section level2">
<h2><span class="header-section-number">3.2</span> Extensive Base Map Mode</h2>
<div id="multi-select-base-map" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Multi-select Base Map</h3>
<p>Set <code>type</code> ‘map_world_multi’ or ‘map_china_multi’, you will get a base map for multiple selection. You can also apply subtypes to it.</p>
<pre class="r"><code>echartr(NULL, type=&#39;map_world_multi&#39;) %&gt;% setTitle(&#39;World Map&#39;)</code></pre>
<div id="htmlwidget-8f7e1782c3ead5369bf7" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-8f7e1782c3ead5369bf7">{"x":{"series":[{"type":"map","mapType":"world","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"selectedMode":"multiple"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"World Map","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>echartr(NULL, type=&#39;map_china_multi&#39;, subtype=&#39;上海&#39;) %&gt;% 
    setTitle(&#39;China Map|Shanghai&#39;)</code></pre>
<div id="htmlwidget-51a4b67e02a616a30337" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-51a4b67e02a616a30337">{"x":{"series":[{"type":"map","mapType":"上海","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"selectedMode":"multiple"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"China Map|Shanghai","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="multiple-maps" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Multiple Maps</h3>
<p>If you assign <code>facet</code> and <code>subtype</code> with valid geographic names, you will yield separated multiple maps. Note that <code>subtype</code> must be wrapped as list.</p>
<pre class="r"><code>data &lt;- data.frame(x=c(&#39;United States of America&#39;, &#39;China&#39;, &#39;Japan&#39;))
echartr(data, x, facet=x, type=&#39;map_world&#39;, subtype=as.list(data$x))</code></pre>
<div id="htmlwidget-af4d454bf3037a906ffd" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-af4d454bf3037a906ffd">{"x":{"series":[{"type":"map","mapType":"world|United States of America","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"mapLocation":{"x":"6.66666666666667%","y":"36.6666666666667%","width":"26%","height":"86%"}},{"type":"map","mapType":"world|China","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"mapLocation":{"x":"36.6666666666667%","y":"36.6666666666667%","width":"26%","height":"86%"}},{"type":"map","mapType":"world|Japan","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"mapLocation":{"x":"66.6666666666667%","y":"36.6666666666667%","width":"26%","height":"86%"}}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="data-map-mode" class="section level2">
<h2><span class="header-section-number">3.3</span> Data Map Mode</h2>
<p>You can attach data onto the base map to render it more informative.</p>
<div id="single-series" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Single Series</h3>
<p>If no <code>series</code> is assigned, the map does not differentiate data series.</p>
<pre class="r"><code>worldgdp &lt;- data.frame(
    country=c(&#39;United States of America&#39;, &#39;China&#39;, &#39;Japan&#39;, &#39;Germany&#39;,
              &#39;United Kingdom&#39;, &#39;France&#39;, &#39;Brazil&#39;, &#39;Italy&#39;, &#39;India&#39;,&#39;Russia&#39;,
              &#39;Canada&#39;, &#39;Australia&#39;, &#39;South Korea&#39;, &#39;Spain&#39;, &#39;Mexico&#39;, 
              &#39;Indonesia&#39;, &#39;Netherlands&#39;, &#39;Turkey&#39;, &#39;Saudi Arabia&#39;, 
              &#39;Switzerland&#39;),
    GDP=c(17418925, 10380380, 4616335, 3859547, 2945146, 2846889, 2353025, 
          2147952, 2049501, 1857461, 1788717, 1444189, 1416949, 1406855, 1282725,
          888648, 866354, 806108, 752459, 712050))
echartr(worldgdp, country, GDP, type=&quot;map_world&quot;) %&gt;%
    setTitle(&quot;World GDP Top 20, 2014&quot;)</code></pre>
<div id="htmlwidget-4aba18558a610f5ab02d" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-4aba18558a610f5ab02d">{"x":{"series":[{"type":"map","mapType":"world","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"United States of America","value":17418925,"selected":false},{"name":"China","value":10380380,"selected":false},{"name":"Japan","value":4616335,"selected":false},{"name":"Germany","value":3859547,"selected":false},{"name":"United Kingdom","value":2945146,"selected":false},{"name":"France","value":2846889,"selected":false},{"name":"Brazil","value":2353025,"selected":false},{"name":"Italy","value":2147952,"selected":false},{"name":"India","value":2049501,"selected":false},{"name":"Russia","value":1857461,"selected":false},{"name":"Canada","value":1788717,"selected":false},{"name":"Australia","value":1444189,"selected":false},{"name":"South Korea","value":1416949,"selected":false},{"name":"Spain","value":1406855,"selected":false},{"name":"Mexico","value":1282725,"selected":false},{"name":"Indonesia","value":888648,"selected":false},{"name":"Netherlands","value":866354,"selected":false},{"name":"Turkey","value":806108,"selected":false},{"name":"Saudi Arabia","value":752459,"selected":false},{"name":"Switzerland","value":712050,"selected":false}],"name":"GDP"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"World GDP Top 20, 2014","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<p>But point markers are not that informative. Let’s color the areas by mapping the data to dataRange. Plus, set it ‘move’ and ‘scale’.</p>
<pre class="r"><code>echartr(worldgdp, country, GDP, type=&quot;map_world&quot;, subtype=&quot;move + scale&quot;) %&gt;%
    setDataRange(splitNumber=0, color=getColFromPal(&#39;rainbow&#39;)) %&gt;%
    setTitle(&quot;World GDP Top 20, 2014&quot;)</code></pre>
<div id="htmlwidget-84676a3fb82def7c5f3a" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-84676a3fb82def7c5f3a">{"x":{"series":[{"type":"map","mapType":"world","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"United States of America","value":17418925,"selected":false},{"name":"China","value":10380380,"selected":false},{"name":"Japan","value":4616335,"selected":false},{"name":"Germany","value":3859547,"selected":false},{"name":"United Kingdom","value":2945146,"selected":false},{"name":"France","value":2846889,"selected":false},{"name":"Brazil","value":2353025,"selected":false},{"name":"Italy","value":2147952,"selected":false},{"name":"India","value":2049501,"selected":false},{"name":"Russia","value":1857461,"selected":false},{"name":"Canada","value":1788717,"selected":false},{"name":"Australia","value":1444189,"selected":false},{"name":"South Korea","value":1416949,"selected":false},{"name":"Spain","value":1406855,"selected":false},{"name":"Mexico","value":1282725,"selected":false},{"name":"Indonesia","value":888648,"selected":false},{"name":"Netherlands","value":866354,"selected":false},{"name":"Turkey","value":806108,"selected":false},{"name":"Saudi Arabia","value":752459,"selected":false},{"name":"Switzerland","value":712050,"selected":false}],"roam":true,"name":"GDP"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["#FF0000","#FFFF00","#00FF00","#00FFFF","#0000FF","#FF00FF"],"borderColor":"#ccc","borderWidth":0,"min":712050,"max":17418925},"title":{"text":"World GDP Top 20, 2014","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="multiple-series" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Multiple Series</h3>
<p>Let’s use <code>ChinaGDP</code> dataset with ‘Year’ as data series variable.</p>
<pre class="r"><code>str(ChinaGDP)</code></pre>
<pre><code>## &#39;data.frame&#39;:    93 obs. of  3 variables:
##  $ Year: num  2014 2014 2014 2014 2014 ...
##  $ Prov: chr  &quot;广东&quot; &quot;江苏&quot; &quot;山东&quot; &quot;浙江&quot; ...
##  $ GDP : num  1103605 1059587 967419 653668 568786 ...</code></pre>
<pre class="r"><code>totGDP &lt;- data.table::dcast(ChinaGDP, Prov~., sum, value.var=&#39;GDP&#39;)</code></pre>
<pre><code>## Warning in split_indices(.group, .n): &#39;.Random.seed&#39; is not an integer
## vector but of type &#39;NULL&#39;, so ignored</code></pre>
<pre class="r"><code>ChinaGDP &lt;- ChinaGDP[order(ChinaGDP$Year),]
echartr(ChinaGDP, Prov, GDP, Year, type=&quot;map_china&quot;) %&gt;%
    setDataRange(splitNumber=0, valueRange=range(totGDP[, 2]), 
                 color=c(&#39;red&#39;,&#39;orange&#39;,&#39;yellow&#39;,&#39;limegreen&#39;,&#39;green&#39;)) %&gt;%
    setTitle(&quot;China GDP by Provice, 2012-2014&quot;)</code></pre>
<div id="htmlwidget-fd73410b3102ed89bbc3" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-fd73410b3102ed89bbc3">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":904046,"selected":false},{"name":"江苏","value":856368,"selected":false},{"name":"山东","value":792289,"selected":false},{"name":"浙江","value":549154,"selected":false},{"name":"河南","value":468900,"selected":false},{"name":"河北","value":420990,"selected":false},{"name":"辽宁","value":393607,"selected":false},{"name":"四川","value":378183,"selected":false},{"name":"湖北","value":352482,"selected":false},{"name":"湖南","value":350958,"selected":false},{"name":"上海","value":319710,"selected":false},{"name":"福建","value":312107,"selected":false},{"name":"北京","value":283238,"selected":false},{"name":"安徽","value":272666,"selected":false},{"name":"内蒙古","value":251574,"selected":false},{"name":"陕西","value":228969,"selected":false},{"name":"黑龙江","value":216896,"selected":false},{"name":"广西","value":206497,"selected":false},{"name":"江西","value":205131,"selected":false},{"name":"天津","value":204259,"selected":false},{"name":"山西","value":191886,"selected":false},{"name":"吉林","value":189136,"selected":false},{"name":"重庆","value":180746,"selected":false},{"name":"云南","value":163318,"selected":false},{"name":"新疆","value":118896,"selected":false},{"name":"贵州","value":108550,"selected":false},{"name":"甘肃","value":89508,"selected":false},{"name":"海南","value":45236,"selected":false},{"name":"宁夏","value":37090,"selected":false},{"name":"青海","value":29997,"selected":false},{"name":"西藏","value":11105,"selected":false}],"name":"2012"},{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":1003746,"selected":false},{"name":"江苏","value":955269,"selected":false},{"name":"山东","value":882974,"selected":false},{"name":"浙江","value":606609,"selected":false},{"name":"河南","value":519212,"selected":false},{"name":"河北","value":456976,"selected":false},{"name":"辽宁","value":437216,"selected":false},{"name":"四川","value":424026,"selected":false},{"name":"湖北","value":398316,"selected":false},{"name":"湖南","value":395622,"selected":false},{"name":"福建","value":351347,"selected":false},{"name":"上海","value":348804,"selected":false},{"name":"北京","value":314871,"selected":false},{"name":"安徽","value":307416,"selected":false},{"name":"内蒙古","value":271788,"selected":false},{"name":"陕西","value":259078,"selected":false},{"name":"黑龙江","value":232237,"selected":false},{"name":"广西","value":232158,"selected":false},{"name":"天津","value":232031,"selected":false},{"name":"江西","value":231520,"selected":false},{"name":"吉林","value":209608,"selected":false},{"name":"重庆","value":204364,"selected":false},{"name":"山西","value":203485,"selected":false},{"name":"云南","value":189255,"selected":false},{"name":"新疆","value":134991,"selected":false},{"name":"贵州","value":129284,"selected":false},{"name":"甘肃","value":101208,"selected":false},{"name":"海南","value":50805,"selected":false},{"name":"宁夏","value":41417,"selected":false},{"name":"青海","value":33925,"selected":false},{"name":"西藏","value":13041,"selected":false}],"name":"2013"},{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":1103605,"selected":false},{"name":"江苏","value":1059587,"selected":false},{"name":"山东","value":967419,"selected":false},{"name":"浙江","value":653668,"selected":false},{"name":"河南","value":568786,"selected":false},{"name":"河北","value":478953,"selected":false},{"name":"辽宁","value":466018,"selected":false},{"name":"四川","value":464555,"selected":false},{"name":"湖北","value":445514,"selected":false},{"name":"湖南","value":440328,"selected":false},{"name":"福建","value":391609,"selected":false},{"name":"上海","value":383554,"selected":false},{"name":"北京","value":347249,"selected":false},{"name":"安徽","value":339401,"selected":false},{"name":"内蒙古","value":289274,"selected":false},{"name":"陕西","value":287978,"selected":false},{"name":"天津","value":255950,"selected":false},{"name":"江西","value":255724,"selected":false},{"name":"广西","value":255144,"selected":false},{"name":"黑龙江","value":244829,"selected":false},{"name":"重庆","value":232230,"selected":false},{"name":"吉林","value":224715,"selected":false},{"name":"云南","value":208612,"selected":false},{"name":"山西","value":207714,"selected":false},{"name":"新疆","value":150812,"selected":false},{"name":"贵州","value":150599,"selected":false},{"name":"甘肃","value":111273,"selected":false},{"name":"海南","value":56989,"selected":false},{"name":"宁夏","value":44802,"selected":false},{"name":"青海","value":37460,"selected":false},{"name":"西藏","value":14990,"selected":false}],"name":"2014"}],"legend":{"show":true,"data":["2012","2013","2014"],"x":"left","y":"top","orient":"horizontal"},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["red","orange","yellow","limegreen","green"],"borderColor":"#ccc","borderWidth":0,"min":39136,"max":3011397},"title":{"text":"China GDP by Provice, 2012-2014","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<p>This applies ‘sum’ as <code>mapvalueCalculation</code> method. Add ‘average’ to <code>subtype</code> to change the method to ‘avarge’.</p>
<pre class="r"><code>echartr(ChinaGDP, Prov, GDP, Year, type=&quot;map_china&quot;, subtype=&#39;average&#39;) %&gt;%
    setDataRange(splitNumber=0, 
                 color=c(&#39;red&#39;,&#39;orange&#39;,&#39;yellow&#39;,&#39;limegreen&#39;,&#39;green&#39;)) %&gt;%
    setTitle(&quot;China GDP by Provice, 2012-2014&quot;)</code></pre>
<div id="htmlwidget-4c70420711598d30a6ac" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-4c70420711598d30a6ac">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":904046,"selected":false},{"name":"江苏","value":856368,"selected":false},{"name":"山东","value":792289,"selected":false},{"name":"浙江","value":549154,"selected":false},{"name":"河南","value":468900,"selected":false},{"name":"河北","value":420990,"selected":false},{"name":"辽宁","value":393607,"selected":false},{"name":"四川","value":378183,"selected":false},{"name":"湖北","value":352482,"selected":false},{"name":"湖南","value":350958,"selected":false},{"name":"上海","value":319710,"selected":false},{"name":"福建","value":312107,"selected":false},{"name":"北京","value":283238,"selected":false},{"name":"安徽","value":272666,"selected":false},{"name":"内蒙古","value":251574,"selected":false},{"name":"陕西","value":228969,"selected":false},{"name":"黑龙江","value":216896,"selected":false},{"name":"广西","value":206497,"selected":false},{"name":"江西","value":205131,"selected":false},{"name":"天津","value":204259,"selected":false},{"name":"山西","value":191886,"selected":false},{"name":"吉林","value":189136,"selected":false},{"name":"重庆","value":180746,"selected":false},{"name":"云南","value":163318,"selected":false},{"name":"新疆","value":118896,"selected":false},{"name":"贵州","value":108550,"selected":false},{"name":"甘肃","value":89508,"selected":false},{"name":"海南","value":45236,"selected":false},{"name":"宁夏","value":37090,"selected":false},{"name":"青海","value":29997,"selected":false},{"name":"西藏","value":11105,"selected":false}],"name":"2012","mapValueCalculation":"average"},{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":1003746,"selected":false},{"name":"江苏","value":955269,"selected":false},{"name":"山东","value":882974,"selected":false},{"name":"浙江","value":606609,"selected":false},{"name":"河南","value":519212,"selected":false},{"name":"河北","value":456976,"selected":false},{"name":"辽宁","value":437216,"selected":false},{"name":"四川","value":424026,"selected":false},{"name":"湖北","value":398316,"selected":false},{"name":"湖南","value":395622,"selected":false},{"name":"福建","value":351347,"selected":false},{"name":"上海","value":348804,"selected":false},{"name":"北京","value":314871,"selected":false},{"name":"安徽","value":307416,"selected":false},{"name":"内蒙古","value":271788,"selected":false},{"name":"陕西","value":259078,"selected":false},{"name":"黑龙江","value":232237,"selected":false},{"name":"广西","value":232158,"selected":false},{"name":"天津","value":232031,"selected":false},{"name":"江西","value":231520,"selected":false},{"name":"吉林","value":209608,"selected":false},{"name":"重庆","value":204364,"selected":false},{"name":"山西","value":203485,"selected":false},{"name":"云南","value":189255,"selected":false},{"name":"新疆","value":134991,"selected":false},{"name":"贵州","value":129284,"selected":false},{"name":"甘肃","value":101208,"selected":false},{"name":"海南","value":50805,"selected":false},{"name":"宁夏","value":41417,"selected":false},{"name":"青海","value":33925,"selected":false},{"name":"西藏","value":13041,"selected":false}],"name":"2013","mapValueCalculation":"average"},{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":1103605,"selected":false},{"name":"江苏","value":1059587,"selected":false},{"name":"山东","value":967419,"selected":false},{"name":"浙江","value":653668,"selected":false},{"name":"河南","value":568786,"selected":false},{"name":"河北","value":478953,"selected":false},{"name":"辽宁","value":466018,"selected":false},{"name":"四川","value":464555,"selected":false},{"name":"湖北","value":445514,"selected":false},{"name":"湖南","value":440328,"selected":false},{"name":"福建","value":391609,"selected":false},{"name":"上海","value":383554,"selected":false},{"name":"北京","value":347249,"selected":false},{"name":"安徽","value":339401,"selected":false},{"name":"内蒙古","value":289274,"selected":false},{"name":"陕西","value":287978,"selected":false},{"name":"天津","value":255950,"selected":false},{"name":"江西","value":255724,"selected":false},{"name":"广西","value":255144,"selected":false},{"name":"黑龙江","value":244829,"selected":false},{"name":"重庆","value":232230,"selected":false},{"name":"吉林","value":224715,"selected":false},{"name":"云南","value":208612,"selected":false},{"name":"山西","value":207714,"selected":false},{"name":"新疆","value":150812,"selected":false},{"name":"贵州","value":150599,"selected":false},{"name":"甘肃","value":111273,"selected":false},{"name":"海南","value":56989,"selected":false},{"name":"宁夏","value":44802,"selected":false},{"name":"青海","value":37460,"selected":false},{"name":"西藏","value":14990,"selected":false}],"name":"2014","mapValueCalculation":"average"}],"legend":{"show":true,"data":["2012","2013","2014"],"x":"left","y":"top","orient":"horizontal"},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["red","orange","yellow","limegreen","green"],"borderColor":"#ccc","borderWidth":0,"min":11105,"max":1103605},"title":{"text":"China GDP by Provice, 2012-2014","x":"center","y":"bottom","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="maps-with-timeline" class="section level3">
<h3><span class="header-section-number">3.3.3</span> Maps with Timeline</h3>
<p>Put ‘Year’ as <code>t</code>, we will get a map with timeline.</p>
<pre class="r"><code>echartr(ChinaGDP, Prov, GDP, t=Year, type=&quot;map_china&quot;, subtype=&#39;average&#39;) %&gt;%
    setDataRange(splitNumber=0, 
                 color=c(&#39;red&#39;,&#39;orange&#39;,&#39;yellow&#39;,&#39;limegreen&#39;,&#39;green&#39;)) %&gt;%
    setTitle(&quot;China GDP by Provice, 2012-2014&quot;)</code></pre>
<div id="htmlwidget-67028a65e352769212e5" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-67028a65e352769212e5">{"x":{"timeline":{"type":"number","data":[2012,2013,2014],"x":90,"x2":80,"y2":50},"options":[{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":904046,"selected":false},{"name":"江苏","value":856368,"selected":false},{"name":"山东","value":792289,"selected":false},{"name":"浙江","value":549154,"selected":false},{"name":"河南","value":468900,"selected":false},{"name":"河北","value":420990,"selected":false},{"name":"辽宁","value":393607,"selected":false},{"name":"四川","value":378183,"selected":false},{"name":"湖北","value":352482,"selected":false},{"name":"湖南","value":350958,"selected":false},{"name":"上海","value":319710,"selected":false},{"name":"福建","value":312107,"selected":false},{"name":"北京","value":283238,"selected":false},{"name":"安徽","value":272666,"selected":false},{"name":"内蒙古","value":251574,"selected":false},{"name":"陕西","value":228969,"selected":false},{"name":"黑龙江","value":216896,"selected":false},{"name":"广西","value":206497,"selected":false},{"name":"江西","value":205131,"selected":false},{"name":"天津","value":204259,"selected":false},{"name":"山西","value":191886,"selected":false},{"name":"吉林","value":189136,"selected":false},{"name":"重庆","value":180746,"selected":false},{"name":"云南","value":163318,"selected":false},{"name":"新疆","value":118896,"selected":false},{"name":"贵州","value":108550,"selected":false},{"name":"甘肃","value":89508,"selected":false},{"name":"海南","value":45236,"selected":false},{"name":"宁夏","value":37090,"selected":false},{"name":"青海","value":29997,"selected":false},{"name":"西藏","value":11105,"selected":false}],"name":"GDP","mapValueCalculation":"average"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["red","orange","yellow","limegreen","green"],"borderColor":"#ccc","borderWidth":0,"min":11105,"max":1103605},"title":{"text":"China GDP by Provice, 2012-2014 (Year: 2012)","x":"center","y":"bottom","orient":"horizontal"}},{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":1003746,"selected":false},{"name":"江苏","value":955269,"selected":false},{"name":"山东","value":882974,"selected":false},{"name":"浙江","value":606609,"selected":false},{"name":"河南","value":519212,"selected":false},{"name":"河北","value":456976,"selected":false},{"name":"辽宁","value":437216,"selected":false},{"name":"四川","value":424026,"selected":false},{"name":"湖北","value":398316,"selected":false},{"name":"湖南","value":395622,"selected":false},{"name":"福建","value":351347,"selected":false},{"name":"上海","value":348804,"selected":false},{"name":"北京","value":314871,"selected":false},{"name":"安徽","value":307416,"selected":false},{"name":"内蒙古","value":271788,"selected":false},{"name":"陕西","value":259078,"selected":false},{"name":"黑龙江","value":232237,"selected":false},{"name":"广西","value":232158,"selected":false},{"name":"天津","value":232031,"selected":false},{"name":"江西","value":231520,"selected":false},{"name":"吉林","value":209608,"selected":false},{"name":"重庆","value":204364,"selected":false},{"name":"山西","value":203485,"selected":false},{"name":"云南","value":189255,"selected":false},{"name":"新疆","value":134991,"selected":false},{"name":"贵州","value":129284,"selected":false},{"name":"甘肃","value":101208,"selected":false},{"name":"海南","value":50805,"selected":false},{"name":"宁夏","value":41417,"selected":false},{"name":"青海","value":33925,"selected":false},{"name":"西藏","value":13041,"selected":false}],"name":"GDP","mapValueCalculation":"average"}],"title":{"text":"China GDP by Provice, 2012-2014 (Year: 2013)","x":"center","y":"bottom","orient":"horizontal"}},{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"广东","value":1103605,"selected":false},{"name":"江苏","value":1059587,"selected":false},{"name":"山东","value":967419,"selected":false},{"name":"浙江","value":653668,"selected":false},{"name":"河南","value":568786,"selected":false},{"name":"河北","value":478953,"selected":false},{"name":"辽宁","value":466018,"selected":false},{"name":"四川","value":464555,"selected":false},{"name":"湖北","value":445514,"selected":false},{"name":"湖南","value":440328,"selected":false},{"name":"福建","value":391609,"selected":false},{"name":"上海","value":383554,"selected":false},{"name":"北京","value":347249,"selected":false},{"name":"安徽","value":339401,"selected":false},{"name":"内蒙古","value":289274,"selected":false},{"name":"陕西","value":287978,"selected":false},{"name":"天津","value":255950,"selected":false},{"name":"江西","value":255724,"selected":false},{"name":"广西","value":255144,"selected":false},{"name":"黑龙江","value":244829,"selected":false},{"name":"重庆","value":232230,"selected":false},{"name":"吉林","value":224715,"selected":false},{"name":"云南","value":208612,"selected":false},{"name":"山西","value":207714,"selected":false},{"name":"新疆","value":150812,"selected":false},{"name":"贵州","value":150599,"selected":false},{"name":"甘肃","value":111273,"selected":false},{"name":"海南","value":56989,"selected":false},{"name":"宁夏","value":44802,"selected":false},{"name":"青海","value":37460,"selected":false},{"name":"西藏","value":14990,"selected":false}],"name":"GDP","mapValueCalculation":"average"}],"title":{"text":"China GDP by Provice, 2012-2014 (Year: 2014)","x":"center","y":"bottom","orient":"horizontal"}}]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="extensive-data-map-mode" class="section level2">
<h2><span class="header-section-number">3.4</span> Extensive Data Map Mode</h2>
<div id="multi-select-data-map" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Multi-select Data Map</h3>
<p>Just set <code>type</code> ‘map_world_multi’ or ‘map_china_multi’. The rest are similar to above.</p>
</div>
<div id="multiple-maps-1" class="section level3">
<h3><span class="header-section-number">3.4.2</span> Multiple Maps</h3>
<p>Let’s tile the countries with top 10 GDP on the chart rather than showing them where they are.</p>
<pre class="r"><code>worldgdp &lt;- worldgdp[order(worldgdp$GDP, decreasing=TRUE),]
worldgdp10 &lt;- worldgdp[1:10, ]

echartr(worldgdp10, country, GDP, facet=country, type=&#39;map_world&#39;, 
        subtype=as.list(worldgdp10$country)) %&gt;% 
    setDataRange(color=c(
        &#39;red&#39;, &#39;orange&#39;, &#39;yellow&#39;, &#39;limegreen&#39;, &#39;green&#39;), pos=4) %&gt;%
    setSymbols(&#39;none&#39;)</code></pre>
<div id="htmlwidget-9200f9c1d7ae80b6d2d5" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-9200f9c1d7ae80b6d2d5">{"x":{"series":[{"type":"map","mapType":"world|United States of America","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"United States of America","value":17418925,"selected":false}],"name":"GDP","mapLocation":{"x":"6.875%","y":"10.625%","width":"18.5%","height":"26%"}},{"type":"map","mapType":"world|China","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"China","value":10380380,"selected":false}],"name":"GDP","mapLocation":{"x":"29.375%","y":"10.625%","width":"18.5%","height":"26%"}},{"type":"map","mapType":"world|Japan","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"Japan","value":4616335,"selected":false}],"name":"GDP","mapLocation":{"x":"51.875%","y":"10.625%","width":"18.5%","height":"26%"}},{"type":"map","mapType":"world|Germany","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"Germany","value":3859547,"selected":false}],"name":"GDP","mapLocation":{"x":"74.375%","y":"10.625%","width":"18.5%","height":"26%"}},{"type":"map","mapType":"world|United Kingdom","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"United Kingdom","value":2945146,"selected":false}],"name":"GDP","mapLocation":{"x":"6.875%","y":"40.625%","width":"18.5%","height":"26%"}},{"type":"map","mapType":"world|France","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"France","value":2846889,"selected":false}],"name":"GDP","mapLocation":{"x":"29.375%","y":"40.625%","width":"18.5%","height":"26%"}},{"type":"map","mapType":"world|Brazil","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"Brazil","value":2353025,"selected":false}],"name":"GDP","mapLocation":{"x":"51.875%","y":"40.625%","width":"18.5%","height":"26%"}},{"type":"map","mapType":"world|Italy","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"Italy","value":2147952,"selected":false}],"name":"GDP","mapLocation":{"x":"74.375%","y":"40.625%","width":"18.5%","height":"26%"}},{"type":"map","mapType":"world|India","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"India","value":2049501,"selected":false}],"name":"GDP","mapLocation":{"x":"6.875%","y":"70.625%","width":"18.5%","height":"26%"}},{"type":"map","mapType":"world|Russia","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[{"name":"Russia","value":1857461,"selected":false}],"name":"GDP","mapLocation":{"x":"29.375%","y":"70.625%","width":"18.5%","height":"26%"}}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["GDP"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":false,"itemWidth":6,"selectedMode":true,"x":"right","y":"bottom","orient":"vertical","color":["red","orange","yellow","limegreen","green"],"borderColor":"#ccc","borderWidth":0,"min":1857461,"max":17418925},"symbolList":["none","none","none","none","none","none","none","none","none","none"]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="futher-setup" class="section level1">
<h1><span class="header-section-number">4</span> Futher Setup</h1>
<p>Then you can configure the widgets, add markLines and/or markPoints, fortify the chart.</p>
<div id="addoveride-namemap" class="section level2">
<h2><span class="header-section-number">4.1</span> Add/Overide nameMap</h2>
<p>Maybe you want to show the China province names in English. You can use <code>addNameMap</code> or <code>overideNameMap</code> function.</p>
<p>There is a preinstalled dataset <strong>geoNameMap</strong> listing some Chinese and English geographic names. ‘LEVEL’ is a number ranging from 0 to 3: 0 reprensents country, 1 reprensents province, 2 reprensents city, and, 3 reprensents county. ‘FKEY’ is foreign key of the parent level. E.g., ‘China’ is in the record with ID 31, so we can get all the China provinces by <code>geoNameMap[geoNameMap$FKEY==31,]</code>.</p>
<pre class="r"><code>str(geoNameMap)</code></pre>
<pre><code>## &#39;data.frame&#39;:    3735 obs. of  5 variables:
##  $ ID   : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ EN   : chr  &quot;Afghanistan&quot; &quot;Angola&quot; &quot;Albania&quot; &quot;United Arab Emirates&quot; ...
##  $ CN   : chr  &quot;阿富汗&quot; &quot;安哥拉&quot; &quot;阿尔巴尼亚&quot; &quot;阿联酋&quot; ...
##  $ FKEY : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ LEVEL: int  0 0 0 0 0 0 0 0 0 0 ...</code></pre>
<p>So we prepare a two-column dictionary of the geographic names: Col 1 is the name in the source language, Col 2 is that in the target language. That’s the valid data structure <code>addNameMap</code> requires.</p>
<pre class="r"><code>dict &lt;- geoNameMap[geoNameMap$FKEY==31, c(&quot;CN&quot;, &quot;EN&quot;)]
echartr(NULL, type=&quot;map_china_multi&quot;) %&gt;% addNameMap(dict, mode=&#39;overide&#39;)</code></pre>
<div id="htmlwidget-6d4cdc32ddb8fcfde060" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-6d4cdc32ddb8fcfde060">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"selectedMode":"multiple","nameMap":{"北京":"Beijing","天津":"Tianjin","河北":"Hebei","山西":"Shanxi","内蒙古":"Inner Mongolia","辽宁":"Liaoning","吉林":"Jilin","黑龙江":"Heilongjiang","上海":"Shanghai","江苏":"Jiangsu","浙江":"Zhejiang","安徽":"Anhui","福建":"Fujian","江西":"Jiangxi","山东":"Shandong","河南":"Henan","湖北":"Hubei","湖南":"Hunan","广东":"Guangdong","广西":"Guangxi","海南":"Hainan","重庆":"Chongqing","四川":"Sichuan","贵州":"Guizhou","云南":"Yunnan","西藏":"Xizang","陕西":"Shaanxi","甘肃":"Gansu","青海":"Qinghai","宁夏":"Ningxia","新疆":"Xinjiang","台湾":"Taiwan","香港":"Hong Kong","澳门":"Macau"}}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="addoveride-markline" class="section level2">
<h2><span class="header-section-number">4.2</span> Add/Overide markLine</h2>
<div id="addmarkline" class="section level3">
<h3><span class="header-section-number">4.2.1</span> <code>addMarkLine</code></h3>
<p>Based on a base map, we can add markLines using <code>addMarkLine</code> (or <code>addML</code> for short) or <code>overideMarkLine</code>.</p>
<p>This instance makes use of another preinstalled dataset <strong>flight</strong>.</p>
<pre class="r"><code>str(flight)</code></pre>
<pre><code>## List of 2
##  $ route:&#39;data.frame&#39;:   150 obs. of  2 variables:
##   ..$ From: chr [1:150] &quot;北京&quot; &quot;北京&quot; &quot;北京&quot; &quot;北京&quot; ...
##   ..$ To  : chr [1:150] &quot;包头&quot; &quot;北海&quot; &quot;广州&quot; &quot;郑州&quot; ...
##  $ coord:&#39;data.frame&#39;:   114 obs. of  3 variables:
##   ..$ Place: chr [1:114] &quot;上海&quot; &quot;东莞&quot; &quot;东营&quot; &quot;中山&quot; ...
##   ..$ Lng  : num [1:114] 121 114 119 113 111 ...
##   ..$ Lat  : num [1:114] 31.3 22.9 37.6 22.5 36.2 ...</code></pre>
<pre class="r"><code>route &lt;- flight$route
names(route) &lt;- c(&#39;name1&#39;, &#39;name2&#39;)
coord &lt;- flight$coord
g &lt;- echartr(NULL, type=&#39;map_china&#39;) %&gt;% 
    addML(series=&#39;北京&#39;, data=route[route$name1==&#39;北京&#39;,]) %&gt;% 
    addML(series=&#39;上海&#39;, data=route[route$name1==&#39;上海&#39;,]) %&gt;% 
    addML(series=&#39;广州&#39;, data=route[route$name1==&#39;广州&#39;,])
g</code></pre>
<div id="htmlwidget-2450444ba337d8d3e681" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-2450444ba337d8d3e681">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[]},{"name":"北京","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"北京"},{"name":"包头"}],[{"name":"北京"},{"name":"北海"}],[{"name":"北京"},{"name":"广州"}],[{"name":"北京"},{"name":"郑州"}],[{"name":"北京"},{"name":"长春"}],[{"name":"北京"},{"name":"长治"}],[{"name":"北京"},{"name":"重庆"}],[{"name":"北京"},{"name":"长沙"}],[{"name":"北京"},{"name":"成都"}],[{"name":"北京"},{"name":"常州"}],[{"name":"北京"},{"name":"丹东"}],[{"name":"北京"},{"name":"大连"}],[{"name":"北京"},{"name":"东营"}],[{"name":"北京"},{"name":"延安"}],[{"name":"北京"},{"name":"福州"}],[{"name":"北京"},{"name":"海口"}],[{"name":"北京"},{"name":"呼和浩特"}],[{"name":"北京"},{"name":"合肥"}],[{"name":"北京"},{"name":"杭州"}],[{"name":"北京"},{"name":"哈尔滨"}],[{"name":"北京"},{"name":"舟山"}],[{"name":"北京"},{"name":"银川"}],[{"name":"北京"},{"name":"衢州"}],[{"name":"北京"},{"name":"南昌"}],[{"name":"北京"},{"name":"昆明"}],[{"name":"北京"},{"name":"贵阳"}],[{"name":"北京"},{"name":"兰州"}],[{"name":"北京"},{"name":"拉萨"}],[{"name":"北京"},{"name":"连云港"}],[{"name":"北京"},{"name":"临沂"}],[{"name":"北京"},{"name":"柳州"}],[{"name":"北京"},{"name":"宁波"}],[{"name":"北京"},{"name":"南京"}],[{"name":"北京"},{"name":"南宁"}],[{"name":"北京"},{"name":"南通"}],[{"name":"北京"},{"name":"上海"}],[{"name":"北京"},{"name":"沈阳"}],[{"name":"北京"},{"name":"西安"}],[{"name":"北京"},{"name":"汕头"}],[{"name":"北京"},{"name":"深圳"}],[{"name":"北京"},{"name":"青岛"}],[{"name":"北京"},{"name":"济南"}],[{"name":"北京"},{"name":"太原"}],[{"name":"北京"},{"name":"乌鲁木齐"}],[{"name":"北京"},{"name":"潍坊"}],[{"name":"北京"},{"name":"威海"}],[{"name":"北京"},{"name":"温州"}],[{"name":"北京"},{"name":"武汉"}],[{"name":"北京"},{"name":"无锡"}],[{"name":"北京"},{"name":"厦门"}],[{"name":"北京"},{"name":"西宁"}],[{"name":"北京"},{"name":"徐州"}],[{"name":"北京"},{"name":"烟台"}],[{"name":"北京"},{"name":"盐城"}],[{"name":"北京"},{"name":"珠海"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"mapType":"china"},{"name":"上海","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"上海"},{"name":"包头"}],[{"name":"上海"},{"name":"北海"}],[{"name":"上海"},{"name":"广州"}],[{"name":"上海"},{"name":"郑州"}],[{"name":"上海"},{"name":"长春"}],[{"name":"上海"},{"name":"重庆"}],[{"name":"上海"},{"name":"长沙"}],[{"name":"上海"},{"name":"成都"}],[{"name":"上海"},{"name":"丹东"}],[{"name":"上海"},{"name":"大连"}],[{"name":"上海"},{"name":"福州"}],[{"name":"上海"},{"name":"海口"}],[{"name":"上海"},{"name":"呼和浩特"}],[{"name":"上海"},{"name":"合肥"}],[{"name":"上海"},{"name":"哈尔滨"}],[{"name":"上海"},{"name":"舟山"}],[{"name":"上海"},{"name":"银川"}],[{"name":"上海"},{"name":"南昌"}],[{"name":"上海"},{"name":"昆明"}],[{"name":"上海"},{"name":"贵阳"}],[{"name":"上海"},{"name":"兰州"}],[{"name":"上海"},{"name":"拉萨"}],[{"name":"上海"},{"name":"连云港"}],[{"name":"上海"},{"name":"临沂"}],[{"name":"上海"},{"name":"柳州"}],[{"name":"上海"},{"name":"宁波"}],[{"name":"上海"},{"name":"南宁"}],[{"name":"上海"},{"name":"北京"}],[{"name":"上海"},{"name":"沈阳"}],[{"name":"上海"},{"name":"秦皇岛"}],[{"name":"上海"},{"name":"西安"}],[{"name":"上海"},{"name":"石家庄"}],[{"name":"上海"},{"name":"汕头"}],[{"name":"上海"},{"name":"深圳"}],[{"name":"上海"},{"name":"青岛"}],[{"name":"上海"},{"name":"济南"}],[{"name":"上海"},{"name":"天津"}],[{"name":"上海"},{"name":"太原"}],[{"name":"上海"},{"name":"乌鲁木齐"}],[{"name":"上海"},{"name":"潍坊"}],[{"name":"上海"},{"name":"威海"}],[{"name":"上海"},{"name":"温州"}],[{"name":"上海"},{"name":"武汉"}],[{"name":"上海"},{"name":"厦门"}],[{"name":"上海"},{"name":"西宁"}],[{"name":"上海"},{"name":"徐州"}],[{"name":"上海"},{"name":"烟台"}],[{"name":"上海"},{"name":"珠海"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"mapType":"china"},{"name":"广州","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"广州"},{"name":"北海"}],[{"name":"广州"},{"name":"郑州"}],[{"name":"广州"},{"name":"长春"}],[{"name":"广州"},{"name":"重庆"}],[{"name":"广州"},{"name":"长沙"}],[{"name":"广州"},{"name":"成都"}],[{"name":"广州"},{"name":"常州"}],[{"name":"广州"},{"name":"大连"}],[{"name":"广州"},{"name":"福州"}],[{"name":"广州"},{"name":"海口"}],[{"name":"广州"},{"name":"呼和浩特"}],[{"name":"广州"},{"name":"合肥"}],[{"name":"广州"},{"name":"杭州"}],[{"name":"广州"},{"name":"哈尔滨"}],[{"name":"广州"},{"name":"舟山"}],[{"name":"广州"},{"name":"银川"}],[{"name":"广州"},{"name":"南昌"}],[{"name":"广州"},{"name":"昆明"}],[{"name":"广州"},{"name":"贵阳"}],[{"name":"广州"},{"name":"兰州"}],[{"name":"广州"},{"name":"拉萨"}],[{"name":"广州"},{"name":"连云港"}],[{"name":"广州"},{"name":"临沂"}],[{"name":"广州"},{"name":"柳州"}],[{"name":"广州"},{"name":"宁波"}],[{"name":"广州"},{"name":"南京"}],[{"name":"广州"},{"name":"南宁"}],[{"name":"广州"},{"name":"南通"}],[{"name":"广州"},{"name":"北京"}],[{"name":"广州"},{"name":"上海"}],[{"name":"广州"},{"name":"沈阳"}],[{"name":"广州"},{"name":"西安"}],[{"name":"广州"},{"name":"石家庄"}],[{"name":"广州"},{"name":"汕头"}],[{"name":"广州"},{"name":"青岛"}],[{"name":"广州"},{"name":"济南"}],[{"name":"广州"},{"name":"天津"}],[{"name":"广州"},{"name":"太原"}],[{"name":"广州"},{"name":"乌鲁木齐"}],[{"name":"广州"},{"name":"温州"}],[{"name":"广州"},{"name":"武汉"}],[{"name":"广州"},{"name":"无锡"}],[{"name":"广州"},{"name":"厦门"}],[{"name":"广州"},{"name":"西宁"}],[{"name":"广州"},{"name":"徐州"}],[{"name":"广州"},{"name":"烟台"}],[{"name":"广州"},{"name":"盐城"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"mapType":"china"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["北京","上海","广州"],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<p>It is equivalent to</p>
<pre class="r"><code>g &lt;- echartr(NULL, type=&#39;map_china&#39;) %&gt;% 
    addML(series=c(&#39;北京&#39;, &#39;上海&#39;, &#39;广州), data=route) </code></pre>
</div>
<div id="addgeocoord" class="section level3">
<h3><span class="header-section-number">4.2.2</span> <code>addGeoCoord</code></h3>
<p>But the markLines are not shown yet. You have to append the longitudes and latitudes of the places ever appear in the markLine dataset using <code>addGeoCoord</code>.</p>
<pre class="r"><code>g %&gt;% addGeoCoord(coord)</code></pre>
<div id="htmlwidget-16ced3ed25891639a952" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-16ced3ed25891639a952">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"geoCoord":{"上海":[121.4648,31.2891],"东莞":[113.8953,22.901],"东营":[118.7073,37.5513],"中山":[113.4229,22.478],"临汾":[111.4783,36.1615],"临沂":[118.3118,35.2936],"丹东":[124.541,40.4242],"丽水":[119.5642,28.1854],"乌鲁木齐":[87.9236,43.5883],"佛山":[112.8955,23.1097],"保定":[115.0488,39.0948],"兰州":[103.5901,36.3043],"包头":[110.3467,41.4899],"北京":[116.4551,40.2539],"北海":[109.314,21.6211],"南京":[118.8062,31.9208],"南宁":[108.479,23.1152],"南昌":[116.0046,28.6633],"南通":[121.1023,32.1625],"厦门":[118.1689,24.6478],"台州":[121.1353,28.6688],"合肥":[117.29,32.0581],"呼和浩特":[111.4124,40.4901],"咸阳":[108.4131,34.8706],"哈尔滨":[127.9688,45.368],"唐山":[118.4766,39.6826],"嘉兴":[120.9155,30.6354],"大同":[113.7854,39.8035],"大连":[122.2229,39.4409],"天津":[117.4219,39.4189],"太原":[112.3352,37.9413],"威海":[121.9482,37.1393],"宁波":[121.5967,29.6466],"宝鸡":[107.1826,34.3433],"宿迁":[118.5535,33.7775],"常州":[119.4543,31.5582],"广州":[113.5107,23.2196],"廊坊":[116.521,39.0509],"延安":[109.1052,36.4252],"张家口":[115.1477,40.8527],"徐州":[117.5208,34.3268],"德州":[116.6858,37.2107],"惠州":[114.6204,23.1647],"成都":[103.9526,30.7617],"扬州":[119.4653,32.8162],"承德":[117.5757,41.4075],"拉萨":[91.1865,30.1465],"无锡":[120.3442,31.5527],"日照":[119.2786,35.5023],"昆明":[102.9199,25.4663],"杭州":[119.5313,29.8773],"枣庄":[117.323,34.8926],"柳州":[109.3799,24.9774],"株洲":[113.5327,27.0319],"武汉":[114.3896,30.6628],"汕头":[117.1692,23.3405],"江门":[112.6318,22.1484],"沈阳":[123.1238,42.1216],"沧州":[116.8286,38.2104],"河源":[114.917,23.9722],"泉州":[118.3228,25.1147],"泰安":[117.0264,36.0516],"泰州":[120.0586,32.5525],"济南":[117.1582,36.8701],"济宁":[116.8286,35.3375],"海口":[110.3893,19.8516],"淄博":[118.0371,36.6064],"淮安":[118.927,33.4039],"深圳":[114.5435,22.5439],"清远":[112.9175,24.3292],"温州":[120.498,27.8119],"渭南":[109.7864,35.0299],"湖州":[119.8608,30.7782],"湘潭":[112.5439,27.7075],"滨州":[117.8174,37.4963],"潍坊":[119.0918,36.524],"烟台":[120.7397,37.5128],"玉溪":[101.9312,23.8898],"珠海":[113.7305,22.1155],"盐城":[120.2234,33.5577],"盘锦":[121.9482,41.0449],"石家庄":[114.4995,38.1006],"福州":[119.4543,25.9222],"秦皇岛":[119.2126,40.0232],"绍兴":[120.564,29.7565],"聊城":[115.9167,36.4032],"肇庆":[112.1265,23.5822],"舟山":[122.2559,30.2234],"苏州":[120.6519,31.3989],"莱芜":[117.6526,36.2714],"菏泽":[115.6201,35.2057],"营口":[122.4316,40.4297],"葫芦岛":[120.1575,40.578],"衡水":[115.8838,37.7161],"衢州":[118.6853,28.8666],"西宁":[101.4038,36.8207],"西安":[109.1162,34.2004],"贵阳":[106.6992,26.7682],"连云港":[119.1248,34.552],"邢台":[114.8071,37.2821],"邯郸":[114.4775,36.535],"郑州":[113.4668,34.6234],"鄂尔多斯":[108.9734,39.2487],"重庆":[107.7539,30.1904],"金华":[120.0037,29.1028],"铜川":[109.0393,35.1947],"银川":[106.3586,38.1775],"镇江":[119.4763,31.9702],"长春":[125.8154,44.2584],"长沙":[113.0823,28.2568],"长治":[112.8625,36.4746],"阳泉":[113.4778,38.0951],"青岛":[120.4651,36.3373],"韶关":[113.7964,24.7028]}},{"name":"北京","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"北京"},{"name":"包头"}],[{"name":"北京"},{"name":"北海"}],[{"name":"北京"},{"name":"广州"}],[{"name":"北京"},{"name":"郑州"}],[{"name":"北京"},{"name":"长春"}],[{"name":"北京"},{"name":"长治"}],[{"name":"北京"},{"name":"重庆"}],[{"name":"北京"},{"name":"长沙"}],[{"name":"北京"},{"name":"成都"}],[{"name":"北京"},{"name":"常州"}],[{"name":"北京"},{"name":"丹东"}],[{"name":"北京"},{"name":"大连"}],[{"name":"北京"},{"name":"东营"}],[{"name":"北京"},{"name":"延安"}],[{"name":"北京"},{"name":"福州"}],[{"name":"北京"},{"name":"海口"}],[{"name":"北京"},{"name":"呼和浩特"}],[{"name":"北京"},{"name":"合肥"}],[{"name":"北京"},{"name":"杭州"}],[{"name":"北京"},{"name":"哈尔滨"}],[{"name":"北京"},{"name":"舟山"}],[{"name":"北京"},{"name":"银川"}],[{"name":"北京"},{"name":"衢州"}],[{"name":"北京"},{"name":"南昌"}],[{"name":"北京"},{"name":"昆明"}],[{"name":"北京"},{"name":"贵阳"}],[{"name":"北京"},{"name":"兰州"}],[{"name":"北京"},{"name":"拉萨"}],[{"name":"北京"},{"name":"连云港"}],[{"name":"北京"},{"name":"临沂"}],[{"name":"北京"},{"name":"柳州"}],[{"name":"北京"},{"name":"宁波"}],[{"name":"北京"},{"name":"南京"}],[{"name":"北京"},{"name":"南宁"}],[{"name":"北京"},{"name":"南通"}],[{"name":"北京"},{"name":"上海"}],[{"name":"北京"},{"name":"沈阳"}],[{"name":"北京"},{"name":"西安"}],[{"name":"北京"},{"name":"汕头"}],[{"name":"北京"},{"name":"深圳"}],[{"name":"北京"},{"name":"青岛"}],[{"name":"北京"},{"name":"济南"}],[{"name":"北京"},{"name":"太原"}],[{"name":"北京"},{"name":"乌鲁木齐"}],[{"name":"北京"},{"name":"潍坊"}],[{"name":"北京"},{"name":"威海"}],[{"name":"北京"},{"name":"温州"}],[{"name":"北京"},{"name":"武汉"}],[{"name":"北京"},{"name":"无锡"}],[{"name":"北京"},{"name":"厦门"}],[{"name":"北京"},{"name":"西宁"}],[{"name":"北京"},{"name":"徐州"}],[{"name":"北京"},{"name":"烟台"}],[{"name":"北京"},{"name":"盐城"}],[{"name":"北京"},{"name":"珠海"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"mapType":"china"},{"name":"上海","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"上海"},{"name":"包头"}],[{"name":"上海"},{"name":"北海"}],[{"name":"上海"},{"name":"广州"}],[{"name":"上海"},{"name":"郑州"}],[{"name":"上海"},{"name":"长春"}],[{"name":"上海"},{"name":"重庆"}],[{"name":"上海"},{"name":"长沙"}],[{"name":"上海"},{"name":"成都"}],[{"name":"上海"},{"name":"丹东"}],[{"name":"上海"},{"name":"大连"}],[{"name":"上海"},{"name":"福州"}],[{"name":"上海"},{"name":"海口"}],[{"name":"上海"},{"name":"呼和浩特"}],[{"name":"上海"},{"name":"合肥"}],[{"name":"上海"},{"name":"哈尔滨"}],[{"name":"上海"},{"name":"舟山"}],[{"name":"上海"},{"name":"银川"}],[{"name":"上海"},{"name":"南昌"}],[{"name":"上海"},{"name":"昆明"}],[{"name":"上海"},{"name":"贵阳"}],[{"name":"上海"},{"name":"兰州"}],[{"name":"上海"},{"name":"拉萨"}],[{"name":"上海"},{"name":"连云港"}],[{"name":"上海"},{"name":"临沂"}],[{"name":"上海"},{"name":"柳州"}],[{"name":"上海"},{"name":"宁波"}],[{"name":"上海"},{"name":"南宁"}],[{"name":"上海"},{"name":"北京"}],[{"name":"上海"},{"name":"沈阳"}],[{"name":"上海"},{"name":"秦皇岛"}],[{"name":"上海"},{"name":"西安"}],[{"name":"上海"},{"name":"石家庄"}],[{"name":"上海"},{"name":"汕头"}],[{"name":"上海"},{"name":"深圳"}],[{"name":"上海"},{"name":"青岛"}],[{"name":"上海"},{"name":"济南"}],[{"name":"上海"},{"name":"天津"}],[{"name":"上海"},{"name":"太原"}],[{"name":"上海"},{"name":"乌鲁木齐"}],[{"name":"上海"},{"name":"潍坊"}],[{"name":"上海"},{"name":"威海"}],[{"name":"上海"},{"name":"温州"}],[{"name":"上海"},{"name":"武汉"}],[{"name":"上海"},{"name":"厦门"}],[{"name":"上海"},{"name":"西宁"}],[{"name":"上海"},{"name":"徐州"}],[{"name":"上海"},{"name":"烟台"}],[{"name":"上海"},{"name":"珠海"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"mapType":"china"},{"name":"广州","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"广州"},{"name":"北海"}],[{"name":"广州"},{"name":"郑州"}],[{"name":"广州"},{"name":"长春"}],[{"name":"广州"},{"name":"重庆"}],[{"name":"广州"},{"name":"长沙"}],[{"name":"广州"},{"name":"成都"}],[{"name":"广州"},{"name":"常州"}],[{"name":"广州"},{"name":"大连"}],[{"name":"广州"},{"name":"福州"}],[{"name":"广州"},{"name":"海口"}],[{"name":"广州"},{"name":"呼和浩特"}],[{"name":"广州"},{"name":"合肥"}],[{"name":"广州"},{"name":"杭州"}],[{"name":"广州"},{"name":"哈尔滨"}],[{"name":"广州"},{"name":"舟山"}],[{"name":"广州"},{"name":"银川"}],[{"name":"广州"},{"name":"南昌"}],[{"name":"广州"},{"name":"昆明"}],[{"name":"广州"},{"name":"贵阳"}],[{"name":"广州"},{"name":"兰州"}],[{"name":"广州"},{"name":"拉萨"}],[{"name":"广州"},{"name":"连云港"}],[{"name":"广州"},{"name":"临沂"}],[{"name":"广州"},{"name":"柳州"}],[{"name":"广州"},{"name":"宁波"}],[{"name":"广州"},{"name":"南京"}],[{"name":"广州"},{"name":"南宁"}],[{"name":"广州"},{"name":"南通"}],[{"name":"广州"},{"name":"北京"}],[{"name":"广州"},{"name":"上海"}],[{"name":"广州"},{"name":"沈阳"}],[{"name":"广州"},{"name":"西安"}],[{"name":"广州"},{"name":"石家庄"}],[{"name":"广州"},{"name":"汕头"}],[{"name":"广州"},{"name":"青岛"}],[{"name":"广州"},{"name":"济南"}],[{"name":"广州"},{"name":"天津"}],[{"name":"广州"},{"name":"太原"}],[{"name":"广州"},{"name":"乌鲁木齐"}],[{"name":"广州"},{"name":"温州"}],[{"name":"广州"},{"name":"武汉"}],[{"name":"广州"},{"name":"无锡"}],[{"name":"广州"},{"name":"厦门"}],[{"name":"广州"},{"name":"西宁"}],[{"name":"广州"},{"name":"徐州"}],[{"name":"广州"},{"name":"烟台"}],[{"name":"广州"},{"name":"盐城"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"mapType":"china"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["北京","上海","广州"],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="addoveride-markpoint" class="section level2">
<h2><span class="header-section-number">4.3</span> Add/Overide markPoint</h2>
<div id="addmarkpoint" class="section level3">
<h3><span class="header-section-number">4.3.1</span> <code>addMarkPoint</code></h3>
<p>Based on a base map, we can add markLines using <code>addMarkPoint</code> (or <code>addMP</code> for short) or <code>overideMarkPoint</code>.</p>
<p>This instance makes use of another preinstalled dataset <strong>chinapm25</strong>.</p>
<pre class="r"><code>str(chinapm25)</code></pre>
<pre><code>## &#39;data.frame&#39;:    190 obs. of  4 variables:
##  $ City : chr  &quot;海门&quot; &quot;鄂尔多斯&quot; &quot;招远&quot; &quot;舟山&quot; ...
##  $ Value: num  9 12 12 12 14 15 16 18 18 19 ...
##  $ Lng  : num  121 110 120 122 124 ...
##  $ Lat  : num  31.9 39.6 37.4 30 47.3 ...</code></pre>
<pre class="r"><code>names(chinapm25) &lt;- c(&#39;name&#39;, &#39;value&#39;, &#39;lng&#39;, &#39;lat&#39;)

g &lt;- echartr(NULL, type=&#39;map_china&#39;) %&gt;% 
    addMP(data=chinapm25[,c(&#39;name&#39;, &#39;value&#39;)], symbolSize=5, itemStyle=list(
        normal=list(borderColor=&#39;#87cefa&#39;, borderWidth=1,
                    label=list(show=FALSE)), 
        emphasis=list(borderColor=&#39;#1e90ff&#39;, borderWidth=5, 
                      label=list(show=FALSE))
    )) %&gt;%
    addMP(series=&#39;Top 5&#39;, 
          data=data.frame(
              name=c(&#39;廊坊&#39;, &#39;合肥&#39;, &#39;菏泽&#39;, &#39;武汉&#39;, &#39;大庆&#39;),
              value=c(193, 194, 229, 273, 279)), 
          symbol=&#39;emptyCircle&#39;,
          symbolSize=JS(&#39;function (v) {return 10 + v/100;}&#39;), 
          effect=list(show=TRUE)
    ) %&gt;%
    setDataRange(splitNumber=0, valueRange=c(0, 500), color=c(
        &#39;maroon&#39;, &#39;purple&#39;, &#39;red&#39;, &#39;orange&#39;, &#39;yellow&#39;, &#39;lightgreen&#39;))
g</code></pre>
<div id="htmlwidget-705b2f10f10a44eea30b" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-705b2f10f10a44eea30b">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"markPoint":{"data":[{"name":"海门","value":9},{"name":"鄂尔多斯","value":12},{"name":"招远","value":12},{"name":"舟山","value":12},{"name":"齐齐哈尔","value":14},{"name":"盐城","value":15},{"name":"赤峰","value":16},{"name":"青岛","value":18},{"name":"乳山","value":18},{"name":"金昌","value":19},{"name":"泉州","value":21},{"name":"莱西","value":21},{"name":"日照","value":21},{"name":"胶南","value":22},{"name":"南通","value":23},{"name":"拉萨","value":24},{"name":"云浮","value":24},{"name":"梅州","value":25},{"name":"文登","value":25},{"name":"上海","value":25},{"name":"攀枝花","value":25},{"name":"威海","value":25},{"name":"承德","value":25},{"name":"厦门","value":26},{"name":"汕尾","value":26},{"name":"潮州","value":26},{"name":"丹东","value":27},{"name":"太仓","value":27},{"name":"曲靖","value":27},{"name":"烟台","value":28},{"name":"福州","value":29},{"name":"瓦房店","value":30},{"name":"即墨","value":30},{"name":"抚顺","value":31},{"name":"玉溪","value":31},{"name":"张家口","value":31},{"name":"阳泉","value":31},{"name":"莱州","value":32},{"name":"湖州","value":32},{"name":"汕头","value":32},{"name":"昆山","value":33},{"name":"宁波","value":33},{"name":"湛江","value":33},{"name":"揭阳","value":34},{"name":"荣成","value":34},{"name":"连云港","value":35},{"name":"葫芦岛","value":35},{"name":"常熟","value":36},{"name":"东莞","value":36},{"name":"河源","value":36},{"name":"淮安","value":36},{"name":"泰州","value":36},{"name":"南宁","value":37},{"name":"营口","value":37},{"name":"惠州","value":37},{"name":"江阴","value":37},{"name":"蓬莱","value":37},{"name":"韶关","value":38},{"name":"嘉峪关","value":38},{"name":"广州","value":38},{"name":"延安","value":38},{"name":"太原","value":39},{"name":"清远","value":39},{"name":"中山","value":39},{"name":"昆明","value":39},{"name":"寿光","value":40},{"name":"盘锦","value":40},{"name":"长治","value":41},{"name":"深圳","value":41},{"name":"珠海","value":42},{"name":"宿迁","value":43},{"name":"咸阳","value":43},{"name":"铜川","value":44},{"name":"平度","value":44},{"name":"佛山","value":44},{"name":"海口","value":44},{"name":"江门","value":45},{"name":"章丘","value":45},{"name":"肇庆","value":46},{"name":"大连","value":47},{"name":"临汾","value":47},{"name":"吴江","value":47},{"name":"石嘴山","value":49},{"name":"沈阳","value":50},{"name":"苏州","value":50},{"name":"茂名","value":50},{"name":"嘉兴","value":51},{"name":"长春","value":51},{"name":"胶州","value":52},{"name":"银川","value":52},{"name":"张家港","value":52},{"name":"三门峡","value":53},{"name":"锦州","value":54},{"name":"南昌","value":54},{"name":"柳州","value":54},{"name":"三亚","value":54},{"name":"自贡","value":56},{"name":"吉林","value":56},{"name":"阳江","value":57},{"name":"泸州","value":57},{"name":"西宁","value":57},{"name":"宜宾","value":58},{"name":"呼和浩特","value":58},{"name":"成都","value":58},{"name":"大同","value":58},{"name":"镇江","value":59},{"name":"桂林","value":59},{"name":"张家界","value":59},{"name":"宜兴","value":59},{"name":"北海","value":60},{"name":"西安","value":61},{"name":"金坛","value":62},{"name":"东营","value":62},{"name":"牡丹江","value":63},{"name":"遵义","value":63},{"name":"绍兴","value":63},{"name":"扬州","value":64},{"name":"常州","value":64},{"name":"潍坊","value":65},{"name":"重庆","value":66},{"name":"台州","value":67},{"name":"南京","value":67},{"name":"滨州","value":70},{"name":"贵阳","value":71},{"name":"无锡","value":71},{"name":"本溪","value":71},{"name":"克拉玛依","value":72},{"name":"渭南","value":72},{"name":"马鞍山","value":72},{"name":"宝鸡","value":72},{"name":"焦作","value":75},{"name":"句容","value":75},{"name":"北京","value":79},{"name":"徐州","value":79},{"name":"衡水","value":80},{"name":"包头","value":80},{"name":"绵阳","value":80},{"name":"乌鲁木齐","value":84},{"name":"枣庄","value":84},{"name":"杭州","value":84},{"name":"淄博","value":85},{"name":"鞍山","value":86},{"name":"溧阳","value":86},{"name":"库尔勒","value":86},{"name":"安阳","value":90},{"name":"开封","value":90},{"name":"济南","value":92},{"name":"德阳","value":93},{"name":"温州","value":95},{"name":"九江","value":96},{"name":"邯郸","value":98},{"name":"临安","value":99},{"name":"兰州","value":99},{"name":"沧州","value":100},{"name":"临沂","value":103},{"name":"南充","value":104},{"name":"天津","value":105},{"name":"富阳","value":106},{"name":"泰安","value":112},{"name":"诸暨","value":112},{"name":"郑州","value":113},{"name":"哈尔滨","value":114},{"name":"聊城","value":116},{"name":"芜湖","value":117},{"name":"唐山","value":119},{"name":"平顶山","value":119},{"name":"邢台","value":119},{"name":"德州","value":120},{"name":"济宁","value":120},{"name":"荆州","value":127},{"name":"宜昌","value":130},{"name":"义乌","value":132},{"name":"丽水","value":133},{"name":"洛阳","value":134},{"name":"秦皇岛","value":136},{"name":"株洲","value":143},{"name":"石家庄","value":147},{"name":"莱芜","value":148},{"name":"常德","value":152},{"name":"保定","value":153},{"name":"湘潭","value":154},{"name":"金华","value":157},{"name":"岳阳","value":169},{"name":"长沙","value":175},{"name":"衢州","value":177},{"name":"廊坊","value":193},{"name":"菏泽","value":194},{"name":"合肥","value":229},{"name":"武汉","value":273},{"name":"大庆","value":279}],"clickable":true,"symbol":"pin","symbolSize":5,"large":false,"effect":{"show":false},"itemStyle":{"normal":{"borderColor":"#87cefa","borderWidth":1,"label":{"show":false}},"emphasis":{"borderColor":"#1e90ff","borderWidth":5,"label":{"show":false}}}}},{"name":"Top 5","type":"map","data":[["-"]],"markPoint":{"data":[{"name":"廊坊","value":193},{"name":"合肥","value":194},{"name":"菏泽","value":229},{"name":"武汉","value":273},{"name":"大庆","value":279}],"clickable":true,"symbol":"emptyCircle","symbolSize":"function (v) {return 10 + v/100;}","large":false,"effect":{"show":true}},"mapType":"china"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["Top 5"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["maroon","purple","red","orange","yellow","lightgreen"],"borderColor":"#ccc","borderWidth":0,"min":0,"max":500}},"evals":["series.1.markPoint.symbolSize"],"jsHooks":[]}</script>
</div>
<div id="addgeocoord-1" class="section level3">
<h3><span class="header-section-number">4.3.2</span> <code>addGeoCoord</code></h3>
<div id="pre-installed-geocoord-dataset" class="section level4">
<h4><span class="header-section-number">4.3.2.1</span> Pre-installed geoCoord dataset</h4>
<p>Although <code>recharts</code> can recognize most of the cities, there still might be points missing coordinates. Again, we need to define the geoCoord using <code>addGeoCoord</code>.</p>
<p><code>addGeoCoord</code> requires a data.frame with three columns in order: <code>name</code>, <code>longitude</code> and <code>latitude</code>. Pay attention to the order of <code>lng</code> and <code>lat</code>.</p>
<pre class="r"><code>g %&gt;% addGeoCoord(chinapm25[,c(&#39;name&#39;, &#39;lng&#39;, &#39;lat&#39;)]) %&gt;% 
    setTitle(&#39;PM2.5 in China Cities&#39;, &#39;Fictious Data&#39;)</code></pre>
<div id="htmlwidget-6c0e9e2b7a298df9dc7c" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-6c0e9e2b7a298df9dc7c">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"markPoint":{"data":[{"name":"海门","value":9},{"name":"鄂尔多斯","value":12},{"name":"招远","value":12},{"name":"舟山","value":12},{"name":"齐齐哈尔","value":14},{"name":"盐城","value":15},{"name":"赤峰","value":16},{"name":"青岛","value":18},{"name":"乳山","value":18},{"name":"金昌","value":19},{"name":"泉州","value":21},{"name":"莱西","value":21},{"name":"日照","value":21},{"name":"胶南","value":22},{"name":"南通","value":23},{"name":"拉萨","value":24},{"name":"云浮","value":24},{"name":"梅州","value":25},{"name":"文登","value":25},{"name":"上海","value":25},{"name":"攀枝花","value":25},{"name":"威海","value":25},{"name":"承德","value":25},{"name":"厦门","value":26},{"name":"汕尾","value":26},{"name":"潮州","value":26},{"name":"丹东","value":27},{"name":"太仓","value":27},{"name":"曲靖","value":27},{"name":"烟台","value":28},{"name":"福州","value":29},{"name":"瓦房店","value":30},{"name":"即墨","value":30},{"name":"抚顺","value":31},{"name":"玉溪","value":31},{"name":"张家口","value":31},{"name":"阳泉","value":31},{"name":"莱州","value":32},{"name":"湖州","value":32},{"name":"汕头","value":32},{"name":"昆山","value":33},{"name":"宁波","value":33},{"name":"湛江","value":33},{"name":"揭阳","value":34},{"name":"荣成","value":34},{"name":"连云港","value":35},{"name":"葫芦岛","value":35},{"name":"常熟","value":36},{"name":"东莞","value":36},{"name":"河源","value":36},{"name":"淮安","value":36},{"name":"泰州","value":36},{"name":"南宁","value":37},{"name":"营口","value":37},{"name":"惠州","value":37},{"name":"江阴","value":37},{"name":"蓬莱","value":37},{"name":"韶关","value":38},{"name":"嘉峪关","value":38},{"name":"广州","value":38},{"name":"延安","value":38},{"name":"太原","value":39},{"name":"清远","value":39},{"name":"中山","value":39},{"name":"昆明","value":39},{"name":"寿光","value":40},{"name":"盘锦","value":40},{"name":"长治","value":41},{"name":"深圳","value":41},{"name":"珠海","value":42},{"name":"宿迁","value":43},{"name":"咸阳","value":43},{"name":"铜川","value":44},{"name":"平度","value":44},{"name":"佛山","value":44},{"name":"海口","value":44},{"name":"江门","value":45},{"name":"章丘","value":45},{"name":"肇庆","value":46},{"name":"大连","value":47},{"name":"临汾","value":47},{"name":"吴江","value":47},{"name":"石嘴山","value":49},{"name":"沈阳","value":50},{"name":"苏州","value":50},{"name":"茂名","value":50},{"name":"嘉兴","value":51},{"name":"长春","value":51},{"name":"胶州","value":52},{"name":"银川","value":52},{"name":"张家港","value":52},{"name":"三门峡","value":53},{"name":"锦州","value":54},{"name":"南昌","value":54},{"name":"柳州","value":54},{"name":"三亚","value":54},{"name":"自贡","value":56},{"name":"吉林","value":56},{"name":"阳江","value":57},{"name":"泸州","value":57},{"name":"西宁","value":57},{"name":"宜宾","value":58},{"name":"呼和浩特","value":58},{"name":"成都","value":58},{"name":"大同","value":58},{"name":"镇江","value":59},{"name":"桂林","value":59},{"name":"张家界","value":59},{"name":"宜兴","value":59},{"name":"北海","value":60},{"name":"西安","value":61},{"name":"金坛","value":62},{"name":"东营","value":62},{"name":"牡丹江","value":63},{"name":"遵义","value":63},{"name":"绍兴","value":63},{"name":"扬州","value":64},{"name":"常州","value":64},{"name":"潍坊","value":65},{"name":"重庆","value":66},{"name":"台州","value":67},{"name":"南京","value":67},{"name":"滨州","value":70},{"name":"贵阳","value":71},{"name":"无锡","value":71},{"name":"本溪","value":71},{"name":"克拉玛依","value":72},{"name":"渭南","value":72},{"name":"马鞍山","value":72},{"name":"宝鸡","value":72},{"name":"焦作","value":75},{"name":"句容","value":75},{"name":"北京","value":79},{"name":"徐州","value":79},{"name":"衡水","value":80},{"name":"包头","value":80},{"name":"绵阳","value":80},{"name":"乌鲁木齐","value":84},{"name":"枣庄","value":84},{"name":"杭州","value":84},{"name":"淄博","value":85},{"name":"鞍山","value":86},{"name":"溧阳","value":86},{"name":"库尔勒","value":86},{"name":"安阳","value":90},{"name":"开封","value":90},{"name":"济南","value":92},{"name":"德阳","value":93},{"name":"温州","value":95},{"name":"九江","value":96},{"name":"邯郸","value":98},{"name":"临安","value":99},{"name":"兰州","value":99},{"name":"沧州","value":100},{"name":"临沂","value":103},{"name":"南充","value":104},{"name":"天津","value":105},{"name":"富阳","value":106},{"name":"泰安","value":112},{"name":"诸暨","value":112},{"name":"郑州","value":113},{"name":"哈尔滨","value":114},{"name":"聊城","value":116},{"name":"芜湖","value":117},{"name":"唐山","value":119},{"name":"平顶山","value":119},{"name":"邢台","value":119},{"name":"德州","value":120},{"name":"济宁","value":120},{"name":"荆州","value":127},{"name":"宜昌","value":130},{"name":"义乌","value":132},{"name":"丽水","value":133},{"name":"洛阳","value":134},{"name":"秦皇岛","value":136},{"name":"株洲","value":143},{"name":"石家庄","value":147},{"name":"莱芜","value":148},{"name":"常德","value":152},{"name":"保定","value":153},{"name":"湘潭","value":154},{"name":"金华","value":157},{"name":"岳阳","value":169},{"name":"长沙","value":175},{"name":"衢州","value":177},{"name":"廊坊","value":193},{"name":"菏泽","value":194},{"name":"合肥","value":229},{"name":"武汉","value":273},{"name":"大庆","value":279}],"clickable":true,"symbol":"pin","symbolSize":5,"large":false,"effect":{"show":false},"itemStyle":{"normal":{"borderColor":"#87cefa","borderWidth":1,"label":{"show":false}},"emphasis":{"borderColor":"#1e90ff","borderWidth":5,"label":{"show":false}}}},"geoCoord":{"海门":[121.15,31.89],"鄂尔多斯":[109.78133,39.60827],"招远":[120.38,37.35],"舟山":[122.20722,29.9853],"齐齐哈尔":[123.97,47.33],"盐城":[120.13,33.38],"赤峰":[118.87,42.28],"青岛":[120.33,36.07],"乳山":[121.52,36.89],"金昌":[102.18804,38.52009],"泉州":[118.58,24.93],"莱西":[120.53,36.86],"日照":[119.46,35.42],"胶南":[119.97,35.88],"南通":[121.05,32.08],"拉萨":[91.11,29.97],"云浮":[112.02,22.93],"梅州":[116.1,24.55],"文登":[122.05,37.2],"上海":[121.48,31.22],"攀枝花":[101.71864,26.58235],"威海":[122.1,37.5],"承德":[117.93,40.97],"厦门":[118.1,24.46],"汕尾":[115.37528,22.78621],"潮州":[116.63,23.68],"丹东":[124.37,40.13],"太仓":[121.1,31.45],"曲靖":[103.79,25.51],"烟台":[121.39,37.52],"福州":[119.3,26.08],"瓦房店":[121.9796,39.62711],"即墨":[120.45,36.38],"抚顺":[123.97,41.97],"玉溪":[102.52,24.35],"张家口":[114.87,40.82],"阳泉":[113.57,37.85],"莱州":[119.94233,37.17702],"湖州":[120.1,30.86],"汕头":[116.69,23.39],"昆山":[120.95,31.39],"宁波":[121.56,29.86],"湛江":[110.35938,21.27071],"揭阳":[116.35,23.55],"荣成":[122.41,37.16],"连云港":[119.16,34.59],"葫芦岛":[120.83693,40.71105],"常熟":[120.74,31.64],"东莞":[113.75,23.04],"河源":[114.68,23.73],"淮安":[119.15,33.5],"泰州":[119.9,32.49],"南宁":[108.33,22.84],"营口":[122.18,40.65],"惠州":[114.4,23.09],"江阴":[120.26,31.91],"蓬莱":[120.75,37.8],"韶关":[113.62,24.84],"嘉峪关":[98.28915,39.77313],"广州":[113.23,23.16],"延安":[109.47,36.6],"太原":[112.53,37.87],"清远":[113.01,23.7],"中山":[113.38,22.52],"昆明":[102.73,25.04],"寿光":[118.73,36.86],"盘锦":[122.07071,41.12],"长治":[113.08,36.18],"深圳":[114.07,22.62],"珠海":[113.52,22.3],"宿迁":[118.3,33.96],"咸阳":[108.72,34.36],"铜川":[109.11,35.09],"平度":[119.97,36.77],"佛山":[113.11,23.05],"海口":[110.35,20.02],"江门":[113.06,22.61],"章丘":[117.53,36.72],"肇庆":[112.44,23.05],"大连":[121.62,38.92],"临汾":[111.5,36.08],"吴江":[120.63,31.16],"石嘴山":[106.39,39.04],"沈阳":[123.38,41.8],"苏州":[120.62,31.32],"茂名":[110.88,21.68],"嘉兴":[120.76,30.77],"长春":[125.35,43.88],"胶州":[120.03336,36.26462],"银川":[106.27,38.47],"张家港":[120.55582,31.87543],"三门峡":[111.19,34.76],"锦州":[121.15,41.13],"南昌":[115.89,28.68],"柳州":[109.4,24.33],"三亚":[109.51191,18.25285],"自贡":[104.77844,29.33903],"吉林":[126.57,43.87],"阳江":[111.95,21.85],"泸州":[105.39,28.91],"西宁":[101.74,36.56],"宜宾":[104.56,29.77],"呼和浩特":[111.65,40.82],"成都":[104.06,30.67],"大同":[113.3,40.12],"镇江":[119.44,32.2],"桂林":[110.28,25.29],"张家界":[110.47919,29.1171],"宜兴":[119.82,31.36],"北海":[109.12,21.49],"西安":[108.95,34.27],"金坛":[119.56,31.74],"东营":[118.49,37.46],"牡丹江":[129.58,44.6],"遵义":[106.9,27.7],"绍兴":[120.58,30.01],"扬州":[119.42,32.39],"常州":[119.95,31.79],"潍坊":[119.1,36.62],"重庆":[106.54,29.59],"台州":[121.42076,28.65639],"南京":[118.78,32.04],"滨州":[118.03,37.36],"贵阳":[106.71,26.57],"无锡":[120.29,31.59],"本溪":[123.73,41.3],"克拉玛依":[84.77,45.59],"渭南":[109.5,34.52],"马鞍山":[118.48,31.56],"宝鸡":[107.15,34.38],"焦作":[113.21,35.24],"句容":[119.16,31.95],"北京":[116.46,39.92],"徐州":[117.2,34.26],"衡水":[115.72,37.72],"包头":[110,40.58],"绵阳":[104.73,31.48],"乌鲁木齐":[87.68,43.77],"枣庄":[117.57,34.86],"杭州":[120.19,30.26],"淄博":[118.05,36.78],"鞍山":[122.85,41.12],"溧阳":[119.48,31.43],"库尔勒":[86.06,41.68],"安阳":[114.35,36.1],"开封":[114.35,34.79],"济南":[117,36.65],"德阳":[104.37,31.13],"温州":[120.65,28.01],"九江":[115.97,29.71],"邯郸":[114.47,36.6],"临安":[119.72,30.23],"兰州":[103.73,36.03],"沧州":[116.83,38.33],"临沂":[118.35,35.05],"南充":[106.1107,30.83779],"天津":[117.2,39.13],"富阳":[119.95,30.07],"泰安":[117.13,36.18],"诸暨":[120.23,29.71],"郑州":[113.65,34.76],"哈尔滨":[126.63,45.75],"聊城":[115.97,36.45],"芜湖":[118.38,31.33],"唐山":[118.02,39.63],"平顶山":[113.29,33.75],"邢台":[114.48,37.05],"德州":[116.29,37.45],"济宁":[116.59,35.38],"荆州":[112.23974,30.33516],"宜昌":[111.3,30.7],"义乌":[120.06,29.32],"丽水":[119.92,28.45],"洛阳":[112.44,34.7],"秦皇岛":[119.57,39.95],"株洲":[113.16,27.83],"石家庄":[114.48,38.03],"莱芜":[117.67,36.19],"常德":[111.69,29.05],"保定":[115.48,38.85],"湘潭":[112.91,27.87],"金华":[119.64,29.12],"岳阳":[113.09,29.37],"长沙":[113,28.21],"衢州":[118.88,28.97],"廊坊":[116.7,39.53],"菏泽":[115.48066,35.23375],"合肥":[117.27,31.86],"武汉":[114.31,30.52],"大庆":[125.03,46.58]}},{"name":"Top 5","type":"map","data":[["-"]],"markPoint":{"data":[{"name":"廊坊","value":193},{"name":"合肥","value":194},{"name":"菏泽","value":229},{"name":"武汉","value":273},{"name":"大庆","value":279}],"clickable":true,"symbol":"emptyCircle","symbolSize":"function (v) {return 10 + v/100;}","large":false,"effect":{"show":true}},"mapType":"china"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["Top 5"],"x":"left","y":"top","orient":"horizontal"},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["maroon","purple","red","orange","yellow","lightgreen"],"borderColor":"#ccc","borderWidth":0,"min":0,"max":500},"title":{"text":"PM2.5 in China Cities","subtext":"Fictious Data","x":"center","y":"bottom","orient":"horizontal"}},"evals":["series.1.markPoint.symbolSize"],"jsHooks":[]}</script>
</div>
<div id="query-the-coordinates" class="section level4">
<h4><span class="header-section-number">4.3.2.2</span> Query the Coordinates</h4>
<p>What if I don’t know the coordinates of the places? You need <code>geocode</code> (forked from <a href="github.com/caijun/geoChina">geoChina</a>), which queries info from Google (so first you should be able to visit Google) or Baidu (in this way you need to provide Baidu api key).</p>
<pre class="r"><code>geocode(c(&#39;北京&#39;, &#39;上海&#39;), api=&#39;google&#39;)</code></pre>
<pre><code>##        lat      lng
## 1 39.90281 116.4012
## 2 31.23236 121.4692</code></pre>
<p>or <code>geocode(c('北京', '上海'), api='baidu', key='xxxxx')</code>.</p>
<p>These are coordinates under WGS-84 system. If you want to apply them in Echarts, you need to convert them to BD-09 system. You can use <code>convWGS2BD</code> function or use <code>geocode</code> with <code>ocs</code>=‘BD-09’ to do that.</p>
<pre class="r"><code>convWGS2BD(geocode(c(&#39;北京&#39;, &#39;上海&#39;), api=&#39;google&#39;))</code></pre>
<pre><code>##        lat      lng
## 1 39.91053 116.4138
## 2 31.23636 121.4803</code></pre>
<p>or <code>geocode(c('北京', '上海'), api='google', ocs='BD-09')</code></p>
</div>
</div>
</div>
<div id="addmarkline-and-addmarkpoint" class="section level2">
<h2><span class="header-section-number">4.4</span> <code>addMarkLine</code> And <code>addMarkPoint</code></h2>
<p>In addition to the <code>addMarkLine</code> example, we <code>addMarkPOint</code> to yield the <a href="http://echarts.baidu.com/echarts2/doc/example/map11.html">Fictious Baidu Migration</a> example.</p>
<pre class="r"><code>route &lt;- flight$route
names(route) &lt;- c(&#39;name1&#39;, &#39;name2&#39;)
coord &lt;- flight$coord
target &lt;- data.frame(
    name1=c(rep(&#39;北京&#39;, 10), rep(&#39;上海&#39;, 10), rep(&#39;广州&#39;, 10)),
    name2=c(
        &quot;上海&quot;,&quot;广州&quot;,&quot;大连&quot;,&quot;南宁&quot;,&quot;南昌&quot;,&quot;拉萨&quot;,&quot;长春&quot;,&quot;包头&quot;,&quot;重庆&quot;,&quot;常州&quot;,
        &quot;包头&quot;,&quot;昆明&quot;,&quot;广州&quot;,&quot;郑州&quot;,&quot;长春&quot;,&quot;重庆&quot;,&quot;长沙&quot;,&quot;北京&quot;,&quot;丹东&quot;,&quot;大连&quot;,
        &quot;福州&quot;,&quot;太原&quot;,&quot;长春&quot;,&quot;重庆&quot;,&quot;西安&quot;,&quot;成都&quot;,&quot;常州&quot;,&quot;北京&quot;,&quot;北海&quot;,&quot;海口&quot;),
    value=c(95,90,80,70,60,50,40,30,20,10,95,90,80,70,60,50,40,30,20,10,95,90,
            80,70,60,50,40,30,20,10))
# series column mapping series of addML/addMP
target$series &lt;- paste0(target$name1, &#39;Top10&#39;)

## apply addGeoCoord, and add markLines without values
g &lt;- echartr(NULL, type=&#39;map_china&#39;) %&gt;% addGeoCoord(coord) %&gt;%
    addML(series=1, data=route, symbol=c(&#39;none&#39;, &#39;circle&#39;), symbolSize=1, 
          smooth=TRUE, itemStyle=list(normal=itemStyle(
              color=&#39;#fff&#39;, borderWidth=1, borderColor=&#39;rgba(30,144,255,0.5)&#39;)))

## modify itemStyle of the base map to align the areaStyle with bgColor and 
## disable `hoverable`
g &lt;- g %&gt;% setSeries(hoverable=FALSE, itemStyle=list(
    normal=itemStyle(
        borderColor=&#39;rgba(100,149,237,1)&#39;, borderWidth=0.5, 
        areaStyle=areaStyle(color=&#39;#1b1b1b&#39;))
))

g</code></pre>
<div id="htmlwidget-45e09540ca66062ccb6d" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-45e09540ca66062ccb6d">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false},"borderColor":"rgba(100,149,237,1)","borderWidth":0.5,"areaStyle":{"color":"#1b1b1b"}},"emphasis":{"label":{"show":true}}},"data":[],"geoCoord":{"上海":[121.4648,31.2891],"东莞":[113.8953,22.901],"东营":[118.7073,37.5513],"中山":[113.4229,22.478],"临汾":[111.4783,36.1615],"临沂":[118.3118,35.2936],"丹东":[124.541,40.4242],"丽水":[119.5642,28.1854],"乌鲁木齐":[87.9236,43.5883],"佛山":[112.8955,23.1097],"保定":[115.0488,39.0948],"兰州":[103.5901,36.3043],"包头":[110.3467,41.4899],"北京":[116.4551,40.2539],"北海":[109.314,21.6211],"南京":[118.8062,31.9208],"南宁":[108.479,23.1152],"南昌":[116.0046,28.6633],"南通":[121.1023,32.1625],"厦门":[118.1689,24.6478],"台州":[121.1353,28.6688],"合肥":[117.29,32.0581],"呼和浩特":[111.4124,40.4901],"咸阳":[108.4131,34.8706],"哈尔滨":[127.9688,45.368],"唐山":[118.4766,39.6826],"嘉兴":[120.9155,30.6354],"大同":[113.7854,39.8035],"大连":[122.2229,39.4409],"天津":[117.4219,39.4189],"太原":[112.3352,37.9413],"威海":[121.9482,37.1393],"宁波":[121.5967,29.6466],"宝鸡":[107.1826,34.3433],"宿迁":[118.5535,33.7775],"常州":[119.4543,31.5582],"广州":[113.5107,23.2196],"廊坊":[116.521,39.0509],"延安":[109.1052,36.4252],"张家口":[115.1477,40.8527],"徐州":[117.5208,34.3268],"德州":[116.6858,37.2107],"惠州":[114.6204,23.1647],"成都":[103.9526,30.7617],"扬州":[119.4653,32.8162],"承德":[117.5757,41.4075],"拉萨":[91.1865,30.1465],"无锡":[120.3442,31.5527],"日照":[119.2786,35.5023],"昆明":[102.9199,25.4663],"杭州":[119.5313,29.8773],"枣庄":[117.323,34.8926],"柳州":[109.3799,24.9774],"株洲":[113.5327,27.0319],"武汉":[114.3896,30.6628],"汕头":[117.1692,23.3405],"江门":[112.6318,22.1484],"沈阳":[123.1238,42.1216],"沧州":[116.8286,38.2104],"河源":[114.917,23.9722],"泉州":[118.3228,25.1147],"泰安":[117.0264,36.0516],"泰州":[120.0586,32.5525],"济南":[117.1582,36.8701],"济宁":[116.8286,35.3375],"海口":[110.3893,19.8516],"淄博":[118.0371,36.6064],"淮安":[118.927,33.4039],"深圳":[114.5435,22.5439],"清远":[112.9175,24.3292],"温州":[120.498,27.8119],"渭南":[109.7864,35.0299],"湖州":[119.8608,30.7782],"湘潭":[112.5439,27.7075],"滨州":[117.8174,37.4963],"潍坊":[119.0918,36.524],"烟台":[120.7397,37.5128],"玉溪":[101.9312,23.8898],"珠海":[113.7305,22.1155],"盐城":[120.2234,33.5577],"盘锦":[121.9482,41.0449],"石家庄":[114.4995,38.1006],"福州":[119.4543,25.9222],"秦皇岛":[119.2126,40.0232],"绍兴":[120.564,29.7565],"聊城":[115.9167,36.4032],"肇庆":[112.1265,23.5822],"舟山":[122.2559,30.2234],"苏州":[120.6519,31.3989],"莱芜":[117.6526,36.2714],"菏泽":[115.6201,35.2057],"营口":[122.4316,40.4297],"葫芦岛":[120.1575,40.578],"衡水":[115.8838,37.7161],"衢州":[118.6853,28.8666],"西宁":[101.4038,36.8207],"西安":[109.1162,34.2004],"贵阳":[106.6992,26.7682],"连云港":[119.1248,34.552],"邢台":[114.8071,37.2821],"邯郸":[114.4775,36.535],"郑州":[113.4668,34.6234],"鄂尔多斯":[108.9734,39.2487],"重庆":[107.7539,30.1904],"金华":[120.0037,29.1028],"铜川":[109.0393,35.1947],"银川":[106.3586,38.1775],"镇江":[119.4763,31.9702],"长春":[125.8154,44.2584],"长沙":[113.0823,28.2568],"长治":[112.8625,36.4746],"阳泉":[113.4778,38.0951],"青岛":[120.4651,36.3373],"韶关":[113.7964,24.7028]},"markLine":{"data":[[{"name":"北京"},{"name":"包头"}],[{"name":"北京"},{"name":"北海"}],[{"name":"北京"},{"name":"广州"}],[{"name":"北京"},{"name":"郑州"}],[{"name":"北京"},{"name":"长春"}],[{"name":"北京"},{"name":"长治"}],[{"name":"北京"},{"name":"重庆"}],[{"name":"北京"},{"name":"长沙"}],[{"name":"北京"},{"name":"成都"}],[{"name":"北京"},{"name":"常州"}],[{"name":"北京"},{"name":"丹东"}],[{"name":"北京"},{"name":"大连"}],[{"name":"北京"},{"name":"东营"}],[{"name":"北京"},{"name":"延安"}],[{"name":"北京"},{"name":"福州"}],[{"name":"北京"},{"name":"海口"}],[{"name":"北京"},{"name":"呼和浩特"}],[{"name":"北京"},{"name":"合肥"}],[{"name":"北京"},{"name":"杭州"}],[{"name":"北京"},{"name":"哈尔滨"}],[{"name":"北京"},{"name":"舟山"}],[{"name":"北京"},{"name":"银川"}],[{"name":"北京"},{"name":"衢州"}],[{"name":"北京"},{"name":"南昌"}],[{"name":"北京"},{"name":"昆明"}],[{"name":"北京"},{"name":"贵阳"}],[{"name":"北京"},{"name":"兰州"}],[{"name":"北京"},{"name":"拉萨"}],[{"name":"北京"},{"name":"连云港"}],[{"name":"北京"},{"name":"临沂"}],[{"name":"北京"},{"name":"柳州"}],[{"name":"北京"},{"name":"宁波"}],[{"name":"北京"},{"name":"南京"}],[{"name":"北京"},{"name":"南宁"}],[{"name":"北京"},{"name":"南通"}],[{"name":"北京"},{"name":"上海"}],[{"name":"北京"},{"name":"沈阳"}],[{"name":"北京"},{"name":"西安"}],[{"name":"北京"},{"name":"汕头"}],[{"name":"北京"},{"name":"深圳"}],[{"name":"北京"},{"name":"青岛"}],[{"name":"北京"},{"name":"济南"}],[{"name":"北京"},{"name":"太原"}],[{"name":"北京"},{"name":"乌鲁木齐"}],[{"name":"北京"},{"name":"潍坊"}],[{"name":"北京"},{"name":"威海"}],[{"name":"北京"},{"name":"温州"}],[{"name":"北京"},{"name":"武汉"}],[{"name":"北京"},{"name":"无锡"}],[{"name":"北京"},{"name":"厦门"}],[{"name":"北京"},{"name":"西宁"}],[{"name":"北京"},{"name":"徐州"}],[{"name":"北京"},{"name":"烟台"}],[{"name":"北京"},{"name":"盐城"}],[{"name":"北京"},{"name":"珠海"}],[{"name":"上海"},{"name":"包头"}],[{"name":"上海"},{"name":"北海"}],[{"name":"上海"},{"name":"广州"}],[{"name":"上海"},{"name":"郑州"}],[{"name":"上海"},{"name":"长春"}],[{"name":"上海"},{"name":"重庆"}],[{"name":"上海"},{"name":"长沙"}],[{"name":"上海"},{"name":"成都"}],[{"name":"上海"},{"name":"丹东"}],[{"name":"上海"},{"name":"大连"}],[{"name":"上海"},{"name":"福州"}],[{"name":"上海"},{"name":"海口"}],[{"name":"上海"},{"name":"呼和浩特"}],[{"name":"上海"},{"name":"合肥"}],[{"name":"上海"},{"name":"哈尔滨"}],[{"name":"上海"},{"name":"舟山"}],[{"name":"上海"},{"name":"银川"}],[{"name":"上海"},{"name":"南昌"}],[{"name":"上海"},{"name":"昆明"}],[{"name":"上海"},{"name":"贵阳"}],[{"name":"上海"},{"name":"兰州"}],[{"name":"上海"},{"name":"拉萨"}],[{"name":"上海"},{"name":"连云港"}],[{"name":"上海"},{"name":"临沂"}],[{"name":"上海"},{"name":"柳州"}],[{"name":"上海"},{"name":"宁波"}],[{"name":"上海"},{"name":"南宁"}],[{"name":"上海"},{"name":"北京"}],[{"name":"上海"},{"name":"沈阳"}],[{"name":"上海"},{"name":"秦皇岛"}],[{"name":"上海"},{"name":"西安"}],[{"name":"上海"},{"name":"石家庄"}],[{"name":"上海"},{"name":"汕头"}],[{"name":"上海"},{"name":"深圳"}],[{"name":"上海"},{"name":"青岛"}],[{"name":"上海"},{"name":"济南"}],[{"name":"上海"},{"name":"天津"}],[{"name":"上海"},{"name":"太原"}],[{"name":"上海"},{"name":"乌鲁木齐"}],[{"name":"上海"},{"name":"潍坊"}],[{"name":"上海"},{"name":"威海"}],[{"name":"上海"},{"name":"温州"}],[{"name":"上海"},{"name":"武汉"}],[{"name":"上海"},{"name":"厦门"}],[{"name":"上海"},{"name":"西宁"}],[{"name":"上海"},{"name":"徐州"}],[{"name":"上海"},{"name":"烟台"}],[{"name":"上海"},{"name":"珠海"}],[{"name":"广州"},{"name":"北海"}],[{"name":"广州"},{"name":"郑州"}],[{"name":"广州"},{"name":"长春"}],[{"name":"广州"},{"name":"重庆"}],[{"name":"广州"},{"name":"长沙"}],[{"name":"广州"},{"name":"成都"}],[{"name":"广州"},{"name":"常州"}],[{"name":"广州"},{"name":"大连"}],[{"name":"广州"},{"name":"福州"}],[{"name":"广州"},{"name":"海口"}],[{"name":"广州"},{"name":"呼和浩特"}],[{"name":"广州"},{"name":"合肥"}],[{"name":"广州"},{"name":"杭州"}],[{"name":"广州"},{"name":"哈尔滨"}],[{"name":"广州"},{"name":"舟山"}],[{"name":"广州"},{"name":"银川"}],[{"name":"广州"},{"name":"南昌"}],[{"name":"广州"},{"name":"昆明"}],[{"name":"广州"},{"name":"贵阳"}],[{"name":"广州"},{"name":"兰州"}],[{"name":"广州"},{"name":"拉萨"}],[{"name":"广州"},{"name":"连云港"}],[{"name":"广州"},{"name":"临沂"}],[{"name":"广州"},{"name":"柳州"}],[{"name":"广州"},{"name":"宁波"}],[{"name":"广州"},{"name":"南京"}],[{"name":"广州"},{"name":"南宁"}],[{"name":"广州"},{"name":"南通"}],[{"name":"广州"},{"name":"北京"}],[{"name":"广州"},{"name":"上海"}],[{"name":"广州"},{"name":"沈阳"}],[{"name":"广州"},{"name":"西安"}],[{"name":"广州"},{"name":"石家庄"}],[{"name":"广州"},{"name":"汕头"}],[{"name":"广州"},{"name":"青岛"}],[{"name":"广州"},{"name":"济南"}],[{"name":"广州"},{"name":"天津"}],[{"name":"广州"},{"name":"太原"}],[{"name":"广州"},{"name":"乌鲁木齐"}],[{"name":"广州"},{"name":"温州"}],[{"name":"广州"},{"name":"武汉"}],[{"name":"广州"},{"name":"无锡"}],[{"name":"广州"},{"name":"厦门"}],[{"name":"广州"},{"name":"西宁"}],[{"name":"广州"},{"name":"徐州"}],[{"name":"广州"},{"name":"烟台"}],[{"name":"广州"},{"name":"盐城"}]],"clickable":true,"symbol":["none","circle"],"smooth":true,"symbolSize":1,"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"color":"#fff","borderWidth":1,"borderColor":"rgba(30,144,255,0.5)"}}},"hoverable":false}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>## add markLines with values
line.effect &lt;- list(
    show=TRUE, scaleSize=1, period=30, color=&#39;#fff&#39;, shadowBlur=10)
line.style &lt;- list(normal=itemStyle(
    borderWidth=1, lineStyle=lineStyle(type=&#39;solid&#39;, shadowBlur=10)))
g1 &lt;- g %&gt;% 
    addML(series=c(&#39;北京Top10&#39;, &#39;上海Top10&#39;, &#39;广州Top10&#39;), data=target, 
          smooth=TRUE, effect=line.effect, itemStyle=line.style)
g1</code></pre>
<div id="htmlwidget-a7e6fd33a6737ad90210" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-a7e6fd33a6737ad90210">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false},"borderColor":"rgba(100,149,237,1)","borderWidth":0.5,"areaStyle":{"color":"#1b1b1b"}},"emphasis":{"label":{"show":true}}},"data":[],"geoCoord":{"上海":[121.4648,31.2891],"东莞":[113.8953,22.901],"东营":[118.7073,37.5513],"中山":[113.4229,22.478],"临汾":[111.4783,36.1615],"临沂":[118.3118,35.2936],"丹东":[124.541,40.4242],"丽水":[119.5642,28.1854],"乌鲁木齐":[87.9236,43.5883],"佛山":[112.8955,23.1097],"保定":[115.0488,39.0948],"兰州":[103.5901,36.3043],"包头":[110.3467,41.4899],"北京":[116.4551,40.2539],"北海":[109.314,21.6211],"南京":[118.8062,31.9208],"南宁":[108.479,23.1152],"南昌":[116.0046,28.6633],"南通":[121.1023,32.1625],"厦门":[118.1689,24.6478],"台州":[121.1353,28.6688],"合肥":[117.29,32.0581],"呼和浩特":[111.4124,40.4901],"咸阳":[108.4131,34.8706],"哈尔滨":[127.9688,45.368],"唐山":[118.4766,39.6826],"嘉兴":[120.9155,30.6354],"大同":[113.7854,39.8035],"大连":[122.2229,39.4409],"天津":[117.4219,39.4189],"太原":[112.3352,37.9413],"威海":[121.9482,37.1393],"宁波":[121.5967,29.6466],"宝鸡":[107.1826,34.3433],"宿迁":[118.5535,33.7775],"常州":[119.4543,31.5582],"广州":[113.5107,23.2196],"廊坊":[116.521,39.0509],"延安":[109.1052,36.4252],"张家口":[115.1477,40.8527],"徐州":[117.5208,34.3268],"德州":[116.6858,37.2107],"惠州":[114.6204,23.1647],"成都":[103.9526,30.7617],"扬州":[119.4653,32.8162],"承德":[117.5757,41.4075],"拉萨":[91.1865,30.1465],"无锡":[120.3442,31.5527],"日照":[119.2786,35.5023],"昆明":[102.9199,25.4663],"杭州":[119.5313,29.8773],"枣庄":[117.323,34.8926],"柳州":[109.3799,24.9774],"株洲":[113.5327,27.0319],"武汉":[114.3896,30.6628],"汕头":[117.1692,23.3405],"江门":[112.6318,22.1484],"沈阳":[123.1238,42.1216],"沧州":[116.8286,38.2104],"河源":[114.917,23.9722],"泉州":[118.3228,25.1147],"泰安":[117.0264,36.0516],"泰州":[120.0586,32.5525],"济南":[117.1582,36.8701],"济宁":[116.8286,35.3375],"海口":[110.3893,19.8516],"淄博":[118.0371,36.6064],"淮安":[118.927,33.4039],"深圳":[114.5435,22.5439],"清远":[112.9175,24.3292],"温州":[120.498,27.8119],"渭南":[109.7864,35.0299],"湖州":[119.8608,30.7782],"湘潭":[112.5439,27.7075],"滨州":[117.8174,37.4963],"潍坊":[119.0918,36.524],"烟台":[120.7397,37.5128],"玉溪":[101.9312,23.8898],"珠海":[113.7305,22.1155],"盐城":[120.2234,33.5577],"盘锦":[121.9482,41.0449],"石家庄":[114.4995,38.1006],"福州":[119.4543,25.9222],"秦皇岛":[119.2126,40.0232],"绍兴":[120.564,29.7565],"聊城":[115.9167,36.4032],"肇庆":[112.1265,23.5822],"舟山":[122.2559,30.2234],"苏州":[120.6519,31.3989],"莱芜":[117.6526,36.2714],"菏泽":[115.6201,35.2057],"营口":[122.4316,40.4297],"葫芦岛":[120.1575,40.578],"衡水":[115.8838,37.7161],"衢州":[118.6853,28.8666],"西宁":[101.4038,36.8207],"西安":[109.1162,34.2004],"贵阳":[106.6992,26.7682],"连云港":[119.1248,34.552],"邢台":[114.8071,37.2821],"邯郸":[114.4775,36.535],"郑州":[113.4668,34.6234],"鄂尔多斯":[108.9734,39.2487],"重庆":[107.7539,30.1904],"金华":[120.0037,29.1028],"铜川":[109.0393,35.1947],"银川":[106.3586,38.1775],"镇江":[119.4763,31.9702],"长春":[125.8154,44.2584],"长沙":[113.0823,28.2568],"长治":[112.8625,36.4746],"阳泉":[113.4778,38.0951],"青岛":[120.4651,36.3373],"韶关":[113.7964,24.7028]},"markLine":{"data":[[{"name":"北京"},{"name":"包头"}],[{"name":"北京"},{"name":"北海"}],[{"name":"北京"},{"name":"广州"}],[{"name":"北京"},{"name":"郑州"}],[{"name":"北京"},{"name":"长春"}],[{"name":"北京"},{"name":"长治"}],[{"name":"北京"},{"name":"重庆"}],[{"name":"北京"},{"name":"长沙"}],[{"name":"北京"},{"name":"成都"}],[{"name":"北京"},{"name":"常州"}],[{"name":"北京"},{"name":"丹东"}],[{"name":"北京"},{"name":"大连"}],[{"name":"北京"},{"name":"东营"}],[{"name":"北京"},{"name":"延安"}],[{"name":"北京"},{"name":"福州"}],[{"name":"北京"},{"name":"海口"}],[{"name":"北京"},{"name":"呼和浩特"}],[{"name":"北京"},{"name":"合肥"}],[{"name":"北京"},{"name":"杭州"}],[{"name":"北京"},{"name":"哈尔滨"}],[{"name":"北京"},{"name":"舟山"}],[{"name":"北京"},{"name":"银川"}],[{"name":"北京"},{"name":"衢州"}],[{"name":"北京"},{"name":"南昌"}],[{"name":"北京"},{"name":"昆明"}],[{"name":"北京"},{"name":"贵阳"}],[{"name":"北京"},{"name":"兰州"}],[{"name":"北京"},{"name":"拉萨"}],[{"name":"北京"},{"name":"连云港"}],[{"name":"北京"},{"name":"临沂"}],[{"name":"北京"},{"name":"柳州"}],[{"name":"北京"},{"name":"宁波"}],[{"name":"北京"},{"name":"南京"}],[{"name":"北京"},{"name":"南宁"}],[{"name":"北京"},{"name":"南通"}],[{"name":"北京"},{"name":"上海"}],[{"name":"北京"},{"name":"沈阳"}],[{"name":"北京"},{"name":"西安"}],[{"name":"北京"},{"name":"汕头"}],[{"name":"北京"},{"name":"深圳"}],[{"name":"北京"},{"name":"青岛"}],[{"name":"北京"},{"name":"济南"}],[{"name":"北京"},{"name":"太原"}],[{"name":"北京"},{"name":"乌鲁木齐"}],[{"name":"北京"},{"name":"潍坊"}],[{"name":"北京"},{"name":"威海"}],[{"name":"北京"},{"name":"温州"}],[{"name":"北京"},{"name":"武汉"}],[{"name":"北京"},{"name":"无锡"}],[{"name":"北京"},{"name":"厦门"}],[{"name":"北京"},{"name":"西宁"}],[{"name":"北京"},{"name":"徐州"}],[{"name":"北京"},{"name":"烟台"}],[{"name":"北京"},{"name":"盐城"}],[{"name":"北京"},{"name":"珠海"}],[{"name":"上海"},{"name":"包头"}],[{"name":"上海"},{"name":"北海"}],[{"name":"上海"},{"name":"广州"}],[{"name":"上海"},{"name":"郑州"}],[{"name":"上海"},{"name":"长春"}],[{"name":"上海"},{"name":"重庆"}],[{"name":"上海"},{"name":"长沙"}],[{"name":"上海"},{"name":"成都"}],[{"name":"上海"},{"name":"丹东"}],[{"name":"上海"},{"name":"大连"}],[{"name":"上海"},{"name":"福州"}],[{"name":"上海"},{"name":"海口"}],[{"name":"上海"},{"name":"呼和浩特"}],[{"name":"上海"},{"name":"合肥"}],[{"name":"上海"},{"name":"哈尔滨"}],[{"name":"上海"},{"name":"舟山"}],[{"name":"上海"},{"name":"银川"}],[{"name":"上海"},{"name":"南昌"}],[{"name":"上海"},{"name":"昆明"}],[{"name":"上海"},{"name":"贵阳"}],[{"name":"上海"},{"name":"兰州"}],[{"name":"上海"},{"name":"拉萨"}],[{"name":"上海"},{"name":"连云港"}],[{"name":"上海"},{"name":"临沂"}],[{"name":"上海"},{"name":"柳州"}],[{"name":"上海"},{"name":"宁波"}],[{"name":"上海"},{"name":"南宁"}],[{"name":"上海"},{"name":"北京"}],[{"name":"上海"},{"name":"沈阳"}],[{"name":"上海"},{"name":"秦皇岛"}],[{"name":"上海"},{"name":"西安"}],[{"name":"上海"},{"name":"石家庄"}],[{"name":"上海"},{"name":"汕头"}],[{"name":"上海"},{"name":"深圳"}],[{"name":"上海"},{"name":"青岛"}],[{"name":"上海"},{"name":"济南"}],[{"name":"上海"},{"name":"天津"}],[{"name":"上海"},{"name":"太原"}],[{"name":"上海"},{"name":"乌鲁木齐"}],[{"name":"上海"},{"name":"潍坊"}],[{"name":"上海"},{"name":"威海"}],[{"name":"上海"},{"name":"温州"}],[{"name":"上海"},{"name":"武汉"}],[{"name":"上海"},{"name":"厦门"}],[{"name":"上海"},{"name":"西宁"}],[{"name":"上海"},{"name":"徐州"}],[{"name":"上海"},{"name":"烟台"}],[{"name":"上海"},{"name":"珠海"}],[{"name":"广州"},{"name":"北海"}],[{"name":"广州"},{"name":"郑州"}],[{"name":"广州"},{"name":"长春"}],[{"name":"广州"},{"name":"重庆"}],[{"name":"广州"},{"name":"长沙"}],[{"name":"广州"},{"name":"成都"}],[{"name":"广州"},{"name":"常州"}],[{"name":"广州"},{"name":"大连"}],[{"name":"广州"},{"name":"福州"}],[{"name":"广州"},{"name":"海口"}],[{"name":"广州"},{"name":"呼和浩特"}],[{"name":"广州"},{"name":"合肥"}],[{"name":"广州"},{"name":"杭州"}],[{"name":"广州"},{"name":"哈尔滨"}],[{"name":"广州"},{"name":"舟山"}],[{"name":"广州"},{"name":"银川"}],[{"name":"广州"},{"name":"南昌"}],[{"name":"广州"},{"name":"昆明"}],[{"name":"广州"},{"name":"贵阳"}],[{"name":"广州"},{"name":"兰州"}],[{"name":"广州"},{"name":"拉萨"}],[{"name":"广州"},{"name":"连云港"}],[{"name":"广州"},{"name":"临沂"}],[{"name":"广州"},{"name":"柳州"}],[{"name":"广州"},{"name":"宁波"}],[{"name":"广州"},{"name":"南京"}],[{"name":"广州"},{"name":"南宁"}],[{"name":"广州"},{"name":"南通"}],[{"name":"广州"},{"name":"北京"}],[{"name":"广州"},{"name":"上海"}],[{"name":"广州"},{"name":"沈阳"}],[{"name":"广州"},{"name":"西安"}],[{"name":"广州"},{"name":"石家庄"}],[{"name":"广州"},{"name":"汕头"}],[{"name":"广州"},{"name":"青岛"}],[{"name":"广州"},{"name":"济南"}],[{"name":"广州"},{"name":"天津"}],[{"name":"广州"},{"name":"太原"}],[{"name":"广州"},{"name":"乌鲁木齐"}],[{"name":"广州"},{"name":"温州"}],[{"name":"广州"},{"name":"武汉"}],[{"name":"广州"},{"name":"无锡"}],[{"name":"广州"},{"name":"厦门"}],[{"name":"广州"},{"name":"西宁"}],[{"name":"广州"},{"name":"徐州"}],[{"name":"广州"},{"name":"烟台"}],[{"name":"广州"},{"name":"盐城"}]],"clickable":true,"symbol":["none","circle"],"smooth":true,"symbolSize":1,"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"color":"#fff","borderWidth":1,"borderColor":"rgba(30,144,255,0.5)"}}},"hoverable":false},{"name":"北京Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"北京","value":95},{"name":"上海"}],[{"name":"北京","value":90},{"name":"广州"}],[{"name":"北京","value":80},{"name":"大连"}],[{"name":"北京","value":70},{"name":"南宁"}],[{"name":"北京","value":60},{"name":"南昌"}],[{"name":"北京","value":50},{"name":"拉萨"}],[{"name":"北京","value":40},{"name":"长春"}],[{"name":"北京","value":30},{"name":"包头"}],[{"name":"北京","value":20},{"name":"重庆"}],[{"name":"北京","value":10},{"name":"常州"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china"},{"name":"上海Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"上海","value":95},{"name":"包头"}],[{"name":"上海","value":90},{"name":"昆明"}],[{"name":"上海","value":80},{"name":"广州"}],[{"name":"上海","value":70},{"name":"郑州"}],[{"name":"上海","value":60},{"name":"长春"}],[{"name":"上海","value":50},{"name":"重庆"}],[{"name":"上海","value":40},{"name":"长沙"}],[{"name":"上海","value":30},{"name":"北京"}],[{"name":"上海","value":20},{"name":"丹东"}],[{"name":"上海","value":10},{"name":"大连"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china"},{"name":"广州Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"广州","value":95},{"name":"福州"}],[{"name":"广州","value":90},{"name":"太原"}],[{"name":"广州","value":80},{"name":"长春"}],[{"name":"广州","value":70},{"name":"重庆"}],[{"name":"广州","value":60},{"name":"西安"}],[{"name":"广州","value":50},{"name":"成都"}],[{"name":"广州","value":40},{"name":"常州"}],[{"name":"广州","value":30},{"name":"北京"}],[{"name":"广州","value":20},{"name":"北海"}],[{"name":"广州","value":10},{"name":"海口"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china"}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["北京Top10","上海Top10","广州Top10"],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>## add markPoints
## series better be 2, 3, 4 rather than the series names
jsSymbolSize &lt;- JS(&#39;function (v) {return 10+v/10;}&#39;)
mp.style &lt;- list(normal=itemStyle(label=labelStyle(show=FALSE)), 
                 emphasis=itemStyle(label=labelStyle(position=&#39;top&#39;)))
g2 &lt;- g1 %&gt;%
    addMP(series=2:4, data=target[,c(&quot;name2&quot;, &quot;value&quot;, &quot;series&quot;)],
          effect=list(show=TRUE), symbolSize=jsSymbolSize, 
          itmeStyle=mp.style) 
g2</code></pre>
<div id="htmlwidget-28f532419782d0ea65d9" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-28f532419782d0ea65d9">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false},"borderColor":"rgba(100,149,237,1)","borderWidth":0.5,"areaStyle":{"color":"#1b1b1b"}},"emphasis":{"label":{"show":true}}},"data":[],"geoCoord":{"上海":[121.4648,31.2891],"东莞":[113.8953,22.901],"东营":[118.7073,37.5513],"中山":[113.4229,22.478],"临汾":[111.4783,36.1615],"临沂":[118.3118,35.2936],"丹东":[124.541,40.4242],"丽水":[119.5642,28.1854],"乌鲁木齐":[87.9236,43.5883],"佛山":[112.8955,23.1097],"保定":[115.0488,39.0948],"兰州":[103.5901,36.3043],"包头":[110.3467,41.4899],"北京":[116.4551,40.2539],"北海":[109.314,21.6211],"南京":[118.8062,31.9208],"南宁":[108.479,23.1152],"南昌":[116.0046,28.6633],"南通":[121.1023,32.1625],"厦门":[118.1689,24.6478],"台州":[121.1353,28.6688],"合肥":[117.29,32.0581],"呼和浩特":[111.4124,40.4901],"咸阳":[108.4131,34.8706],"哈尔滨":[127.9688,45.368],"唐山":[118.4766,39.6826],"嘉兴":[120.9155,30.6354],"大同":[113.7854,39.8035],"大连":[122.2229,39.4409],"天津":[117.4219,39.4189],"太原":[112.3352,37.9413],"威海":[121.9482,37.1393],"宁波":[121.5967,29.6466],"宝鸡":[107.1826,34.3433],"宿迁":[118.5535,33.7775],"常州":[119.4543,31.5582],"广州":[113.5107,23.2196],"廊坊":[116.521,39.0509],"延安":[109.1052,36.4252],"张家口":[115.1477,40.8527],"徐州":[117.5208,34.3268],"德州":[116.6858,37.2107],"惠州":[114.6204,23.1647],"成都":[103.9526,30.7617],"扬州":[119.4653,32.8162],"承德":[117.5757,41.4075],"拉萨":[91.1865,30.1465],"无锡":[120.3442,31.5527],"日照":[119.2786,35.5023],"昆明":[102.9199,25.4663],"杭州":[119.5313,29.8773],"枣庄":[117.323,34.8926],"柳州":[109.3799,24.9774],"株洲":[113.5327,27.0319],"武汉":[114.3896,30.6628],"汕头":[117.1692,23.3405],"江门":[112.6318,22.1484],"沈阳":[123.1238,42.1216],"沧州":[116.8286,38.2104],"河源":[114.917,23.9722],"泉州":[118.3228,25.1147],"泰安":[117.0264,36.0516],"泰州":[120.0586,32.5525],"济南":[117.1582,36.8701],"济宁":[116.8286,35.3375],"海口":[110.3893,19.8516],"淄博":[118.0371,36.6064],"淮安":[118.927,33.4039],"深圳":[114.5435,22.5439],"清远":[112.9175,24.3292],"温州":[120.498,27.8119],"渭南":[109.7864,35.0299],"湖州":[119.8608,30.7782],"湘潭":[112.5439,27.7075],"滨州":[117.8174,37.4963],"潍坊":[119.0918,36.524],"烟台":[120.7397,37.5128],"玉溪":[101.9312,23.8898],"珠海":[113.7305,22.1155],"盐城":[120.2234,33.5577],"盘锦":[121.9482,41.0449],"石家庄":[114.4995,38.1006],"福州":[119.4543,25.9222],"秦皇岛":[119.2126,40.0232],"绍兴":[120.564,29.7565],"聊城":[115.9167,36.4032],"肇庆":[112.1265,23.5822],"舟山":[122.2559,30.2234],"苏州":[120.6519,31.3989],"莱芜":[117.6526,36.2714],"菏泽":[115.6201,35.2057],"营口":[122.4316,40.4297],"葫芦岛":[120.1575,40.578],"衡水":[115.8838,37.7161],"衢州":[118.6853,28.8666],"西宁":[101.4038,36.8207],"西安":[109.1162,34.2004],"贵阳":[106.6992,26.7682],"连云港":[119.1248,34.552],"邢台":[114.8071,37.2821],"邯郸":[114.4775,36.535],"郑州":[113.4668,34.6234],"鄂尔多斯":[108.9734,39.2487],"重庆":[107.7539,30.1904],"金华":[120.0037,29.1028],"铜川":[109.0393,35.1947],"银川":[106.3586,38.1775],"镇江":[119.4763,31.9702],"长春":[125.8154,44.2584],"长沙":[113.0823,28.2568],"长治":[112.8625,36.4746],"阳泉":[113.4778,38.0951],"青岛":[120.4651,36.3373],"韶关":[113.7964,24.7028]},"markLine":{"data":[[{"name":"北京"},{"name":"包头"}],[{"name":"北京"},{"name":"北海"}],[{"name":"北京"},{"name":"广州"}],[{"name":"北京"},{"name":"郑州"}],[{"name":"北京"},{"name":"长春"}],[{"name":"北京"},{"name":"长治"}],[{"name":"北京"},{"name":"重庆"}],[{"name":"北京"},{"name":"长沙"}],[{"name":"北京"},{"name":"成都"}],[{"name":"北京"},{"name":"常州"}],[{"name":"北京"},{"name":"丹东"}],[{"name":"北京"},{"name":"大连"}],[{"name":"北京"},{"name":"东营"}],[{"name":"北京"},{"name":"延安"}],[{"name":"北京"},{"name":"福州"}],[{"name":"北京"},{"name":"海口"}],[{"name":"北京"},{"name":"呼和浩特"}],[{"name":"北京"},{"name":"合肥"}],[{"name":"北京"},{"name":"杭州"}],[{"name":"北京"},{"name":"哈尔滨"}],[{"name":"北京"},{"name":"舟山"}],[{"name":"北京"},{"name":"银川"}],[{"name":"北京"},{"name":"衢州"}],[{"name":"北京"},{"name":"南昌"}],[{"name":"北京"},{"name":"昆明"}],[{"name":"北京"},{"name":"贵阳"}],[{"name":"北京"},{"name":"兰州"}],[{"name":"北京"},{"name":"拉萨"}],[{"name":"北京"},{"name":"连云港"}],[{"name":"北京"},{"name":"临沂"}],[{"name":"北京"},{"name":"柳州"}],[{"name":"北京"},{"name":"宁波"}],[{"name":"北京"},{"name":"南京"}],[{"name":"北京"},{"name":"南宁"}],[{"name":"北京"},{"name":"南通"}],[{"name":"北京"},{"name":"上海"}],[{"name":"北京"},{"name":"沈阳"}],[{"name":"北京"},{"name":"西安"}],[{"name":"北京"},{"name":"汕头"}],[{"name":"北京"},{"name":"深圳"}],[{"name":"北京"},{"name":"青岛"}],[{"name":"北京"},{"name":"济南"}],[{"name":"北京"},{"name":"太原"}],[{"name":"北京"},{"name":"乌鲁木齐"}],[{"name":"北京"},{"name":"潍坊"}],[{"name":"北京"},{"name":"威海"}],[{"name":"北京"},{"name":"温州"}],[{"name":"北京"},{"name":"武汉"}],[{"name":"北京"},{"name":"无锡"}],[{"name":"北京"},{"name":"厦门"}],[{"name":"北京"},{"name":"西宁"}],[{"name":"北京"},{"name":"徐州"}],[{"name":"北京"},{"name":"烟台"}],[{"name":"北京"},{"name":"盐城"}],[{"name":"北京"},{"name":"珠海"}],[{"name":"上海"},{"name":"包头"}],[{"name":"上海"},{"name":"北海"}],[{"name":"上海"},{"name":"广州"}],[{"name":"上海"},{"name":"郑州"}],[{"name":"上海"},{"name":"长春"}],[{"name":"上海"},{"name":"重庆"}],[{"name":"上海"},{"name":"长沙"}],[{"name":"上海"},{"name":"成都"}],[{"name":"上海"},{"name":"丹东"}],[{"name":"上海"},{"name":"大连"}],[{"name":"上海"},{"name":"福州"}],[{"name":"上海"},{"name":"海口"}],[{"name":"上海"},{"name":"呼和浩特"}],[{"name":"上海"},{"name":"合肥"}],[{"name":"上海"},{"name":"哈尔滨"}],[{"name":"上海"},{"name":"舟山"}],[{"name":"上海"},{"name":"银川"}],[{"name":"上海"},{"name":"南昌"}],[{"name":"上海"},{"name":"昆明"}],[{"name":"上海"},{"name":"贵阳"}],[{"name":"上海"},{"name":"兰州"}],[{"name":"上海"},{"name":"拉萨"}],[{"name":"上海"},{"name":"连云港"}],[{"name":"上海"},{"name":"临沂"}],[{"name":"上海"},{"name":"柳州"}],[{"name":"上海"},{"name":"宁波"}],[{"name":"上海"},{"name":"南宁"}],[{"name":"上海"},{"name":"北京"}],[{"name":"上海"},{"name":"沈阳"}],[{"name":"上海"},{"name":"秦皇岛"}],[{"name":"上海"},{"name":"西安"}],[{"name":"上海"},{"name":"石家庄"}],[{"name":"上海"},{"name":"汕头"}],[{"name":"上海"},{"name":"深圳"}],[{"name":"上海"},{"name":"青岛"}],[{"name":"上海"},{"name":"济南"}],[{"name":"上海"},{"name":"天津"}],[{"name":"上海"},{"name":"太原"}],[{"name":"上海"},{"name":"乌鲁木齐"}],[{"name":"上海"},{"name":"潍坊"}],[{"name":"上海"},{"name":"威海"}],[{"name":"上海"},{"name":"温州"}],[{"name":"上海"},{"name":"武汉"}],[{"name":"上海"},{"name":"厦门"}],[{"name":"上海"},{"name":"西宁"}],[{"name":"上海"},{"name":"徐州"}],[{"name":"上海"},{"name":"烟台"}],[{"name":"上海"},{"name":"珠海"}],[{"name":"广州"},{"name":"北海"}],[{"name":"广州"},{"name":"郑州"}],[{"name":"广州"},{"name":"长春"}],[{"name":"广州"},{"name":"重庆"}],[{"name":"广州"},{"name":"长沙"}],[{"name":"广州"},{"name":"成都"}],[{"name":"广州"},{"name":"常州"}],[{"name":"广州"},{"name":"大连"}],[{"name":"广州"},{"name":"福州"}],[{"name":"广州"},{"name":"海口"}],[{"name":"广州"},{"name":"呼和浩特"}],[{"name":"广州"},{"name":"合肥"}],[{"name":"广州"},{"name":"杭州"}],[{"name":"广州"},{"name":"哈尔滨"}],[{"name":"广州"},{"name":"舟山"}],[{"name":"广州"},{"name":"银川"}],[{"name":"广州"},{"name":"南昌"}],[{"name":"广州"},{"name":"昆明"}],[{"name":"广州"},{"name":"贵阳"}],[{"name":"广州"},{"name":"兰州"}],[{"name":"广州"},{"name":"拉萨"}],[{"name":"广州"},{"name":"连云港"}],[{"name":"广州"},{"name":"临沂"}],[{"name":"广州"},{"name":"柳州"}],[{"name":"广州"},{"name":"宁波"}],[{"name":"广州"},{"name":"南京"}],[{"name":"广州"},{"name":"南宁"}],[{"name":"广州"},{"name":"南通"}],[{"name":"广州"},{"name":"北京"}],[{"name":"广州"},{"name":"上海"}],[{"name":"广州"},{"name":"沈阳"}],[{"name":"广州"},{"name":"西安"}],[{"name":"广州"},{"name":"石家庄"}],[{"name":"广州"},{"name":"汕头"}],[{"name":"广州"},{"name":"青岛"}],[{"name":"广州"},{"name":"济南"}],[{"name":"广州"},{"name":"天津"}],[{"name":"广州"},{"name":"太原"}],[{"name":"广州"},{"name":"乌鲁木齐"}],[{"name":"广州"},{"name":"温州"}],[{"name":"广州"},{"name":"武汉"}],[{"name":"广州"},{"name":"无锡"}],[{"name":"广州"},{"name":"厦门"}],[{"name":"广州"},{"name":"西宁"}],[{"name":"广州"},{"name":"徐州"}],[{"name":"广州"},{"name":"烟台"}],[{"name":"广州"},{"name":"盐城"}]],"clickable":true,"symbol":["none","circle"],"smooth":true,"symbolSize":1,"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"color":"#fff","borderWidth":1,"borderColor":"rgba(30,144,255,0.5)"}}},"hoverable":false},{"name":"北京Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"北京","value":95},{"name":"上海"}],[{"name":"北京","value":90},{"name":"广州"}],[{"name":"北京","value":80},{"name":"大连"}],[{"name":"北京","value":70},{"name":"南宁"}],[{"name":"北京","value":60},{"name":"南昌"}],[{"name":"北京","value":50},{"name":"拉萨"}],[{"name":"北京","value":40},{"name":"长春"}],[{"name":"北京","value":30},{"name":"包头"}],[{"name":"北京","value":20},{"name":"重庆"}],[{"name":"北京","value":10},{"name":"常州"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china","markPoint":{"data":[{"name":"上海","value":95},{"name":"广州","value":90},{"name":"大连","value":80},{"name":"南宁","value":70},{"name":"南昌","value":60},{"name":"拉萨","value":50},{"name":"长春","value":40},{"name":"包头","value":30},{"name":"重庆","value":20},{"name":"常州","value":10}],"clickable":true,"symbol":"pin","symbolSize":"function (v) {return 10+v/10;}","large":false,"effect":{"show":true}}},{"name":"上海Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"上海","value":95},{"name":"包头"}],[{"name":"上海","value":90},{"name":"昆明"}],[{"name":"上海","value":80},{"name":"广州"}],[{"name":"上海","value":70},{"name":"郑州"}],[{"name":"上海","value":60},{"name":"长春"}],[{"name":"上海","value":50},{"name":"重庆"}],[{"name":"上海","value":40},{"name":"长沙"}],[{"name":"上海","value":30},{"name":"北京"}],[{"name":"上海","value":20},{"name":"丹东"}],[{"name":"上海","value":10},{"name":"大连"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china","markPoint":{"data":[{"name":"包头","value":95},{"name":"昆明","value":90},{"name":"广州","value":80},{"name":"郑州","value":70},{"name":"长春","value":60},{"name":"重庆","value":50},{"name":"长沙","value":40},{"name":"北京","value":30},{"name":"丹东","value":20},{"name":"大连","value":10}],"clickable":true,"symbol":"pin","symbolSize":"function (v) {return 10+v/10;}","large":false,"effect":{"show":true}}},{"name":"广州Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"广州","value":95},{"name":"福州"}],[{"name":"广州","value":90},{"name":"太原"}],[{"name":"广州","value":80},{"name":"长春"}],[{"name":"广州","value":70},{"name":"重庆"}],[{"name":"广州","value":60},{"name":"西安"}],[{"name":"广州","value":50},{"name":"成都"}],[{"name":"广州","value":40},{"name":"常州"}],[{"name":"广州","value":30},{"name":"北京"}],[{"name":"广州","value":20},{"name":"北海"}],[{"name":"广州","value":10},{"name":"海口"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china","markPoint":{"data":[{"name":"福州","value":95},{"name":"太原","value":90},{"name":"长春","value":80},{"name":"重庆","value":70},{"name":"西安","value":60},{"name":"成都","value":50},{"name":"常州","value":40},{"name":"北京","value":30},{"name":"北海","value":20},{"name":"海口","value":10}],"clickable":true,"symbol":"pin","symbolSize":"function (v) {return 10+v/10;}","large":false,"effect":{"show":true}}}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["北京Top10","上海Top10","广州Top10"],"x":"left","y":"top","orient":"horizontal"}},"evals":["series.1.markPoint.symbolSize","series.2.markPoint.symbolSize","series.3.markPoint.symbolSize"],"jsHooks":[]}</script>
<pre class="r"><code>## setDataRange
g3 &lt;- g2 %&gt;%
    setDataRange(
        color=c(&#39;#ff3333&#39;, &#39;orange&#39;, &#39;yellow&#39;,&#39;limegreen&#39;,&#39;aquamarine&#39;),
        valueRange=c(0, 100), textStyle=list(color=&#39;#fff&#39;),
        splitNumber=0)

## setTheme
g3 &lt;- g3 %&gt;% setLegend(pos=10, selected=&#39;上海Top10&#39;, textStyle=list(color=&#39;#fff&#39;)) %&gt;%
    setTheme(palette=c(&#39;gold&#39;,&#39;aquamarine&#39;,&#39;limegreen&#39;), bgColor=&#39;#1b1b1b&#39;) %&gt;%
    setToolbox(pos=3) %&gt;% 
    setTitle(&#39;Baidu Migration&#39;, &#39;Fictious Data&#39;, pos=12, 
             textStyle=list(color=&#39;white&#39;))
g3</code></pre>
<div id="htmlwidget-316748011e14e8b2c655" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-316748011e14e8b2c655">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false},"borderColor":"rgba(100,149,237,1)","borderWidth":0.5,"areaStyle":{"color":"#1b1b1b"}},"emphasis":{"label":{"show":true}}},"data":[],"geoCoord":{"上海":[121.4648,31.2891],"东莞":[113.8953,22.901],"东营":[118.7073,37.5513],"中山":[113.4229,22.478],"临汾":[111.4783,36.1615],"临沂":[118.3118,35.2936],"丹东":[124.541,40.4242],"丽水":[119.5642,28.1854],"乌鲁木齐":[87.9236,43.5883],"佛山":[112.8955,23.1097],"保定":[115.0488,39.0948],"兰州":[103.5901,36.3043],"包头":[110.3467,41.4899],"北京":[116.4551,40.2539],"北海":[109.314,21.6211],"南京":[118.8062,31.9208],"南宁":[108.479,23.1152],"南昌":[116.0046,28.6633],"南通":[121.1023,32.1625],"厦门":[118.1689,24.6478],"台州":[121.1353,28.6688],"合肥":[117.29,32.0581],"呼和浩特":[111.4124,40.4901],"咸阳":[108.4131,34.8706],"哈尔滨":[127.9688,45.368],"唐山":[118.4766,39.6826],"嘉兴":[120.9155,30.6354],"大同":[113.7854,39.8035],"大连":[122.2229,39.4409],"天津":[117.4219,39.4189],"太原":[112.3352,37.9413],"威海":[121.9482,37.1393],"宁波":[121.5967,29.6466],"宝鸡":[107.1826,34.3433],"宿迁":[118.5535,33.7775],"常州":[119.4543,31.5582],"广州":[113.5107,23.2196],"廊坊":[116.521,39.0509],"延安":[109.1052,36.4252],"张家口":[115.1477,40.8527],"徐州":[117.5208,34.3268],"德州":[116.6858,37.2107],"惠州":[114.6204,23.1647],"成都":[103.9526,30.7617],"扬州":[119.4653,32.8162],"承德":[117.5757,41.4075],"拉萨":[91.1865,30.1465],"无锡":[120.3442,31.5527],"日照":[119.2786,35.5023],"昆明":[102.9199,25.4663],"杭州":[119.5313,29.8773],"枣庄":[117.323,34.8926],"柳州":[109.3799,24.9774],"株洲":[113.5327,27.0319],"武汉":[114.3896,30.6628],"汕头":[117.1692,23.3405],"江门":[112.6318,22.1484],"沈阳":[123.1238,42.1216],"沧州":[116.8286,38.2104],"河源":[114.917,23.9722],"泉州":[118.3228,25.1147],"泰安":[117.0264,36.0516],"泰州":[120.0586,32.5525],"济南":[117.1582,36.8701],"济宁":[116.8286,35.3375],"海口":[110.3893,19.8516],"淄博":[118.0371,36.6064],"淮安":[118.927,33.4039],"深圳":[114.5435,22.5439],"清远":[112.9175,24.3292],"温州":[120.498,27.8119],"渭南":[109.7864,35.0299],"湖州":[119.8608,30.7782],"湘潭":[112.5439,27.7075],"滨州":[117.8174,37.4963],"潍坊":[119.0918,36.524],"烟台":[120.7397,37.5128],"玉溪":[101.9312,23.8898],"珠海":[113.7305,22.1155],"盐城":[120.2234,33.5577],"盘锦":[121.9482,41.0449],"石家庄":[114.4995,38.1006],"福州":[119.4543,25.9222],"秦皇岛":[119.2126,40.0232],"绍兴":[120.564,29.7565],"聊城":[115.9167,36.4032],"肇庆":[112.1265,23.5822],"舟山":[122.2559,30.2234],"苏州":[120.6519,31.3989],"莱芜":[117.6526,36.2714],"菏泽":[115.6201,35.2057],"营口":[122.4316,40.4297],"葫芦岛":[120.1575,40.578],"衡水":[115.8838,37.7161],"衢州":[118.6853,28.8666],"西宁":[101.4038,36.8207],"西安":[109.1162,34.2004],"贵阳":[106.6992,26.7682],"连云港":[119.1248,34.552],"邢台":[114.8071,37.2821],"邯郸":[114.4775,36.535],"郑州":[113.4668,34.6234],"鄂尔多斯":[108.9734,39.2487],"重庆":[107.7539,30.1904],"金华":[120.0037,29.1028],"铜川":[109.0393,35.1947],"银川":[106.3586,38.1775],"镇江":[119.4763,31.9702],"长春":[125.8154,44.2584],"长沙":[113.0823,28.2568],"长治":[112.8625,36.4746],"阳泉":[113.4778,38.0951],"青岛":[120.4651,36.3373],"韶关":[113.7964,24.7028]},"markLine":{"data":[[{"name":"北京"},{"name":"包头"}],[{"name":"北京"},{"name":"北海"}],[{"name":"北京"},{"name":"广州"}],[{"name":"北京"},{"name":"郑州"}],[{"name":"北京"},{"name":"长春"}],[{"name":"北京"},{"name":"长治"}],[{"name":"北京"},{"name":"重庆"}],[{"name":"北京"},{"name":"长沙"}],[{"name":"北京"},{"name":"成都"}],[{"name":"北京"},{"name":"常州"}],[{"name":"北京"},{"name":"丹东"}],[{"name":"北京"},{"name":"大连"}],[{"name":"北京"},{"name":"东营"}],[{"name":"北京"},{"name":"延安"}],[{"name":"北京"},{"name":"福州"}],[{"name":"北京"},{"name":"海口"}],[{"name":"北京"},{"name":"呼和浩特"}],[{"name":"北京"},{"name":"合肥"}],[{"name":"北京"},{"name":"杭州"}],[{"name":"北京"},{"name":"哈尔滨"}],[{"name":"北京"},{"name":"舟山"}],[{"name":"北京"},{"name":"银川"}],[{"name":"北京"},{"name":"衢州"}],[{"name":"北京"},{"name":"南昌"}],[{"name":"北京"},{"name":"昆明"}],[{"name":"北京"},{"name":"贵阳"}],[{"name":"北京"},{"name":"兰州"}],[{"name":"北京"},{"name":"拉萨"}],[{"name":"北京"},{"name":"连云港"}],[{"name":"北京"},{"name":"临沂"}],[{"name":"北京"},{"name":"柳州"}],[{"name":"北京"},{"name":"宁波"}],[{"name":"北京"},{"name":"南京"}],[{"name":"北京"},{"name":"南宁"}],[{"name":"北京"},{"name":"南通"}],[{"name":"北京"},{"name":"上海"}],[{"name":"北京"},{"name":"沈阳"}],[{"name":"北京"},{"name":"西安"}],[{"name":"北京"},{"name":"汕头"}],[{"name":"北京"},{"name":"深圳"}],[{"name":"北京"},{"name":"青岛"}],[{"name":"北京"},{"name":"济南"}],[{"name":"北京"},{"name":"太原"}],[{"name":"北京"},{"name":"乌鲁木齐"}],[{"name":"北京"},{"name":"潍坊"}],[{"name":"北京"},{"name":"威海"}],[{"name":"北京"},{"name":"温州"}],[{"name":"北京"},{"name":"武汉"}],[{"name":"北京"},{"name":"无锡"}],[{"name":"北京"},{"name":"厦门"}],[{"name":"北京"},{"name":"西宁"}],[{"name":"北京"},{"name":"徐州"}],[{"name":"北京"},{"name":"烟台"}],[{"name":"北京"},{"name":"盐城"}],[{"name":"北京"},{"name":"珠海"}],[{"name":"上海"},{"name":"包头"}],[{"name":"上海"},{"name":"北海"}],[{"name":"上海"},{"name":"广州"}],[{"name":"上海"},{"name":"郑州"}],[{"name":"上海"},{"name":"长春"}],[{"name":"上海"},{"name":"重庆"}],[{"name":"上海"},{"name":"长沙"}],[{"name":"上海"},{"name":"成都"}],[{"name":"上海"},{"name":"丹东"}],[{"name":"上海"},{"name":"大连"}],[{"name":"上海"},{"name":"福州"}],[{"name":"上海"},{"name":"海口"}],[{"name":"上海"},{"name":"呼和浩特"}],[{"name":"上海"},{"name":"合肥"}],[{"name":"上海"},{"name":"哈尔滨"}],[{"name":"上海"},{"name":"舟山"}],[{"name":"上海"},{"name":"银川"}],[{"name":"上海"},{"name":"南昌"}],[{"name":"上海"},{"name":"昆明"}],[{"name":"上海"},{"name":"贵阳"}],[{"name":"上海"},{"name":"兰州"}],[{"name":"上海"},{"name":"拉萨"}],[{"name":"上海"},{"name":"连云港"}],[{"name":"上海"},{"name":"临沂"}],[{"name":"上海"},{"name":"柳州"}],[{"name":"上海"},{"name":"宁波"}],[{"name":"上海"},{"name":"南宁"}],[{"name":"上海"},{"name":"北京"}],[{"name":"上海"},{"name":"沈阳"}],[{"name":"上海"},{"name":"秦皇岛"}],[{"name":"上海"},{"name":"西安"}],[{"name":"上海"},{"name":"石家庄"}],[{"name":"上海"},{"name":"汕头"}],[{"name":"上海"},{"name":"深圳"}],[{"name":"上海"},{"name":"青岛"}],[{"name":"上海"},{"name":"济南"}],[{"name":"上海"},{"name":"天津"}],[{"name":"上海"},{"name":"太原"}],[{"name":"上海"},{"name":"乌鲁木齐"}],[{"name":"上海"},{"name":"潍坊"}],[{"name":"上海"},{"name":"威海"}],[{"name":"上海"},{"name":"温州"}],[{"name":"上海"},{"name":"武汉"}],[{"name":"上海"},{"name":"厦门"}],[{"name":"上海"},{"name":"西宁"}],[{"name":"上海"},{"name":"徐州"}],[{"name":"上海"},{"name":"烟台"}],[{"name":"上海"},{"name":"珠海"}],[{"name":"广州"},{"name":"北海"}],[{"name":"广州"},{"name":"郑州"}],[{"name":"广州"},{"name":"长春"}],[{"name":"广州"},{"name":"重庆"}],[{"name":"广州"},{"name":"长沙"}],[{"name":"广州"},{"name":"成都"}],[{"name":"广州"},{"name":"常州"}],[{"name":"广州"},{"name":"大连"}],[{"name":"广州"},{"name":"福州"}],[{"name":"广州"},{"name":"海口"}],[{"name":"广州"},{"name":"呼和浩特"}],[{"name":"广州"},{"name":"合肥"}],[{"name":"广州"},{"name":"杭州"}],[{"name":"广州"},{"name":"哈尔滨"}],[{"name":"广州"},{"name":"舟山"}],[{"name":"广州"},{"name":"银川"}],[{"name":"广州"},{"name":"南昌"}],[{"name":"广州"},{"name":"昆明"}],[{"name":"广州"},{"name":"贵阳"}],[{"name":"广州"},{"name":"兰州"}],[{"name":"广州"},{"name":"拉萨"}],[{"name":"广州"},{"name":"连云港"}],[{"name":"广州"},{"name":"临沂"}],[{"name":"广州"},{"name":"柳州"}],[{"name":"广州"},{"name":"宁波"}],[{"name":"广州"},{"name":"南京"}],[{"name":"广州"},{"name":"南宁"}],[{"name":"广州"},{"name":"南通"}],[{"name":"广州"},{"name":"北京"}],[{"name":"广州"},{"name":"上海"}],[{"name":"广州"},{"name":"沈阳"}],[{"name":"广州"},{"name":"西安"}],[{"name":"广州"},{"name":"石家庄"}],[{"name":"广州"},{"name":"汕头"}],[{"name":"广州"},{"name":"青岛"}],[{"name":"广州"},{"name":"济南"}],[{"name":"广州"},{"name":"天津"}],[{"name":"广州"},{"name":"太原"}],[{"name":"广州"},{"name":"乌鲁木齐"}],[{"name":"广州"},{"name":"温州"}],[{"name":"广州"},{"name":"武汉"}],[{"name":"广州"},{"name":"无锡"}],[{"name":"广州"},{"name":"厦门"}],[{"name":"广州"},{"name":"西宁"}],[{"name":"广州"},{"name":"徐州"}],[{"name":"广州"},{"name":"烟台"}],[{"name":"广州"},{"name":"盐城"}]],"clickable":true,"symbol":["none","circle"],"smooth":true,"symbolSize":1,"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"color":"#fff","borderWidth":1,"borderColor":"rgba(30,144,255,0.5)"}}},"hoverable":false},{"name":"北京Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"北京","value":95},{"name":"上海"}],[{"name":"北京","value":90},{"name":"广州"}],[{"name":"北京","value":80},{"name":"大连"}],[{"name":"北京","value":70},{"name":"南宁"}],[{"name":"北京","value":60},{"name":"南昌"}],[{"name":"北京","value":50},{"name":"拉萨"}],[{"name":"北京","value":40},{"name":"长春"}],[{"name":"北京","value":30},{"name":"包头"}],[{"name":"北京","value":20},{"name":"重庆"}],[{"name":"北京","value":10},{"name":"常州"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china","markPoint":{"data":[{"name":"上海","value":95},{"name":"广州","value":90},{"name":"大连","value":80},{"name":"南宁","value":70},{"name":"南昌","value":60},{"name":"拉萨","value":50},{"name":"长春","value":40},{"name":"包头","value":30},{"name":"重庆","value":20},{"name":"常州","value":10}],"clickable":true,"symbol":"pin","symbolSize":"function (v) {return 10+v/10;}","large":false,"effect":{"show":true}}},{"name":"上海Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"上海","value":95},{"name":"包头"}],[{"name":"上海","value":90},{"name":"昆明"}],[{"name":"上海","value":80},{"name":"广州"}],[{"name":"上海","value":70},{"name":"郑州"}],[{"name":"上海","value":60},{"name":"长春"}],[{"name":"上海","value":50},{"name":"重庆"}],[{"name":"上海","value":40},{"name":"长沙"}],[{"name":"上海","value":30},{"name":"北京"}],[{"name":"上海","value":20},{"name":"丹东"}],[{"name":"上海","value":10},{"name":"大连"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china","markPoint":{"data":[{"name":"包头","value":95},{"name":"昆明","value":90},{"name":"广州","value":80},{"name":"郑州","value":70},{"name":"长春","value":60},{"name":"重庆","value":50},{"name":"长沙","value":40},{"name":"北京","value":30},{"name":"丹东","value":20},{"name":"大连","value":10}],"clickable":true,"symbol":"pin","symbolSize":"function (v) {return 10+v/10;}","large":false,"effect":{"show":true}}},{"name":"广州Top10","type":"map","data":[["-"]],"markLine":{"data":[[{"name":"广州","value":95},{"name":"福州"}],[{"name":"广州","value":90},{"name":"太原"}],[{"name":"广州","value":80},{"name":"长春"}],[{"name":"广州","value":70},{"name":"重庆"}],[{"name":"广州","value":60},{"name":"西安"}],[{"name":"广州","value":50},{"name":"成都"}],[{"name":"广州","value":40},{"name":"常州"}],[{"name":"广州","value":30},{"name":"北京"}],[{"name":"广州","value":20},{"name":"北海"}],[{"name":"广州","value":10},{"name":"海口"}]],"clickable":true,"symbol":["circle","arrow"],"smooth":true,"symbolSize":[2,4],"large":false,"effect":{"show":true,"scaleSize":1,"period":30,"color":"#fff","shadowBlur":10},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45},"itemStyle":{"normal":{"borderWidth":1,"lineStyle":{"type":"solid","shadowBlur":10}}}},"mapType":"china","markPoint":{"data":[{"name":"福州","value":95},{"name":"太原","value":90},{"name":"长春","value":80},{"name":"重庆","value":70},{"name":"西安","value":60},{"name":"成都","value":50},{"name":"常州","value":40},{"name":"北京","value":30},{"name":"北海","value":20},{"name":"海口","value":10}],"clickable":true,"symbol":"pin","symbolSize":"function (v) {return 10+v/10;}","large":false,"effect":{"show":true}}}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"center","orient":"vertical"},"legend":{"show":true,"data":["北京Top10","上海Top10","广州Top10"],"x":"left","y":"top","orient":"vertical","selected":{"北京Top10":false,"广州Top10":false},"selectedMode":"single","textStyle":{"color":"#fff"}},"dataRange":{"show":true,"calculable":true,"itemWidth":6,"selectedMode":true,"x":"left","y":"bottom","orient":"vertical","color":["#ff3333","orange","yellow","limegreen","aquamarine"],"borderColor":"#ccc","borderWidth":0,"min":0,"max":100},"color":["#FFD700","#7FFFD4","#32CD32",null],"backgroundColor":"#1b1b1b","title":{"text":"Baidu Migration","subtext":"Fictious Data","x":"center","y":"top","orient":"horizontal","textStyle":{"color":"white"}}},"evals":["series.1.markPoint.symbolSize","series.2.markPoint.symbolSize","series.3.markPoint.symbolSize"],"jsHooks":[]}</script>
</div>
<div id="addoveride-heatmap" class="section level2">
<h2><span class="header-section-number">4.5</span> Add/Overide heatMap</h2>
<p>Let’s make up a fictious heatmap dataset. The dataset must be comprised of <code>lng</code>, <code>lat</code> and <code>heat value</code>.</p>
<pre class="r"><code>heatmap &lt;- sapply(1:15, function(i){
    x &lt;- 100 + runif(1, 0, 1) * 16
    y &lt;- 24 + runif(1, 0, 1) * 12
    lapply(0:floor(50 * abs(rnorm(1))), function(j){
        c(x+runif(1, 0, 1)*2, y+runif(1, 0, 1)*2, runif(1, 0, 1))
    })
})
heatmap &lt;- data.frame(matrix(unlist(heatmap), byrow=TRUE, ncol=3))
str(heatmap)</code></pre>
<pre><code>## &#39;data.frame&#39;:    531 obs. of  3 variables:
##  $ X1: num  109 108 102 102 102 ...
##  $ X2: num  35.7 34.9 27.5 27.9 27.9 ...
##  $ X3: num  0.967 0.47 0.934 0.698 0.863 ...</code></pre>
<p>Then append/modify the heatmap to a base map using <code>addHeatmap</code> / <code>overideHeatmap</code>.</p>
<pre class="r"><code>echartr(NULL, type=&quot;map_china&quot;) %&gt;% addHeatmap(data=heatmap)</code></pre>
<div id="htmlwidget-feb36944b339f29f77a0" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-feb36944b339f29f77a0">{"x":{"series":[{"type":"map","mapType":"china","itemStyle":{"normal":{"label":{"show":false}},"emphasis":{"label":{"show":true}}},"data":[],"heatmap":{"data":[[108.695262357593,35.6712932423688,0.967057314468548],[108.319702848792,34.9099911502562,0.470127362059429],[102.339881973807,27.5366726559587,0.934421482961625],[102.444632911123,27.9451033566147,0.697574689751491],[101.509791268967,27.9204979944043,0.86262680310756],[101.468865506817,28.9643711210229,0.0369754629209638],[102.008388532791,28.7990740477107,0.0565663462039083],[100.790366582107,28.9727839347906,0.671944075496867],[102.512770677451,28.3172445246018,0.288395071169361],[101.524613704998,28.4768530242145,0.562619934557006],[102.117931541987,29.2070659743622,0.335784357739612],[101.38224310521,28.7893828307278,0.818867520196363],[101.377126408275,28.6193103147671,0.531889543170109],[101.776884494349,28.251194040291,0.091862287838012],[100.775136289652,28.4083258141764,0.987769395112991],[102.560504367109,29.054608409293,0.590219626901671],[100.766169121023,27.8523032711819,0.588429487077519],[101.796866934747,28.8630319852382,0.432079013437033],[102.501407620031,28.0750461011194,0.00730261416174471],[101.003436525352,27.5965693988837,0.722073960816488],[101.891583177727,28.1170492372476,0.0276581605430692],[100.958488884382,29.2750404239632,0.0603723970707506],[100.906376318075,28.3897453229874,0.0457001277245581],[102.034275364131,29.2885535368696,0.5858208774589],[101.284669592977,27.7854006099515,0.368423416279256],[102.634264881723,28.9157833792269,0.038876217789948],[101.844074980356,28.1245434591547,0.856557962484658],[100.867987763602,28.6656239624135,0.895193072268739],[101.984124336857,28.6122929998673,0.630974087864161],[100.880282002036,29.3198079965077,0.353537979070097],[100.738515798468,29.3381341230124,0.499230872606859],[102.266448977403,27.5236950367689,0.65230852458626],[100.750858831219,28.9577221493237,0.350328783271834],[100.663683562074,28.2432955307886,0.117218193365261],[102.266129911877,28.448592080269,0.269276337465271],[101.373923683073,29.3018986885436,0.109511371236295],[102.071453126613,28.1653514681384,0.963633365929127],[101.940691444091,27.8490300150588,0.937115516513586],[101.268807087094,29.0563219054602,0.546000496251509],[102.257434966974,28.0333683802746,0.0685641604941338],[101.571485178079,28.1587165859528,0.123571613105014],[101.195288770366,27.824789586477,0.992597248405218],[100.743581053801,28.783219628036,0.91939243953675],[102.570412726607,28.4915533782914,0.485807521268725],[100.977660009637,28.3448780858889,0.967211472103372],[101.545063409954,28.6356903440319,0.417964330874383],[100.87062988244,29.3627450363711,0.798239699797705],[101.769005233888,28.8708486766554,0.070699012838304],[104.237730953377,30.3288179244846,0.0769248399883509],[104.581448554061,29.2317390814424,0.755339714698493],[105.74861523835,30.3862105831504,0.00499758194200695],[106.072590905242,29.9847357301041,0.174545201938599],[104.448041063733,31.020747593604,0.83447021082975],[106.174770269543,30.3972609606571,0.841078052530065],[104.341552218888,29.3906652117148,0.296104341279715],[104.418188529555,29.2089103562757,0.245388800045475],[104.641532917973,29.1174259674735,0.482751722447574],[104.592307402287,30.9699046360329,0.569475603755563],[105.988433895167,30.9535721042193,0.234306317055598],[105.004711664282,30.3432962568477,0.942568313796073],[104.83371230308,29.1676439461298,0.63138657156378],[105.246751123108,29.4643346257508,0.127309490228072],[104.941617138218,29.0840178821236,0.0167843773961067],[104.266651403625,30.8970271595754,0.93781547434628],[105.935693198815,30.5592094012536,0.153205125359818],[105.507003172766,29.8038539262488,0.825461982982233],[105.193400525954,30.5189215973951,0.732953417347744],[104.856836839113,29.7603680207394,0.296999306650832],[105.535202258732,30.1690367702395,0.922368870582432],[105.659369685221,30.8424892621115,0.855835719034076],[105.655575014651,30.2383514381945,0.908037610119209],[104.467118236236,30.0612032804638,0.283023799071088],[105.52343722526,30.838986185845,0.859783868771046],[104.282059827354,29.3926148116589,0.0376346835400909],[105.869955873583,30.0794249167666,0.872129775816575],[105.103543706704,30.3903890997171,0.611434155609459],[105.302212446928,29.1993757653981,0.00246198358945549],[111.086444175802,34.6157212103717,0.315724747022614],[111.365050735883,34.1162628089078,0.288805856136605],[110.277530015912,33.7945662159473,0.71275011729449],[110.035609444138,33.7121909242123,0.109672276536003],[110.564537415747,33.2002061414532,0.819090864853933],[110.339208650403,33.3737875036895,0.818138195900247],[110.639586024452,33.4072404112667,0.761274591553956],[110.705105312634,34.8230655407533,0.000921391183510423],[110.180597719271,34.7051572180353,0.595054099336267],[111.75383114256,34.6937596644275,0.790181154385209],[111.07695171982,33.1656727516092,0.183223537169397],[111.82200582698,33.5767805450596,0.379605980589986],[109.979738044553,33.9454086669721,0.637185238534585],[111.880392536987,34.093346755486,0.554669433506206],[111.820801225025,33.9071057289839,0.396974959876388],[111.504289621487,33.1801904798485,0.256386150838807],[110.283074147999,33.9161177505739,0.356934610754251],[111.769838012289,33.4462551306933,0.0686205327510834],[110.427566363011,33.3727714545093,0.39752905908972],[110.089977394789,34.0555975683965,0.594935124972835],[111.834159709048,33.5582661903463,0.12046684185043],[111.478877826128,34.1595032922924,0.463558798423037],[110.465913501568,33.3766583963297,0.155775211984292],[111.012235562783,34.0589738534763,0.599147939821705],[110.054903600831,33.7794135003351,0.873300047125667],[110.751267678104,32.9498727223836,0.024531533010304],[111.851517920848,34.8348085973412,0.886362293735147],[110.873614806216,34.7200546823442,0.190846824552864],[111.206205391325,34.7558404691517,0.849478630116209],[110.63356444845,33.2624453515746,0.602549001341686],[110.067748342175,32.9743340890855,0.132011556997895],[110.066218323074,34.6701414873824,0.197863422334194],[110.977651352994,33.3173354188912,0.223646004451439],[111.318504994735,34.190994028002,0.772900789044797],[102.810832022224,34.6724082706496,0.325424815993756],[102.598115581088,32.929679160472,0.847118413308635],[102.369098402094,34.6587865240872,0.896754880435765],[101.775718071964,32.9415498771705,0.31158397695981],[103.173061069101,33.4987343675457,0.881461784243584],[102.070778244175,34.4462410039268,0.711968240560964],[102.667331338394,33.4185129152611,0.594710704404861],[102.061562896241,33.6430625398643,0.827019132906571],[102.034840888809,33.6388917122968,0.774851757101715],[101.505173631012,34.0400953465141,0.17002240428701],[101.482778916135,34.7418658486567,0.996778429485857],[101.67584263999,34.1095469635911,0.079878534656018],[102.489077718928,34.282775407657,0.630614929599687],[102.909310721327,34.6149137737229,0.964167956961319],[102.817682380322,33.3423692723736,0.0393690329510719],[101.495714473538,32.9752486590296,0.974579388042912],[101.563902316149,34.3722724094987,0.801985093858093],[102.582244609483,33.9072437952273,0.752035425510257],[103.076603326946,34.3711584373377,0.268426071619615],[102.292561787181,33.8163719605654,0.788069758098572],[103.406008015852,33.8789832890034,0.179221192141995],[101.522959495429,33.3933538412675,0.840744683053344],[102.06571290642,32.8680185354315,0.104805916082114],[103.160493887495,34.385628271848,0.689760762965307],[101.944960372522,33.044411605224,0.532699671108276],[102.492857226171,33.1048910357058,0.392742606811225],[102.213863020763,34.1343692396767,0.00601815315894783],[103.33277661493,34.2672977745533,0.882657430367544],[101.481831269339,34.2541215401143,0.987588656367734],[102.84143318003,34.2151796440594,0.148818641202524],[103.141477468424,34.4280166449025,0.762387681752443],[102.182139778044,33.0446344879456,0.98106479854323],[101.609973163344,34.6160891936161,0.684552580583841],[103.377083751839,33.6501187398098,0.779424864565954],[101.980785145424,33.8641240946017,0.155806538648903],[101.856165573001,33.3830523346551,0.153754448983818],[102.884234885219,33.9601059262641,0.207905642921105],[102.503304709215,33.0040051783435,0.855737778358161],[103.437921984587,33.464756289497,0.66974138864316],[101.522840051446,34.7075847550295,0.0925999637693167],[102.824526868295,34.2378389788792,0.910308913560584],[102.672314406838,33.704541225452,0.894784999778494],[101.703422048595,34.7532012555748,0.903851322829723],[101.504412590526,33.0482830237597,0.390897321514785],[102.233386217616,33.1670394265093,0.474879942834377],[102.38675848674,33.5735051138327,0.0990032784175128],[102.016774726566,34.6302544684149,0.889587643556297],[102.864955121651,33.5978489280678,0.923154382035136],[102.479098094162,33.9484608359635,0.623700994998217],[102.586292365566,34.7803275547922,0.0157990658190101],[102.844679552596,33.5841800356284,0.231368787121028],[102.881033048499,33.0288026095368,0.764588980469853],[102.251693145372,34.468499455601,0.931069439044222],[102.334504185244,33.4610010688193,0.998642992926762],[102.226293604355,33.3767355307937,0.29464682447724],[102.134752239566,33.4296373003162,0.194680514745414],[101.909639296122,34.5350215411745,0.886854043696076],[102.062287074979,33.1083902209066,0.647355466848239],[102.319921773393,33.2606825870462,0.0906377288047224],[103.32415575115,33.9519005543552,0.450125387636945],[103.380399828777,33.3334697680548,0.0854094736278057],[102.83603860857,34.6879490469582,0.0437759107444435],[103.356424795929,34.7407466969453,0.772652895189822],[102.99835901428,34.5158104263246,0.577778949169442],[102.672011707909,33.9265443170443,0.853105614194646],[102.525735014118,33.4053716291673,0.975063485326245],[102.626187240239,34.547802391462,0.903111152583733],[102.954820895102,33.7809978630394,0.00986657408066094],[101.753967011813,34.4647508100607,0.440354682970792],[101.772889757995,32.8808773127384,0.09135687421076],[103.229626894929,34.5629452117719,0.901649262057617],[102.672582044732,34.5136393154971,0.395989493932575],[102.98007590184,34.1720401574858,0.254929134622216],[102.304964710958,33.1318632713519,0.292899631662294],[102.255826569628,33.2153782495297,0.732798480894417],[107.301175267436,35.8320859647356,0.2723943751771],[107.450121547095,35.7759218141437,0.889788588508964],[107.691389182117,35.7545165992342,0.590531965019181],[106.529503453523,36.3951354594901,0.690504754660651],[105.980629554018,35.6852320753969,0.47638142760843],[106.213514408562,35.7793671125546,0.0185702533926815],[106.360030762851,37.0396709823981,0.898958215024322],[106.235741629731,35.7530443714932,0.293787367409095],[107.139993391465,35.8166607017629,0.481663016369566],[107.443711386528,37.0270764906891,0.899877016432583],[106.947593613993,36.0200489419512,0.271393640199676],[106.199760066345,36.4142315099016,0.110865137772635],[107.415362103842,35.8832065919414,0.531856539193541],[106.734524397645,36.2085556066595,0.916724789887667],[107.33231764473,36.4888367126696,0.740464871283621],[107.196205197833,36.5171759640798,0.601373736746609],[106.069399384316,36.1878065131605,0.750873337499797],[107.83065286791,35.8355842134915,0.823467723093927],[106.157849786337,37.4397168196738,0.724037108011544],[106.745469750371,37.4323209947906,0.253313787747175],[106.713959121611,37.1138266646303,0.823909191414714],[106.933159517124,36.7135916943662,0.853977508144453],[106.711196353659,36.2152434405871,0.332470711320639],[107.741069509182,37.2545972377993,0.0129994191229343],[107.280393044464,37.2655519796535,0.438853036612272],[107.431909361854,37.1605944703333,0.73280776408501],[106.800846299157,36.2568651754409,0.182624795706943],[106.960333632305,36.000806549564,0.804414524929598],[107.311466345564,37.5125990915112,0.369545947993174],[107.362289901357,36.4607474599034,0.0798161763232201],[104.412702336442,29.317149204202,0.366148983361199],[103.752437775489,31.0552044576034,0.78336165077053],[103.072265344672,29.5709916260093,0.79416114022024],[103.10404643463,30.42894818075,0.56027882755734],[104.860242134426,30.5892318692058,0.223689005477354],[104.776502574328,30.4028260651976,0.77890722756274],[103.534721530508,30.7040491164662,0.668730711564422],[104.890060367063,29.604357347358,0.572937033372],[104.953902782407,30.6462587350979,0.429200854850933],[104.779642233159,30.1956739742309,0.666583763202652],[103.09432798624,29.7360034054145,0.755962637253106],[103.877413639333,29.3282304843888,0.17265368020162],[104.340444342699,29.8154179230332,0.289002707693726],[104.027230927255,29.5300491950475,0.638709464110434],[104.055467907339,30.8192976862192,0.85563702811487],[103.060035342816,31.0173424356617,0.232915604952723],[103.421312780585,29.6458902671002,0.0531345757190138],[103.254769339226,30.3105453704484,0.156057119369507],[104.128428975586,29.438012927305,0.150273352395743],[103.543069255538,31.1049484815449,0.907541319262236],[104.847546542995,30.8821886419319,0.376434318721294],[104.646581384819,30.4403236960061,0.162011655746028],[104.039281263016,30.7702690414153,0.361714533297345],[103.041772642173,29.8191650807858,0.468412479851395],[103.827916199807,29.300189204514,0.0582297625951469],[103.431268858258,31.035235949792,0.255843721562997],[106.864549588412,28.6739671044052,0.994928774656728],[105.400993420742,29.2659731516615,0.33241773978807],[105.457396972924,29.9932405208237,0.158035253407434],[106.675193945877,29.8460024604574,0.00799524295143783],[106.436240510549,29.2432461469434,0.108842751244083],[106.421804754995,28.4189633997157,0.535114286467433],[106.069452641532,29.3579855980352,0.987314821220934],[105.175654310267,29.0605160966516,0.591509348945692],[105.884715854656,28.9846913935617,0.530868178233504],[105.516146143898,30.166620108299,0.283453871263191],[106.962020239327,28.4871111013927,0.123537827515975],[105.671897140332,30.2696076785214,0.154503787867725],[106.267724666744,28.8047270155512,0.407686039805412],[106.264705207665,28.4031580379233,0.823598096845672],[105.470749915112,30.3248714921065,0.831117382040247],[105.313196861185,29.9636326781474,0.234845447354019],[105.898592662998,29.8955873260275,0.397477515507489],[105.939236543607,28.8584918417037,0.724843334173784],[106.370324629825,29.9663461893797,0.00181804760359228],[106.383301952854,28.4300158405676,0.878702263580635],[105.946294518653,29.7276074197143,0.0692979111336172],[106.278977822512,29.4146556775086,0.961668994976208],[106.32474659197,28.444756613113,0.651526720030233],[105.701268315315,29.8161925678141,0.00828531244769692],[106.02526738029,29.8416635431349,0.726692307041958],[106.158517356962,30.2601011972874,0.606268449453637],[105.907521557994,29.7528100344352,0.84453213494271],[107.016443854664,29.2160296486691,0.533644284587353],[105.272376077715,28.8296022037975,0.793781786691397],[105.788491098676,28.4295833152719,0.0403927916195244],[105.824134543072,30.3527562539093,0.994433843763545],[106.653094278648,28.6854677093215,0.613407456083223],[106.083386243787,28.9961835970171,0.187222420237958],[107.092727922834,29.5187416370027,0.645339017501101],[107.007094644476,28.6307767978869,0.450513160089031],[105.336769903079,30.2179690571502,0.532420812174678],[106.221818674356,29.3992904075421,0.354302627267316],[107.098490871023,29.8416900667362,0.984524733619764],[106.88902434241,28.52871299861,0.561651731375605],[105.979768523481,28.9062794428319,0.544191191438586],[105.312395468354,28.4791973358952,0.663669349160045],[106.05549374735,29.8729949416593,0.679796412587166],[105.178577694576,28.6236343202181,0.545116327470168],[106.035150772426,28.8555330298841,0.974805322941393],[106.658596182242,28.4709156909958,0.887853610794991],[105.580846109428,28.764529554639,0.586082356050611],[105.337895498611,29.2651529354043,0.416962940711528],[106.029686946888,28.8441866519861,0.959611237980425],[106.811024892144,28.8585870559327,0.872084379894659],[105.693820918445,29.1016931463964,0.119796434883028],[105.204589490313,29.9162091598846,0.610828827368096],[106.076627632603,29.974653555546,0.46864519175142],[106.766324171796,28.6896349908784,0.733640945516527],[107.003218289465,29.3015457824804,0.92920519108884],[106.673579749186,29.6193041983061,0.119981587165967],[105.383668841794,28.9351294259541,0.685695742722601],[106.381203928031,30.0621649767272,0.590640607988462],[106.288771997672,28.8414148967713,0.14863716205582],[106.831509693526,28.9870249261148,0.639289015438408],[106.387460445054,29.0320167196915,0.532569548347965],[106.657435813453,28.5334699996747,0.430814341409132],[105.738148078322,29.6299418602139,0.147376290289685],[105.753780118655,28.9049434671178,0.644715754780918],[105.483502913732,29.7046590228565,0.706254116026685],[107.125373403076,29.7094050743617,0.121044710278511],[106.380477908533,30.366064675618,0.94875202071853],[106.225728540216,29.635712149553,0.443379269912839],[106.081635318231,28.6671592169441,0.962046350818127],[105.458287434187,28.6044149957597,0.320732485502958],[105.21850558091,28.571854357142,0.633847470162436],[105.796978939325,28.6821025982499,0.0914210961200297],[105.55032177968,28.568786831107,0.397944681579247],[106.968181673903,30.0964736272581,0.662807865301147],[105.378810137045,29.1300458996557,0.080186614766717],[105.890019136015,28.6394141735509,0.241377425845712],[107.136980528012,28.3908310746774,0.900020609609783],[106.833607768174,29.5950419469737,0.160123847424984],[105.407105145976,29.6942633693106,0.267355246702209],[106.258852187078,29.9323514155112,0.95088144717738],[105.181217413396,28.6556590800174,0.329795303987339],[105.663090492133,30.2664425582625,0.324102873681113],[106.241923770402,29.6406340417452,0.182469982653856],[106.996734212618,28.6594482660294,0.449951785150915],[106.771970923059,30.2191529660486,0.898422698955983],[106.763634093571,29.4495982946828,0.764474121620879],[108.417134348303,35.2760432623327,0.706751392455772],[108.249318173155,35.5353789473884,0.933767055859789],[107.614725976251,34.3238250371069,0.336094642058015],[108.376687908079,35.4129957226105,0.161154960747808],[109.346245262772,33.8849587272853,0.695051066577435],[109.359604448546,34.6467409362085,0.619122344069183],[108.459974871483,34.7858035149984,0.541039984673262],[103.416067228187,27.1032571801916,0.00321277976036072],[103.347707978915,27.1335911578499,0.639647763920948],[102.572437277064,27.6332499333657,0.51393162785098],[103.141249982174,27.2864481671713,0.0869769135024399],[103.192616797052,28.5284082759172,0.427361978217959],[102.976592358667,26.9206338864751,0.00293448171578348],[102.137839656789,27.8653275268152,0.101279842900112],[102.275424940046,27.1498022363521,0.415699699660763],[102.386923081707,27.3258789358661,0.191241322318092],[103.45886361273,27.0669774431735,0.133130391594023],[102.528422049712,28.6787011208944,0.173388062976301],[103.14884239994,28.4689006595872,0.853120702784508],[102.628363505471,26.8728866381571,0.241696005919948],[103.247813795693,28.2244327464141,0.780627123313025],[102.581720221788,28.1592918266542,0.229881196049973],[103.451260132249,27.2451322842389,0.210882102837786],[114.058599332348,29.1590633662418,0.391464112093672],[112.347507720347,29.5539787611924,0.496113399509341],[112.554562140722,30.2172568514943,0.500532496254891],[112.922433341388,29.6199953532778,0.357570640044287],[113.077308994718,28.89093928691,0.10734095913358],[113.153316219337,29.7536546718329,0.752268495503813],[112.286527898628,29.0839485893957,0.165620240848511],[112.455533700995,29.0798396347091,0.497179407160729],[112.624926223885,28.8580957148224,0.06637272099033],[113.23803428188,30.2081149169244,0.325169536285102],[114.133073630277,28.5219064923003,0.119258063146845],[112.533994589932,28.4197006113827,0.254093727562577],[113.445879242849,29.0136438892223,0.275161922210827],[114.072494674474,29.0595317059197,0.222732114139944],[113.835871116724,28.6719927103259,0.592152460012585],[112.629082341213,28.9721509097144,0.932259381748736],[112.753679883666,29.5907614207827,0.70885130064562],[113.238859992474,30.0852465867065,0.627867895411327],[112.669741951395,29.5707651809789,0.606278572464362],[112.360229902901,30.2585546951741,0.495675016427413],[112.623063873965,28.4085807879455,0.606509014498442],[112.662849875633,30.1343902274966,0.240333403693512],[113.053647667635,28.9891511788592,0.239071598509327],[113.523761091288,29.2261862196028,0.336680400650948],[102.878869947977,31.2450434262864,0.924799775937572],[102.721166034695,31.4283355758525,0.549259101739153],[103.539453668986,31.232405400835,0.531379187479615],[103.564618920907,30.9713213578798,0.707279091933742],[103.974909887649,32.5377685232088,0.367665980709717],[104.231227714568,31.2153291190043,0.581584963016212],[103.505990751553,30.6358404187486,0.286831916775554],[102.619868879206,31.8426339887083,0.242534053046256],[103.446729520336,31.3068490829319,0.5048619620502],[103.808106913231,31.9324915427715,0.150780090596527],[103.135689340532,32.0185805112123,0.180559866130352],[104.447210157756,31.4017033083364,0.507566099986434],[103.993966734502,30.6777415550314,0.686082371976227],[103.246849721298,32.4710116880015,0.632854436989874],[104.081832949538,31.4309013048187,0.72228986164555],[104.40630049305,30.9366318276152,0.969485228182748],[104.324568397831,32.3383673005737,0.984480629209429],[103.801199187059,31.2770303050056,0.561171317938715],[104.071469978895,31.6566116055474,0.345019961241633],[102.810966715217,31.1375821824186,0.361585075035691],[102.777315950487,32.5896207457408,0.702190390788019],[103.719292969909,31.0647836802527,0.296426780987531],[104.256303214002,31.412920860108,0.650058654602617],[103.962259897962,32.5194958215579,0.637795898132026],[104.232648063917,31.7653914503753,0.555083311861381],[102.56342544267,31.1601825533435,0.623057397315279],[104.000833750237,32.2299158317037,0.0403519361279905],[103.920906092972,31.8311750711873,0.742816266370937],[103.085089809727,31.0090311393142,0.737584235612303],[103.765724593308,31.1015851981938,0.871330026071519],[103.584218987729,30.7410790920258,0.792227370664477],[103.787907332648,32.503963152878,0.125057124299929],[103.004303223919,30.6405792650767,0.383780961856246],[102.645446233917,32.3041097619571,0.137105053290725],[104.466284079012,31.2948230532929,0.364274713443592],[104.058857569937,32.2233053878881,0.333331336267292],[102.56001360435,31.4130228958093,0.16529627260752],[104.499973877333,32.1643576640636,0.574657310731709],[109.653624171391,35.0484424699098,0.325681078713387],[109.888915720396,35.2401312491857,0.790533195948228],[109.591837604996,35.2503123315983,0.0374382238369435],[109.742989716586,35.5948138921522,0.745903548086062],[114.023780127987,26.7189639550634,0.507366620237008],[114.184663442429,26.3433986501768,0.268200985621661],[113.579688682221,26.0881228842773,0.754369508707896],[112.981453302782,26.948429370299,0.0733359653968364],[113.896562751383,26.6833177427761,0.566380809992552],[114.298657737207,26.2823731950484,0.871373600559309],[113.39027852146,26.6882097278722,0.269997691968456],[113.831676679663,25.8113264692947,0.523732390720397],[113.895342722069,25.9104102742858,0.749618098372594],[114.138192552142,26.6502814306878,0.79696986451745],[114.758589650504,26.5389947597869,0.399876216892153],[113.571141593624,25.9509567581117,0.0276236021891236],[113.979154343251,26.3361343271099,0.914665635442361],[114.78334228741,25.7185828946531,0.754669435089454],[113.913069390226,26.8126576221548,0.988465659553185],[114.496119413059,27.5110684479587,0.470654104603454],[113.225490951445,26.7675670012832,0.557008042698726],[113.329191191588,26.9064907697029,0.928012499352917],[113.130954722874,26.6906747431494,0.991374437930062],[114.557333354838,25.9660710082389,0.769106673076749],[112.936084405985,25.9943282282911,0.0871896331664175],[112.993052618578,25.9481004793197,0.377213369356468],[113.749054115266,26.3042002734728,0.00638442533090711],[113.059024599846,25.6719959974289,0.494733947794884],[114.122398491018,25.849356401246,0.764105830807239],[114.549226147588,25.946471075993,0.018906366545707],[113.659381241072,26.6653648293577,0.721197827719152],[114.725764436182,26.2448590537533,0.969039160758257],[113.492434314452,26.714876846876,0.125073267146945],[113.463484696113,25.8290502890013,0.977349755587056],[113.55768796429,26.6438775192946,0.336400211090222],[114.359555553179,26.5400119428523,0.924912814749405],[113.785275514703,26.8076237738132,0.0938794848043472],[113.218993866351,26.1937459958717,0.52495295740664],[113.933304152917,25.7135261683725,0.957697078119963],[112.871956024319,26.4068646477535,0.511144023155794],[113.985755112953,26.9039767705835,0.604216787731275],[114.342180001084,26.6234043873847,0.56533912755549],[114.069125941489,26.8038797988556,0.532477839849889],[114.540146851446,26.1533471532166,0.024097815155983],[113.988294667099,26.0210600025021,0.611361335963011],[114.157161280978,27.0547807971016,0.947781549068168],[113.779672374949,27.4212891999632,0.0973667043726891],[114.010703805834,27.3155073421076,0.816322579979897],[114.10247610556,26.6869122665375,0.194175771903247],[113.586872637738,27.5153281590901,0.413879631087184],[113.610567623749,26.2166167474352,0.190221772529185],[114.217323566321,25.6617903099395,0.439108647406101],[114.640411495231,26.2590495580807,0.248518260195851],[113.683138086926,26.5618491983041,0.264028392033651],[112.998244231101,27.0469567500986,0.640651507070288],[113.664734496735,27.2502803271636,0.196557648014277],[113.353009759914,26.1533753136173,0.583733437117189],[113.893235387746,25.7958363946527,0.200426488416269],[112.899839480873,27.3685172088444,0.212627543602139],[114.712412127759,26.1814065198414,0.387533837463707],[113.244776770007,26.7977455658838,0.714954447699711],[113.301904197782,25.8700240673497,0.385756626958027],[114.075655889232,25.9361184323207,0.460678432602435],[114.083409680519,27.3785116188228,0.975307594519109],[114.526538887993,25.6833689836785,0.0789322543423623],[113.502645651344,25.8112435881048,0.292185429250821],[113.245811986737,27.0788419297896,0.201347451191396],[113.658838559408,26.107066960074,0.674193292390555],[112.897604239173,26.7309553050436,0.807837551226839],[114.526009059045,25.6473615793511,0.37991713732481],[114.696970392484,26.0965169887058,0.512498496333137],[113.400399267673,27.2148244543932,0.365675614448264],[114.266573771834,25.7438915427774,0.0917842255439609],[107.001355760731,25.8487599664368,0.946137235267088],[106.744380377233,26.927257783711,0.71203157515265],[106.517996400129,25.3547249003313,0.554391609039158],[105.327608465683,25.5247790813446,0.586859097471461],[105.279982158914,25.3259979458526,0.451465995516628],[106.104028733447,25.2473774543032,0.935530186165124],[107.072404919192,26.6784441010095,0.152455502888188],[105.920539446175,25.4984082025476,0.966130105545744],[106.416112717707,26.5041641010903,0.681089909747243],[105.458054453135,25.9571864395402,0.495736222481355],[105.186423084699,25.6004569954239,0.935618706513196],[105.33777490491,25.5023158923723,0.420494664926082],[105.208880580962,25.2287344555371,0.751558734802529],[105.80287863547,26.3061192929745,0.427582133328542],[105.33167352248,25.2146571096964,0.648734173038974],[106.105345804244,25.7321003489196,0.785478009609506],[106.013406389393,26.6161282034591,0.812080881325528],[106.880047959276,26.4363478873856,0.106847736751661],[105.964521724265,26.6773258522153,0.380374495405704],[106.849346056581,25.6825147946365,0.560377744259313],[105.397803503089,26.1232977295294,0.563075025333092],[106.326266726013,26.5984225650318,0.787308112718165],[105.434968091082,25.7184595731087,0.0186283304356039],[105.823524493258,25.3379193809815,0.077995364787057],[107.064556794241,25.1246216958389,0.920140254311264],[105.683417555876,25.6725360276178,0.192415287485346],[105.647021814249,25.6771950544789,0.653724203351885],[106.359008054249,26.5099308812059,0.652427225606516],[106.71046417905,25.4934104336426,0.0853668809868395],[106.728424703702,26.0318415160291,0.421197057468817],[106.868093204219,26.2572861737572,0.53935649455525],[106.181198008824,26.1417062822729,0.519822186790407],[106.725716148969,26.9555911431089,0.988721654051915],[105.299157617614,26.7742800400592,0.236845240928233],[105.448357296176,25.8142952169292,0.145009134663269],[106.855646085925,27.0656815469265,0.545461927773431],[105.274564208928,25.2297730445862,0.948159775696695],[105.209937589243,25.6909308419563,0.0119675246533006],[105.650282741524,26.353022959549,0.94761221902445],[106.968525695615,25.8460674732924,0.343405075836927],[106.233893668279,26.0779019100592,0.060933151980862],[106.182633281685,26.2770485226065,0.262989446287975],[105.538410259411,26.5155740752816,0.862665164750069],[107.036210770719,27.0506976139732,0.268361480906606],[106.323967095464,26.2952944631688,0.824066255474463],[106.352277397644,26.1865833038464,0.253563708625734]],"gradientColors":["blue","cyan","limegreen","yellow","orange","red"],"blurSize":30,"minAlpha":0.05,"valueScale":1,"opacity":1}}],"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"}},"evals":[],"jsHooks":[]}</script>
<hr />
<p>You can refer to related functions to play around on your own.</p>
</div>
</div>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
    // active menu
    var href = window.location.pathname;
    href = href.substr(href.lastIndexOf('/') + 1);
    if (href === '') href = './';
    $('a[href="' + href + '"]').parent().addClass('active');
});
</script>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "libs/mathjax-local/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
