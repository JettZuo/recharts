---
title: "基础图形Basic Plots 24 - 仪表盘Gauge"
output: 
  html_document: 
    number_sections: yes
    toc: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

首先，加载`recharts`:
```{r}
library(recharts)
```

# 介绍Introduction

仪表盘gauge也叫dashboard。

<table id='intro'>
<tr><td>
```{r,echo=FALSE}
data = data.frame(x='kph', y=70)
echartr(data, x, y, type='gauge') %>% 
    setTheme('macarons', width=400, height=300) %>% 
    setTitle('KM per Hour')
```
</td>
<td>
</table>

关键是:

- 文本型`x` 
- 数值型`y`
- 文本型`series`可获得多个仪表盘
- 设置`z`，让仪表盘动起来

# 用法Function Call

```r
echartr(data, x, y, <series>, <z>, <type>)
```

+--------+--------------------------------------------------------------------+
| 参数   |  要求                                            |
+========+====================================================================+
|**data**| 数据框格式的源数据                     |
+--------+--------------------------------------------------------------------+
| **x**  | 文本型自变量。如提供多个变量，只传入前两个。 |
+--------+--------------------------------------------------------------------+
| **y**  | 数值型应变量。如提供多个变量，只传入第一个。 |
+--------+--------------------------------------------------------------------+
| series | 转为因子后计算。`series`的每个水平被处理为分组因子，用于产生独立的极坐标系。如提供多个变量，只传入第一个。 |
+--------+--------------------------------------------------------------------+
|  z     | 时间轴变量，转为因子后计算。如提供多个变量，只传入第一个。 |
+--------+--------------------------------------------------------------------+
| type   | 'gauge' |
+--------+--------------------------------------------------------------------+


# 举例Showcase

## 数据准备Data Preparation

下面是一个虚构数据集。

```{r}
data = data.frame(x=rep(c('KR/min', 'Kph'), 2), y=c(6.3, 54, 7.5, 82), 
                  z=c(rep('t1', 2), rep('t2', 2)))
knitr::kable(data)
```

## 单个仪表盘Single Gauge

```{r}
echartr(data, x, y, type='gauge')
```

## 多个仪表盘Multiple Gauges

```{r}
echartr(data, x, y, x, type='gauge')
```

## 带时间轴With Timeline


```{r}
echartr(data, x, y, x, z=z, type='gauge')
```

# 其他设置Futher Setup

接下来可以配置控件、添加标注点/标注线，以及美化成图。

参考相关函数，尽情探索吧。

